<html>
<head>
<title>hvigor-wrapper.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #aa7dfc;}
.s1 { color: #e2da90;}
.s2 { color: #a9b7c6;}
.s3 { color: #db7e9b;}
.s4 { color: #faa23d;}
.s5 { color: #b3e54c;}
.s6 { color: #808080;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
hvigor-wrapper.js</font>
</center></td></tr></table>
<pre><span class="s0">&quot;use strict&quot;</span><span class="s1">;</span><span class="s2">var e</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;fs&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;path&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;os&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;crypto&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;child_process&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;constants&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;stream&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;util&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;assert&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">a</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;tty&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">l</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;zlib&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">f</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;net&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">function d</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;default&quot;</span><span class="s2">in e</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s4">{</span><span class="s2">default</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}}</span><span class="s2">var D</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">p</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">E</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">m</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">h</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">y</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">C</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">,</span><span class="s2">F</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">,</span><span class="s2">g</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">c</span><span class="s3">)</span><span class="s1">,</span><span class="s2">A</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">a</span><span class="s3">)</span><span class="s1">,</span><span class="s2">v</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">l</span><span class="s3">)</span><span class="s1">,</span><span class="s2">S</span><span class="s1">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">f</span><span class="s3">)</span><span class="s1">,</span><span class="s2">w</span><span class="s1">=</span><span class="s0">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s2">typeof globalThis</span><span class="s1">?</span><span class="s2">globalThis</span><span class="s1">:</span><span class="s0">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s2">typeof window</span><span class="s1">?</span><span class="s2">window</span><span class="s1">:</span><span class="s0">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s2">typeof global</span><span class="s1">?</span><span class="s2">global</span><span class="s1">:</span><span class="s0">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s2">typeof self</span><span class="s1">?</span><span class="s2">self</span><span class="s1">:</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">O</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">b</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">_</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">B</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importDefault</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s4">{</span><span class="s2">default</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">_</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">_</span><span class="s1">.</span><span class="s2">isMac</span><span class="s1">=</span><span class="s2">_</span><span class="s1">.</span><span class="s2">isLinux</span><span class="s1">=</span><span class="s2">_</span><span class="s1">.</span><span class="s2">isWindows</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const P</span><span class="s1">=</span><span class="s2">B</span><span class="s3">(</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">k</span><span class="s1">=</span><span class="s0">&quot;Windows_NT&quot;</span><span class="s1">,</span><span class="s2">x</span><span class="s1">=</span><span class="s0">&quot;Linux&quot;</span><span class="s1">,</span><span class="s2">N</span><span class="s1">=</span><span class="s0">&quot;Darwin&quot;</span><span class="s1">;</span><span class="s2">_</span><span class="s1">.</span><span class="s2">isWindows</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return P</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">type</span><span class="s3">()</span><span class="s1">===</span><span class="s2">k</span><span class="s4">}</span><span class="s1">,</span><span class="s2">_</span><span class="s1">.</span><span class="s2">isLinux</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return P</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">type</span><span class="s3">()</span><span class="s1">===</span><span class="s2">x</span><span class="s4">}</span><span class="s1">,</span><span class="s2">_</span><span class="s1">.</span><span class="s2">isMac</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return P</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">type</span><span class="s3">()</span><span class="s1">===</span><span class="s2">N</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var I</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">T</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__createBinding</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s1">&amp;&amp;!</span><span class="s3">(</span><span class="s0">&quot;get&quot;</span><span class="s2">in u</span><span class="s1">?!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">writable</span><span class="s1">||</span><span class="s2">u</span><span class="s1">.</span><span class="s2">configurable</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">R</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__setModuleDefault</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;default&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">value</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">default</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">M</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importStar</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">var t</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">null</span><span class="s1">!=</span><span class="s2">e</span><span class="s3">)</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var n in e</span><span class="s3">)</span><span class="s0">&quot;default&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">T</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return R</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">I</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">I</span><span class="s1">.</span><span class="s2">hash</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const L</span><span class="s1">=</span><span class="s2">M</span><span class="s3">(</span><span class="s2">m</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">;</span><span class="s2">I</span><span class="s1">.</span><span class="s2">hash</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s0">&quot;md5&quot;</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return L</span><span class="s1">.</span><span class="s2">createHash</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">.</span><span class="s2">update</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;utf-8&quot;</span><span class="s3">)</span><span class="s1">.</span><span class="s2">digest</span><span class="s3">(</span><span class="s0">&quot;hex&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var t</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__createBinding</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s1">&amp;&amp;!</span><span class="s3">(</span><span class="s0">&quot;get&quot;</span><span class="s2">in u</span><span class="s1">?!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">writable</span><span class="s1">||</span><span class="s2">u</span><span class="s1">.</span><span class="s2">configurable</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__setModuleDefault</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;default&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">value</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">default</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importStar</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">var r</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">null</span><span class="s1">!=</span><span class="s2">e</span><span class="s3">)</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var u in e</span><span class="s3">)</span><span class="s0">&quot;default&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s4">}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_BOOT_JS_FILE_PATH</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCY_PACKAGE_JSON_PATH</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_WRAPPER_HOME</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_NAME</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_ROOT_DIR</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_CACHES_HOME</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PNPM_STORE_PATH</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_PNPM_SCRIPT_PATH</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_TOOLS_HOME</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_USER_HOME</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">DEFAULT_PACKAGE_JSON</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">DEFAULT_HVIGOR_CONFIG_JSON_FILE_NAME</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">PNPM</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">NPM_TOOL</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">PNPM_TOOL</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_ENGINE_PACKAGE_NAME</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">r</span><span class="s3">(</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">r</span><span class="s3">(</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">_</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">I</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_ENGINE_PACKAGE_NAME</span><span class="s1">=</span><span class="s0">&quot;@ohos/hvigor&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">PNPM_TOOL</span><span class="s1">=</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isWindows</span><span class="s3">)()</span><span class="s1">?</span><span class="s0">&quot;pnpm.cmd&quot;</span><span class="s1">:</span><span class="s0">&quot;pnpm&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">NPM_TOOL</span><span class="s1">=</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isWindows</span><span class="s3">)()</span><span class="s1">?</span><span class="s0">&quot;npm.cmd&quot;</span><span class="s1">:</span><span class="s0">&quot;npm&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR</span><span class="s1">=</span><span class="s0">&quot;hvigor&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">PNPM</span><span class="s1">=</span><span class="s0">&quot;pnpm&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">DEFAULT_HVIGOR_CONFIG_JSON_FILE_NAME</span><span class="s1">=</span><span class="s0">&quot;hvigor-config.json5&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">DEFAULT_PACKAGE_JSON</span><span class="s1">=</span><span class="s0">&quot;package.json&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_USER_HOME</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">homedir</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;.hvigor&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_TOOLS_HOME</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_USER_HOME</span><span class="s1">,</span><span class="s0">&quot;wrapper&quot;</span><span class="s1">,</span><span class="s0">&quot;tools&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_PNPM_SCRIPT_PATH</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_TOOLS_HOME</span><span class="s1">,</span><span class="s0">&quot;node_modules&quot;</span><span class="s1">,</span><span class="s0">&quot;.bin&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">PNPM_TOOL</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PNPM_STORE_PATH</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_USER_HOME</span><span class="s1">,</span><span class="s0">&quot;caches&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_CACHES_HOME</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_USER_HOME</span><span class="s1">,</span><span class="s0">&quot;project_caches&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_ROOT_DIR</span><span class="s1">=</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_NAME</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">basename</span><span class="s3">((</span><span class="s5">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">hash</span><span class="s3">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_ROOT_DIR</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_WRAPPER_HOME</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_ROOT_DIR</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_CACHES_HOME</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_NAME</span><span class="s1">,</span><span class="s0">&quot;workspace&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCY_PACKAGE_JSON_PATH</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">DEFAULT_PACKAGE_JSON</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_BOOT_JS_FILE_PATH</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s1">,</span><span class="s0">&quot;node_modules&quot;</span><span class="s1">,</span><span class="s0">&quot;@ohos&quot;</span><span class="s1">,</span><span class="s0">&quot;hvigor&quot;</span><span class="s1">,</span><span class="s0">&quot;bin&quot;</span><span class="s1">,</span><span class="s0">&quot;hvigor.js&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">b</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var j</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">$</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">$</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">$</span><span class="s1">.</span><span class="s2">logInfoPrintConsole</span><span class="s1">=</span><span class="s2">$</span><span class="s1">.</span><span class="s2">logErrorAndExit</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">,</span><span class="s2">$</span><span class="s1">.</span><span class="s2">logErrorAndExit</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e instanceof Error</span><span class="s1">?</span><span class="s2">console</span><span class="s1">.</span><span class="s2">error</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s3">)</span><span class="s1">:</span><span class="s2">console</span><span class="s1">.</span><span class="s2">error</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">process</span><span class="s1">.</span><span class="s2">exit</span><span class="s3">(</span><span class="s1">-</span><span class="s5">1</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">$</span><span class="s1">.</span><span class="s2">logInfoPrintConsole</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">console</span><span class="s1">.</span><span class="s2">log</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var H</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__createBinding</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s1">&amp;&amp;!</span><span class="s3">(</span><span class="s0">&quot;get&quot;</span><span class="s2">in u</span><span class="s1">?!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">writable</span><span class="s1">||</span><span class="s2">u</span><span class="s1">.</span><span class="s2">configurable</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">J</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__setModuleDefault</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;default&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">value</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">default</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">G</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importStar</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">var t</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">null</span><span class="s1">!=</span><span class="s2">e</span><span class="s3">)</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var n in e</span><span class="s3">)</span><span class="s0">&quot;default&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">H</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return J</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}</span><span class="s1">,</span><span class="s2">V</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importDefault</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s4">{</span><span class="s2">default</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">j</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">j</span><span class="s1">.</span><span class="s2">isFileExists</span><span class="s1">=</span><span class="s2">j</span><span class="s1">.</span><span class="s2">offlinePluginConversion</span><span class="s1">=</span><span class="s2">j</span><span class="s1">.</span><span class="s2">executeCommand</span><span class="s1">=</span><span class="s2">j</span><span class="s1">.</span><span class="s2">getNpmPath</span><span class="s1">=</span><span class="s2">j</span><span class="s1">.</span><span class="s2">hasNpmPackInPaths</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const U</span><span class="s1">=</span><span class="s2">h</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">W</span><span class="s1">=</span><span class="s2">G</span><span class="s3">(</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">z</span><span class="s1">=</span><span class="s2">b</span><span class="s1">,</span><span class="s2">K</span><span class="s1">=</span><span class="s2">$</span><span class="s1">,</span><span class="s2">q</span><span class="s1">=</span><span class="s2">V</span><span class="s3">(</span><span class="s2">D</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">;</span><span class="s2">j</span><span class="s1">.</span><span class="s2">hasNpmPackInPaths</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return require</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">paths</span><span class="s1">:</span><span class="s3">[</span><span class="s1">...</span><span class="s2">t</span><span class="s3">]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,!</span><span class="s5">0</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s1">!</span><span class="s5">1</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">j</span><span class="s1">.</span><span class="s2">getNpmPath</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">process</span><span class="s1">.</span><span class="s2">execPath</span><span class="s1">;</span><span class="s2">return W</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">W</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">z</span><span class="s1">.</span><span class="s2">NPM_TOOL</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">j</span><span class="s1">.</span><span class="s2">executeCommand</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s5">0</span><span class="s1">!==</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">U</span><span class="s1">.</span><span class="s2">spawnSync</span><span class="s3">)(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">.</span><span class="s2">status</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">K</span><span class="s1">.</span><span class="s2">logErrorAndExit</span><span class="s3">)(</span><span class="s0">`Error: </span><span class="s4">${</span><span class="s2">e</span><span class="s4">} ${</span><span class="s2">t</span><span class="s4">} </span><span class="s0">execute failed.See above for details.`</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">j</span><span class="s1">.</span><span class="s2">offlinePluginConversion</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">startsWith</span><span class="s3">(</span><span class="s0">&quot;file:&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">endsWith</span><span class="s3">(</span><span class="s0">&quot;.tgz&quot;</span><span class="s3">)</span><span class="s1">?</span><span class="s2">W</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">z</span><span class="s1">.</span><span class="s2">HVIGOR</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;file:&quot;</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">))</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s1">,</span><span class="s2">j</span><span class="s1">.</span><span class="s2">isFileExists</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return q</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">q</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">isFile</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var t</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__createBinding</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s1">&amp;&amp;!</span><span class="s3">(</span><span class="s0">&quot;get&quot;</span><span class="s2">in u</span><span class="s1">?!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">writable</span><span class="s1">||</span><span class="s2">u</span><span class="s1">.</span><span class="s2">configurable</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__setModuleDefault</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;default&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">value</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">default</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importStar</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">var r</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">null</span><span class="s1">!=</span><span class="s2">e</span><span class="s3">)</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var u in e</span><span class="s3">)</span><span class="s0">&quot;default&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s4">}</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importDefault</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s4">{</span><span class="s2">default</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">executeInstallPnpm</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">isPnpmAvailable</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">environmentHandler</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">checkNpmConifg</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">PNPM_VERSION</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">r</span><span class="s3">(</span><span class="s2">D</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">b</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">j</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=</span><span class="s2">r</span><span class="s3">(</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">a</span><span class="s1">=</span><span class="s2">$</span><span class="s1">,</span><span class="s2">l</span><span class="s1">=</span><span class="s2">h</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">f</span><span class="s1">=</span><span class="s2">u</span><span class="s3">(</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">PNPM_VERSION</span><span class="s1">=</span><span class="s0">&quot;7.30.0&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">checkNpmConifg</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_ROOT_DIR</span><span class="s1">,</span><span class="s0">&quot;.npmrc&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">f</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">homedir</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;.npmrc&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">((</span><span class="s5">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">isFileExists</span><span class="s3">)(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">isFileExists</span><span class="s3">)(</span><span class="s2">t</span><span class="s3">))</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getNpmPath</span><span class="s3">)()</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">l</span><span class="s1">.</span><span class="s2">spawnSync</span><span class="s3">)(</span><span class="s2">n</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;config&quot;</span><span class="s1">,</span><span class="s0">&quot;get&quot;</span><span class="s1">,</span><span class="s0">&quot;prefix&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s4">{</span><span class="s2">cwd</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_ROOT_DIR</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s5">0</span><span class="s1">!==</span><span class="s2">r</span><span class="s1">.</span><span class="s2">status</span><span class="s1">||!</span><span class="s2">r</span><span class="s1">.</span><span class="s2">stdout</span><span class="s3">)</span><span class="s2">return void</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">logErrorAndExit</span><span class="s3">)(</span><span class="s0">&quot;Error: The hvigor depends on the npmrc file. Configure the npmrc file first.&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s0">`</span><span class="s4">${</span><span class="s2">r</span><span class="s1">.</span><span class="s2">stdout</span><span class="s4">}</span><span class="s0">`</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/[\r\n]/gi</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;.npmrc&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">isFileExists</span><span class="s3">)(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">logErrorAndExit</span><span class="s3">)(</span><span class="s0">&quot;Error: The hvigor depends on the npmrc file. Configure the npmrc file first.&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">environmentHandler</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s3">[</span><span class="s0">&quot;npm_config_update-notifier&quot;</span><span class="s3">]</span><span class="s1">=</span><span class="s0">&quot;false&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">isPnpmAvailable</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return</span><span class="s1">!!</span><span class="s2">o</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_PNPM_SCRIPT_PATH</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">hasNpmPackInPaths</span><span class="s3">)(</span><span class="s0">&quot;pnpm&quot;</span><span class="s1">,</span><span class="s3">[</span><span class="s2">i</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_TOOLS_HOME</span><span class="s3">])</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">executeInstallPnpm</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">logInfoPrintConsole</span><span class="s3">)(</span><span class="s0">`Installing pnpm@</span><span class="s4">${</span><span class="s2">e</span><span class="s1">.</span><span class="s2">PNPM_VERSION</span><span class="s4">}</span><span class="s0">...`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const t</span><span class="s1">=</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getNpmPath</span><span class="s3">)()</span><span class="s1">;!</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_TOOLS_HOME</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">DEFAULT_PACKAGE_JSON</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_TOOLS_HOME</span><span class="s3">)</span><span class="s1">||</span><span class="s2">o</span><span class="s1">.</span><span class="s2">mkdirSync</span><span class="s3">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_TOOLS_HOME</span><span class="s1">,</span><span class="s4">{</span><span class="s2">recursive</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s4">{</span><span class="s2">dependencies</span><span class="s1">:</span><span class="s4">{}}</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">dependencies</span><span class="s3">[</span><span class="s2">i</span><span class="s1">.</span><span class="s2">PNPM</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">PNPM_VERSION</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">n</span><span class="s3">))</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">logErrorAndExit</span><span class="s3">)(</span><span class="s0">`Error: EPERM: operation not permitted,create </span><span class="s4">${</span><span class="s2">t</span><span class="s4">} </span><span class="s0">failed.`</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">()</span><span class="s1">,</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">executeCommand</span><span class="s3">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;install&quot;</span><span class="s1">,</span><span class="s0">&quot;pnpm&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s4">{</span><span class="s2">cwd</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_TOOLS_HOME</span><span class="s1">,</span><span class="s2">stdio</span><span class="s1">:</span><span class="s3">[</span><span class="s0">&quot;inherit&quot;</span><span class="s1">,</span><span class="s0">&quot;inherit&quot;</span><span class="s1">,</span><span class="s0">&quot;inherit&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s2">env</span><span class="s1">:</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">logInfoPrintConsole</span><span class="s3">)(</span><span class="s0">&quot;Pnpm install success.&quot;</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">O</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var Y</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">X</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">Z</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">Q</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">Q</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Q</span><span class="s1">.</span><span class="s2">Unicode</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">class ee</span><span class="s4">{}</span><span class="s2">Q</span><span class="s1">.</span><span class="s2">Unicode</span><span class="s1">=</span><span class="s2">ee</span><span class="s1">,</span><span class="s2">ee</span><span class="s1">.</span><span class="s2">Space_Separator</span><span class="s1">=</span><span class="s0">/[\u1680\u2000-\u200A\u202F\u205F\u3000]/</span><span class="s1">,</span><span class="s2">ee</span><span class="s1">.</span><span class="s2">ID_Start</span><span class="s1">=</span><span class="s0">/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/</span><span class="s1">,</span><span class="s2">ee</span><span class="s1">.</span><span class="s2">ID_Continue</span><span class="s1">=</span><span class="s0">/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">Z</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Z</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const te</span><span class="s1">=</span><span class="s2">Q</span><span class="s1">;</span><span class="s2">Z</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">=</span><span class="s2">class</span><span class="s4">{</span><span class="s2">static isIgnoreChar</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s0">&quot;\t&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;\v&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;\f&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot; &quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot; &quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;\ufeff&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;\n&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;\r&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;\u2028&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;\u2029&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">static isSpaceSeparator</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s2">te</span><span class="s1">.</span><span class="s2">Unicode</span><span class="s1">.</span><span class="s2">Space_Separator</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">static isIdStartChar</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&gt;=</span><span class="s0">&quot;a&quot;</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">&lt;=</span><span class="s0">&quot;z&quot;</span><span class="s1">||</span><span class="s2">e</span><span class="s1">&gt;=</span><span class="s0">&quot;A&quot;</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">&lt;=</span><span class="s0">&quot;Z&quot;</span><span class="s1">||</span><span class="s0">&quot;$&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;_&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s2">te</span><span class="s1">.</span><span class="s2">Unicode</span><span class="s1">.</span><span class="s2">ID_Start</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s4">}</span><span class="s2">static isIdContinueChar</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&gt;=</span><span class="s0">&quot;a&quot;</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">&lt;=</span><span class="s0">&quot;z&quot;</span><span class="s1">||</span><span class="s2">e</span><span class="s1">&gt;=</span><span class="s0">&quot;A&quot;</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">&lt;=</span><span class="s0">&quot;Z&quot;</span><span class="s1">||</span><span class="s2">e</span><span class="s1">&gt;=</span><span class="s0">&quot;0&quot;</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">&lt;=</span><span class="s0">&quot;9&quot;</span><span class="s1">||</span><span class="s0">&quot;$&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;_&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;‌&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;‍&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s2">te</span><span class="s1">.</span><span class="s2">Unicode</span><span class="s1">.</span><span class="s2">ID_Continue</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s4">}</span><span class="s2">static isDigitWithoutZero</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">/[1-9]/</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">static isDigit</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s0">/[0-9]/</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">static isHexDigit</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s0">/[0-9A-Fa-f]/</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">var ne</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">re</span><span class="s1">=</span><span class="s4">{</span><span class="s2">fromCallback</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s1">...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof t</span><span class="s3">[</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">])</span><span class="s2">return new Promise</span><span class="s3">(((</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,...</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">null</span><span class="s1">!=</span><span class="s2">e</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;name&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">fromPromise</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s1">...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">t</span><span class="s3">[</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">]</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof n</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,-</span><span class="s5">1</span><span class="s3">))</span><span class="s1">.</span><span class="s2">then</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;name&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">ue</span><span class="s1">=</span><span class="s2">y</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">oe</span><span class="s1">=</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s1">,</span><span class="s2">ie</span><span class="s1">=</span><span class="s2">null</span><span class="s1">,</span><span class="s2">se</span><span class="s1">=</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s1">.</span><span class="s2">GRACEFUL_FS_PLATFORM</span><span class="s1">||</span><span class="s2">process</span><span class="s1">.</span><span class="s2">platform</span><span class="s1">;</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return ie</span><span class="s1">||</span><span class="s3">(</span><span class="s2">ie</span><span class="s1">=</span><span class="s2">oe</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">process</span><span class="s3">))</span><span class="s1">,</span><span class="s2">ie</span><span class="s4">}</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{}</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof process</span><span class="s1">.</span><span class="s2">chdir</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var ce</span><span class="s1">=</span><span class="s2">process</span><span class="s1">.</span><span class="s2">chdir</span><span class="s1">;</span><span class="s2">process</span><span class="s1">.</span><span class="s2">chdir</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">ie</span><span class="s1">=</span><span class="s2">null</span><span class="s1">,</span><span class="s2">ce</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">process</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">setPrototypeOf</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">setPrototypeOf</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">chdir</span><span class="s1">,</span><span class="s2">ce</span><span class="s3">)</span><span class="s4">}</span><span class="s2">var ae</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">ue</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s3">(</span><span class="s0">&quot;O_SYMLINK&quot;</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">process</span><span class="s1">.</span><span class="s2">version</span><span class="s1">.</span><span class="s2">match</span><span class="s3">(</span><span class="s0">/^v0\.6\.[0-2]|^v0\.5\./</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchmod</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">open</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">ue</span><span class="s1">.</span><span class="s2">O_WRONLY</span><span class="s1">|</span><span class="s2">ue</span><span class="s1">.</span><span class="s2">O_SYMLINK</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">?</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fchmod</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">close</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s3">(</span><span class="s2">t</span><span class="s1">||</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchmodSync</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">openSync</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">ue</span><span class="s1">.</span><span class="s2">O_WRONLY</span><span class="s1">|</span><span class="s2">ue</span><span class="s1">.</span><span class="s2">O_SYMLINK</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fchmodSync</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=!</span><span class="s5">1</span><span class="s4">}</span><span class="s2">finally</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s2">try</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{}</span><span class="s2">else e</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return r</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lutimes</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">ue</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s3">(</span><span class="s0">&quot;O_SYMLINK&quot;</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">futimes</span><span class="s1">?</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lutimes</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">open</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">ue</span><span class="s1">.</span><span class="s2">O_SYMLINK</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">?</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">futimes</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">close</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s1">||</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lutimesSync</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">openSync</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">ue</span><span class="s1">.</span><span class="s2">O_SYMLINK</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">u</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">futimesSync</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=!</span><span class="s5">1</span><span class="s4">}</span><span class="s2">finally</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s2">try</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{}</span><span class="s2">else e</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return u</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">futimes</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lutimes</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">process</span><span class="s1">.</span><span class="s2">nextTick</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lutimesSync</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">chown</span><span class="s1">=</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">chown</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fchown</span><span class="s1">=</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fchown</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchown</span><span class="s1">=</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchown</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">chmod</span><span class="s1">=</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">chmod</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fchmod</span><span class="s1">=</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fchmod</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchmod</span><span class="s1">=</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchmod</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">chownSync</span><span class="s1">=</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">chownSync</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fchownSync</span><span class="s1">=</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fchownSync</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchownSync</span><span class="s1">=</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchownSync</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">chmodSync</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">chmodSync</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fchmodSync</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fchmodSync</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchmodSync</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchmodSync</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stat</span><span class="s1">=</span><span class="s2">o</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fstat</span><span class="s1">=</span><span class="s2">o</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fstat</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lstat</span><span class="s1">=</span><span class="s2">o</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">statSync</span><span class="s1">=</span><span class="s2">i</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fstatSync</span><span class="s1">=</span><span class="s2">i</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fstatSync</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s1">=</span><span class="s2">i</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">chmod</span><span class="s1">&amp;&amp;!</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchmod</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchmod</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">process</span><span class="s1">.</span><span class="s2">nextTick</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchmodSync</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">chown</span><span class="s1">&amp;&amp;!</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchown</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchown</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">process</span><span class="s1">.</span><span class="s2">nextTick</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lchownSync</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">;</span><span class="s0">&quot;win32&quot;</span><span class="s1">===</span><span class="s2">se</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rename</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof e</span><span class="s1">.</span><span class="s2">rename</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rename</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function n</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var o</span><span class="s1">=</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">t</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function s</span><span class="s3">(</span><span class="s2">c</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">c</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s0">&quot;EACCES&quot;</span><span class="s1">===</span><span class="s2">c</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">c</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;EBUSY&quot;</span><span class="s1">===</span><span class="s2">c</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">-</span><span class="s2">o</span><span class="s1">&lt;</span><span class="s5">6e4</span><span class="s3">)</span><span class="s2">return setTimeout</span><span class="s3">((</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">t</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">s</span><span class="s3">)</span><span class="s1">:</span><span class="s2">u</span><span class="s3">(</span><span class="s2">c</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">i</span><span class="s1">&lt;</span><span class="s5">100</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">i</span><span class="s1">+=</span><span class="s5">10</span><span class="s3">))</span><span class="s1">;</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s3">(</span><span class="s2">c</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return Object</span><span class="s1">.</span><span class="s2">setPrototypeOf</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">setPrototypeOf</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rename</span><span class="s3">))</span><span class="s1">;</span><span class="s2">function t</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s2">function n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">throw e</span><span class="s4">}}</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s2">function r</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s2">function u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">throw e</span><span class="s4">}}</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s2">function o</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function o</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">uid</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">uid</span><span class="s1">+=</span><span class="s5">4294967296</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">gid</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">gid</span><span class="s1">+=</span><span class="s5">4294967296</span><span class="s3">))</span><span class="s1">,</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s2">function i</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return u</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">uid</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">uid</span><span class="s1">+=</span><span class="s5">4294967296</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">gid</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">gid</span><span class="s1">+=</span><span class="s5">4294967296</span><span class="s3">))</span><span class="s1">,</span><span class="s2">u</span><span class="s4">}</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s2">function s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s1">!</span><span class="s2">e</span><span class="s1">||</span><span class="s3">(</span><span class="s0">&quot;ENOSYS&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||!</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">getuid</span><span class="s1">&amp;&amp;</span><span class="s5">0</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">getuid</span><span class="s3">()</span><span class="s1">||</span><span class="s0">&quot;EINVAL&quot;</span><span class="s1">!==</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">!==</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">))</span><span class="s4">}</span><span class="s2">e</span><span class="s1">.</span><span class="s2">read</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof e</span><span class="s1">.</span><span class="s2">read</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">read</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function n</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var c</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">s</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof s</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var a</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">c</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">l</span><span class="s1">,</span><span class="s2">f</span><span class="s1">,</span><span class="s2">d</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">l</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;EAGAIN&quot;</span><span class="s1">===</span><span class="s2">l</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s2">a</span><span class="s1">&lt;</span><span class="s5">10</span><span class="s3">)</span><span class="s2">return a</span><span class="s1">++,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">c</span><span class="s3">)</span><span class="s1">;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">c</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return Object</span><span class="s1">.</span><span class="s2">setPrototypeOf</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">setPrototypeOf</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">read</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">readSync</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof e</span><span class="s1">.</span><span class="s2">readSync</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">readSync</span><span class="s1">:</span><span class="s3">(</span><span class="s2">c</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">readSync</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var i</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;;</span><span class="s3">)</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return c</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EAGAIN&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s2">i</span><span class="s1">&lt;</span><span class="s5">10</span><span class="s3">)</span><span class="s4">{</span><span class="s2">i</span><span class="s1">++;</span><span class="s2">continue</span><span class="s4">}</span><span class="s2">throw e</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var c</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var le</span><span class="s1">=</span><span class="s2">C</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">Stream</span><span class="s1">,</span><span class="s2">fe</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s4">{</span><span class="s2">ReadStream</span><span class="s1">:</span><span class="s2">function t</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s3">(</span><span class="s2">this instanceof t</span><span class="s3">))</span><span class="s2">return new t</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">le</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">this</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">this</span><span class="s1">;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">path</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fd</span><span class="s1">=</span><span class="s2">null</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">readable</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">paused</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">flags</span><span class="s1">=</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">=</span><span class="s5">438</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">bufferSize</span><span class="s1">=</span><span class="s5">65536</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var o</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">i</span><span class="s1">&lt;</span><span class="s2">s</span><span class="s1">;</span><span class="s2">i</span><span class="s1">++</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var c</span><span class="s1">=</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">;</span><span class="s2">this</span><span class="s3">[</span><span class="s2">c</span><span class="s3">]</span><span class="s1">=</span><span class="s2">r</span><span class="s3">[</span><span class="s2">c</span><span class="s3">]</span><span class="s4">}</span><span class="s2">this</span><span class="s1">.</span><span class="s2">encoding</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">setEncoding</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">encoding</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">void </span><span class="s5">0</span><span class="s1">!==</span><span class="s2">this</span><span class="s1">.</span><span class="s2">start</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;number&quot;</span><span class="s1">!=</span><span class="s2">typeof this</span><span class="s1">.</span><span class="s2">start</span><span class="s3">)</span><span class="s2">throw TypeError</span><span class="s3">(</span><span class="s0">&quot;start must be a Number&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">this</span><span class="s1">.</span><span class="s2">end</span><span class="s3">)</span><span class="s2">this</span><span class="s1">.</span><span class="s2">end</span><span class="s1">=</span><span class="s5">1</span><span class="s1">/</span><span class="s5">0</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s0">&quot;number&quot;</span><span class="s1">!=</span><span class="s2">typeof this</span><span class="s1">.</span><span class="s2">end</span><span class="s3">)</span><span class="s2">throw TypeError</span><span class="s3">(</span><span class="s0">&quot;end must be a Number&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">start</span><span class="s1">&gt;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">end</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;start must be &lt;= end&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">pos</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">start</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">null</span><span class="s1">!==</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fd</span><span class="s3">)</span><span class="s2">return void process</span><span class="s1">.</span><span class="s2">nextTick</span><span class="s3">((</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">u</span><span class="s1">.</span><span class="s2">_read</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">open</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">path</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">flags</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return u</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">readable</span><span class="s1">=!</span><span class="s5">1</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">fd</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;open&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">_read</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">WriteStream</span><span class="s1">:</span><span class="s2">function t</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s3">(</span><span class="s2">this instanceof t</span><span class="s3">))</span><span class="s2">return new t</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">le</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">this</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">path</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fd</span><span class="s1">=</span><span class="s2">null</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">writable</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">flags</span><span class="s1">=</span><span class="s0">&quot;w&quot;</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">encoding</span><span class="s1">=</span><span class="s0">&quot;binary&quot;</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">=</span><span class="s5">438</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">bytesWritten</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">o</span><span class="s1">&lt;</span><span class="s2">i</span><span class="s1">;</span><span class="s2">o</span><span class="s1">++</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var s</span><span class="s1">=</span><span class="s2">u</span><span class="s3">[</span><span class="s2">o</span><span class="s3">]</span><span class="s1">;</span><span class="s2">this</span><span class="s3">[</span><span class="s2">s</span><span class="s3">]</span><span class="s1">=</span><span class="s2">r</span><span class="s3">[</span><span class="s2">s</span><span class="s3">]</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">void </span><span class="s5">0</span><span class="s1">!==</span><span class="s2">this</span><span class="s1">.</span><span class="s2">start</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;number&quot;</span><span class="s1">!=</span><span class="s2">typeof this</span><span class="s1">.</span><span class="s2">start</span><span class="s3">)</span><span class="s2">throw TypeError</span><span class="s3">(</span><span class="s0">&quot;start must be a Number&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">start</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;start must be &gt;= zero&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">pos</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">start</span><span class="s4">}</span><span class="s2">this</span><span class="s1">.</span><span class="s2">busy</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_queue</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">null</span><span class="s1">===</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fd</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_open</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">open</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_queue</span><span class="s1">.</span><span class="s2">push</span><span class="s3">([</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_open</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">path</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">flags</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s2">void </span><span class="s5">0</span><span class="s3">])</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">flush</span><span class="s3">())</span><span class="s4">}}}</span><span class="s1">;</span><span class="s2">var de</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">null</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof e</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e instanceof Object</span><span class="s3">)</span><span class="s2">var t</span><span class="s1">=</span><span class="s4">{</span><span class="s2">__proto__</span><span class="s1">:</span><span class="s2">De</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">else t</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Object</span><span class="s1">.</span><span class="s2">getOwnPropertyNames</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}</span><span class="s1">,</span><span class="s2">De</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getPrototypeOf</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">__proto__</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var pe</span><span class="s1">,</span><span class="s2">Ee</span><span class="s1">,</span><span class="s2">me</span><span class="s1">=</span><span class="s2">D</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">he</span><span class="s1">=</span><span class="s2">ae</span><span class="s1">,</span><span class="s2">ye</span><span class="s1">=</span><span class="s2">fe</span><span class="s1">,</span><span class="s2">Ce</span><span class="s1">=</span><span class="s2">de</span><span class="s1">,</span><span class="s2">Fe</span><span class="s1">=</span><span class="s2">F</span><span class="s1">.</span><span class="s2">default</span><span class="s1">;</span><span class="s2">function ge</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">pe</span><span class="s1">,</span><span class="s4">{</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return t</span><span class="s4">}}</span><span class="s3">)</span><span class="s4">}</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof Symbol</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof Symbol</span><span class="s1">.</span><span class="s2">for</span><span class="s1">?</span><span class="s3">(</span><span class="s2">pe</span><span class="s1">=</span><span class="s2">Symbol</span><span class="s1">.</span><span class="s2">for</span><span class="s3">(</span><span class="s0">&quot;graceful-fs.queue&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ee</span><span class="s1">=</span><span class="s2">Symbol</span><span class="s1">.</span><span class="s2">for</span><span class="s3">(</span><span class="s0">&quot;graceful-fs.previous&quot;</span><span class="s3">))</span><span class="s1">:</span><span class="s3">(</span><span class="s2">pe</span><span class="s1">=</span><span class="s0">&quot;___graceful-fs.queue&quot;</span><span class="s1">,</span><span class="s2">Ee</span><span class="s1">=</span><span class="s0">&quot;___graceful-fs.previous&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var Ae</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Fe</span><span class="s1">.</span><span class="s2">debuglog</span><span class="s1">?</span><span class="s2">Ae</span><span class="s1">=</span><span class="s2">Fe</span><span class="s1">.</span><span class="s2">debuglog</span><span class="s3">(</span><span class="s0">&quot;gfs4&quot;</span><span class="s3">)</span><span class="s1">:</span><span class="s0">/\bgfs4\b/i</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s1">.</span><span class="s2">NODE_DEBUG</span><span class="s1">||</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">Ae</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">var e</span><span class="s1">=</span><span class="s2">Fe</span><span class="s1">.</span><span class="s2">format</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">Fe</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s0">&quot;GFS4: &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s0">/\n/</span><span class="s3">)</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot;\nGFS4: &quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">console</span><span class="s1">.</span><span class="s2">error</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,!</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">])</span><span class="s4">{</span><span class="s2">var ve</span><span class="s1">=</span><span class="s2">w</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">]</span><span class="s1">||</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">ge</span><span class="s3">(</span><span class="s2">me</span><span class="s1">,</span><span class="s2">ve</span><span class="s3">)</span><span class="s1">,</span><span class="s2">me</span><span class="s1">.</span><span class="s2">close</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function t</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">me</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">||</span><span class="s2">_e</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">Ee</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}</span><span class="s3">(</span><span class="s2">me</span><span class="s1">.</span><span class="s2">close</span><span class="s3">)</span><span class="s1">,</span><span class="s2">me</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function t</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">me</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">,</span><span class="s2">_e</span><span class="s3">()</span><span class="s4">}</span><span class="s2">return Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">Ee</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}</span><span class="s3">(</span><span class="s2">me</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s3">)</span><span class="s1">,</span><span class="s0">/\bgfs4\b/i</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s1">.</span><span class="s2">NODE_DEBUG</span><span class="s1">||</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">process</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;exit&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">Ae</span><span class="s3">(</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">])</span><span class="s1">,</span><span class="s2">g</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">equal</span><span class="s3">(</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">]</span><span class="s1">.</span><span class="s2">length</span><span class="s1">,</span><span class="s5">0</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">w</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">]</span><span class="s1">||</span><span class="s2">ge</span><span class="s3">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">])</span><span class="s1">;</span><span class="s2">var Se</span><span class="s1">,</span><span class="s2">we</span><span class="s1">=</span><span class="s2">Oe</span><span class="s3">(</span><span class="s2">Ce</span><span class="s3">(</span><span class="s2">me</span><span class="s3">))</span><span class="s1">;</span><span class="s2">function Oe</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">he</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">gracefulify</span><span class="s1">=</span><span class="s2">Oe</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">createReadStream</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return new e</span><span class="s1">.</span><span class="s2">ReadStream</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">createWriteStream</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return new e</span><span class="s1">.</span><span class="s2">WriteStream</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">readFile</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">readFile</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function e</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s1">!</span><span class="s2">t</span><span class="s1">||</span><span class="s0">&quot;EMFILE&quot;</span><span class="s1">!==</span><span class="s2">t</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENFILE&quot;</span><span class="s1">!==</span><span class="s2">t</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof u</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">:</span><span class="s2">be</span><span class="s3">([</span><span class="s2">e</span><span class="s1">,</span><span class="s3">[</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">]</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s1">||</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()])</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s1">!</span><span class="s2">n</span><span class="s1">||</span><span class="s0">&quot;EMFILE&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENFILE&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof o</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">:</span><span class="s2">be</span><span class="s3">([</span><span class="s2">e</span><span class="s1">,</span><span class="s3">[</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">]</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">i</span><span class="s1">||</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()])</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appendFile</span><span class="s1">;</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appendFile</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s1">!</span><span class="s2">r</span><span class="s1">||</span><span class="s0">&quot;EMFILE&quot;</span><span class="s1">!==</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENFILE&quot;</span><span class="s1">!==</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof o</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">:</span><span class="s2">be</span><span class="s3">([</span><span class="s2">e</span><span class="s1">,</span><span class="s3">[</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">]</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">||</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()])</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">copyFile</span><span class="s1">;</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">copyFile</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s5">0</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return u</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s1">!</span><span class="s2">u</span><span class="s1">||</span><span class="s0">&quot;EMFILE&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENFILE&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof o</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">:</span><span class="s2">be</span><span class="s3">([</span><span class="s2">e</span><span class="s1">,</span><span class="s3">[</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s3">]</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">i</span><span class="s1">||</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()])</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">readdir</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">readdir</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var r</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">version</span><span class="s3">)</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return o</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">))</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return o</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">))</span><span class="s4">}</span><span class="s1">;</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">function u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s4">{</span><span class="s1">!</span><span class="s2">o</span><span class="s1">||</span><span class="s0">&quot;EMFILE&quot;</span><span class="s1">!==</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENFILE&quot;</span><span class="s1">!==</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s3">(</span><span class="s2">i</span><span class="s1">&amp;&amp;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">sort</span><span class="s1">&amp;&amp;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">sort</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">))</span><span class="s1">:</span><span class="s2">be</span><span class="s3">([</span><span class="s2">r</span><span class="s1">,</span><span class="s3">[</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">]</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">u</span><span class="s1">||</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()])</span><span class="s4">}}}</span><span class="s1">;</span><span class="s2">var i</span><span class="s1">=</span><span class="s0">/^v[0-5]\./</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;v0.8&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">version</span><span class="s1">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">4</span><span class="s3">))</span><span class="s4">{</span><span class="s2">var s</span><span class="s1">=</span><span class="s2">ye</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">d</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">ReadStream</span><span class="s1">,</span><span class="s2">D</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">WriteStream</span><span class="s4">}</span><span class="s2">var c</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ReadStream</span><span class="s1">;</span><span class="s2">c</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">d</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s3">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">prototype</span><span class="s3">)</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">open</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">var e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">;</span><span class="s2">E</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">path</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">flags</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">?</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">autoClose</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">destroy</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s3">))</span><span class="s1">:</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fd</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;open&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">read</span><span class="s3">())</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">WriteStream</span><span class="s1">;</span><span class="s2">a</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">D</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s3">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">prototype</span><span class="s3">)</span><span class="s1">,</span><span class="s2">D</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">open</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">var e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">;</span><span class="s2">E</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">path</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">flags</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">?</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">destroy</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s3">))</span><span class="s1">:</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fd</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;open&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;ReadStream&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return d</span><span class="s4">}</span><span class="s1">,</span><span class="s2">set</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">d</span><span class="s1">=</span><span class="s2">e</span><span class="s4">}</span><span class="s1">,</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">configurable</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;WriteStream&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return D</span><span class="s4">}</span><span class="s1">,</span><span class="s2">set</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">D</span><span class="s1">=</span><span class="s2">e</span><span class="s4">}</span><span class="s1">,</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">configurable</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var l</span><span class="s1">=</span><span class="s2">d</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;FileReadStream&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return l</span><span class="s4">}</span><span class="s1">,</span><span class="s2">set</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">l</span><span class="s1">=</span><span class="s2">e</span><span class="s4">}</span><span class="s1">,</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">configurable</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var f</span><span class="s1">=</span><span class="s2">D</span><span class="s1">;</span><span class="s2">function d</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return this instanceof d</span><span class="s1">?</span><span class="s3">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s3">)</span><span class="s1">:</span><span class="s2">d</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s3">(</span><span class="s2">d</span><span class="s1">.</span><span class="s2">prototype</span><span class="s3">)</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function D</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return this instanceof D</span><span class="s1">?</span><span class="s3">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s3">)</span><span class="s1">:</span><span class="s2">D</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s3">(</span><span class="s2">D</span><span class="s1">.</span><span class="s2">prototype</span><span class="s3">)</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s4">}</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;FileWriteStream&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return f</span><span class="s4">}</span><span class="s1">,</span><span class="s2">set</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">f</span><span class="s1">=</span><span class="s2">e</span><span class="s4">}</span><span class="s1">,</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">configurable</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var p</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">open</span><span class="s1">;</span><span class="s2">function E</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">,</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return p</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s3">)</span><span class="s4">{</span><span class="s1">!</span><span class="s2">i</span><span class="s1">||</span><span class="s0">&quot;EMFILE&quot;</span><span class="s1">!==</span><span class="s2">i</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENFILE&quot;</span><span class="s1">!==</span><span class="s2">i</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof u</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">:</span><span class="s2">be</span><span class="s3">([</span><span class="s2">e</span><span class="s1">,</span><span class="s3">[</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">]</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s1">||</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()])</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">open</span><span class="s1">=</span><span class="s2">E</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}</span><span class="s2">function be</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Ae</span><span class="s3">(</span><span class="s0">&quot;ENQUEUE&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">.</span><span class="s2">name</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s5">1</span><span class="s3">])</span><span class="s1">,</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">]</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Be</span><span class="s3">()</span><span class="s4">}</span><span class="s2">function _e</span><span class="s3">()</span><span class="s4">{</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var e</span><span class="s1">=</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">t</span><span class="s1">&lt;</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">]</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;++</span><span class="s2">t</span><span class="s3">)</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">][</span><span class="s2">t</span><span class="s3">]</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s5">2</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">][</span><span class="s2">t</span><span class="s3">][</span><span class="s5">3</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">][</span><span class="s2">t</span><span class="s3">][</span><span class="s5">4</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Be</span><span class="s3">()</span><span class="s4">}</span><span class="s2">function Be</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">clearTimeout</span><span class="s3">(</span><span class="s2">Se</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Se</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">!==</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">]</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var e</span><span class="s1">=</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">]</span><span class="s1">.</span><span class="s2">shift</span><span class="s3">()</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s5">1</span><span class="s3">]</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s5">2</span><span class="s3">]</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s5">3</span><span class="s3">]</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s5">4</span><span class="s3">]</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">u</span><span class="s3">)</span><span class="s2">Ae</span><span class="s3">(</span><span class="s0">&quot;RETRY&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">name</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">-</span><span class="s2">u</span><span class="s1">&gt;=</span><span class="s5">6e4</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Ae</span><span class="s3">(</span><span class="s0">&quot;TIMEOUT&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">name</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var i</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">pop</span><span class="s3">()</span><span class="s1">;</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof i</span><span class="s1">&amp;&amp;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s2">else</span><span class="s4">{</span><span class="s2">var s</span><span class="s1">=</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">-</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s3">(</span><span class="s2">o</span><span class="s1">-</span><span class="s2">u</span><span class="s1">,</span><span class="s5">1</span><span class="s3">)</span><span class="s1">;</span><span class="s2">s</span><span class="s1">&gt;=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s3">(</span><span class="s5">1.2</span><span class="s1">*</span><span class="s2">c</span><span class="s1">,</span><span class="s5">100</span><span class="s3">)</span><span class="s1">?</span><span class="s3">(</span><span class="s2">Ae</span><span class="s3">(</span><span class="s0">&quot;RETRY&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">name</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">concat</span><span class="s3">([</span><span class="s2">u</span><span class="s3">])))</span><span class="s1">:</span><span class="s2">me</span><span class="s3">[</span><span class="s2">pe</span><span class="s3">]</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">Se</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">Se</span><span class="s1">=</span><span class="s2">setTimeout</span><span class="s3">(</span><span class="s2">Be</span><span class="s1">,</span><span class="s5">0</span><span class="s3">))</span><span class="s4">}}</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s1">.</span><span class="s2">TEST_GRACEFUL_FS_GLOBAL_PATCH</span><span class="s1">&amp;&amp;!</span><span class="s2">me</span><span class="s1">.</span><span class="s2">__patched</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">we</span><span class="s1">=</span><span class="s2">Oe</span><span class="s3">(</span><span class="s2">me</span><span class="s3">)</span><span class="s1">,</span><span class="s2">me</span><span class="s1">.</span><span class="s2">__patched</span><span class="s1">=!</span><span class="s5">0</span><span class="s3">)</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s3">[</span><span class="s0">&quot;access&quot;</span><span class="s1">,</span><span class="s0">&quot;appendFile&quot;</span><span class="s1">,</span><span class="s0">&quot;chmod&quot;</span><span class="s1">,</span><span class="s0">&quot;chown&quot;</span><span class="s1">,</span><span class="s0">&quot;close&quot;</span><span class="s1">,</span><span class="s0">&quot;copyFile&quot;</span><span class="s1">,</span><span class="s0">&quot;fchmod&quot;</span><span class="s1">,</span><span class="s0">&quot;fchown&quot;</span><span class="s1">,</span><span class="s0">&quot;fdatasync&quot;</span><span class="s1">,</span><span class="s0">&quot;fstat&quot;</span><span class="s1">,</span><span class="s0">&quot;fsync&quot;</span><span class="s1">,</span><span class="s0">&quot;ftruncate&quot;</span><span class="s1">,</span><span class="s0">&quot;futimes&quot;</span><span class="s1">,</span><span class="s0">&quot;lchmod&quot;</span><span class="s1">,</span><span class="s0">&quot;lchown&quot;</span><span class="s1">,</span><span class="s0">&quot;link&quot;</span><span class="s1">,</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;mkdir&quot;</span><span class="s1">,</span><span class="s0">&quot;mkdtemp&quot;</span><span class="s1">,</span><span class="s0">&quot;open&quot;</span><span class="s1">,</span><span class="s0">&quot;opendir&quot;</span><span class="s1">,</span><span class="s0">&quot;readdir&quot;</span><span class="s1">,</span><span class="s0">&quot;readFile&quot;</span><span class="s1">,</span><span class="s0">&quot;readlink&quot;</span><span class="s1">,</span><span class="s0">&quot;realpath&quot;</span><span class="s1">,</span><span class="s0">&quot;rename&quot;</span><span class="s1">,</span><span class="s0">&quot;rm&quot;</span><span class="s1">,</span><span class="s0">&quot;rmdir&quot;</span><span class="s1">,</span><span class="s0">&quot;stat&quot;</span><span class="s1">,</span><span class="s0">&quot;symlink&quot;</span><span class="s1">,</span><span class="s0">&quot;truncate&quot;</span><span class="s1">,</span><span class="s0">&quot;unlink&quot;</span><span class="s1">,</span><span class="s0">&quot;utimes&quot;</span><span class="s1">,</span><span class="s0">&quot;writeFile&quot;</span><span class="s3">]</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]))</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s3">(</span><span class="s2">n</span><span class="s3">[</span><span class="s2">r</span><span class="s3">])</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">realpath</span><span class="s1">.</span><span class="s2">native</span><span class="s1">=</span><span class="s2">t</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">realpath</span><span class="s1">.</span><span class="s2">native</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exists</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">exists</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">new Promise</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">exists</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">read</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof i</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">read</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">:</span><span class="s2">new Promise</span><span class="s3">(((</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">n</span><span class="s1">.</span><span class="s2">read</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">i</span><span class="s3">(</span><span class="s4">{</span><span class="s2">bytesRead</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">buffer</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">write</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof r</span><span class="s3">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">]</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">new Promise</span><span class="s3">(((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">n</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">r</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return o</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s3">(</span><span class="s4">{</span><span class="s2">bytesWritten</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">buffer</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">.</span><span class="s2">writev</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">writev</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof r</span><span class="s3">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">]</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">writev</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">new Promise</span><span class="s3">(((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">n</span><span class="s1">.</span><span class="s2">writev</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">r</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return o</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s3">(</span><span class="s4">{</span><span class="s2">bytesWritten</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">buffers</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">ne</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var Pe</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">ke</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">const xe</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">;</span><span class="s2">ke</span><span class="s1">.</span><span class="s2">checkPath</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;win32&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">platform</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">/[&lt;&gt;:&quot;|?*]/</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">xe</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">root</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)))</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Path contains invalid characters: </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw t</span><span class="s1">.</span><span class="s2">code</span><span class="s1">=</span><span class="s0">&quot;EINVAL&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}}}</span><span class="s1">;</span><span class="s2">const Ne</span><span class="s1">=</span><span class="s2">ne</span><span class="s1">,</span><span class="s4">{</span><span class="s2">checkPath</span><span class="s1">:</span><span class="s2">Ie</span><span class="s4">}</span><span class="s1">=</span><span class="s2">ke</span><span class="s1">,</span><span class="s2">Te</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s0">&quot;number&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s4">{</span><span class="s2">mode</span><span class="s1">:</span><span class="s5">511</span><span class="s1">,...</span><span class="s2">e</span><span class="s4">}</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">;</span><span class="s2">Pe</span><span class="s1">.</span><span class="s2">makeDir</span><span class="s1">=</span><span class="s2">async</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s3">(</span><span class="s2">Ie</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ne</span><span class="s1">.</span><span class="s2">mkdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">Te</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">recursive</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">Pe</span><span class="s1">.</span><span class="s2">makeDirSync</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s3">(</span><span class="s2">Ie</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ne</span><span class="s1">.</span><span class="s2">mkdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">Te</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">recursive</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">const Re</span><span class="s1">=</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromPromise</span><span class="s1">,</span><span class="s4">{</span><span class="s2">makeDir</span><span class="s1">:</span><span class="s2">Me</span><span class="s1">,</span><span class="s2">makeDirSync</span><span class="s1">:</span><span class="s2">Le</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Pe</span><span class="s1">,</span><span class="s2">je</span><span class="s1">=</span><span class="s2">Re</span><span class="s3">(</span><span class="s2">Me</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var $e</span><span class="s1">=</span><span class="s4">{</span><span class="s2">mkdirs</span><span class="s1">:</span><span class="s2">je</span><span class="s1">,</span><span class="s2">mkdirsSync</span><span class="s1">:</span><span class="s2">Le</span><span class="s1">,</span><span class="s2">mkdirp</span><span class="s1">:</span><span class="s2">je</span><span class="s1">,</span><span class="s2">mkdirpSync</span><span class="s1">:</span><span class="s2">Le</span><span class="s1">,</span><span class="s2">ensureDir</span><span class="s1">:</span><span class="s2">je</span><span class="s1">,</span><span class="s2">ensureDirSync</span><span class="s1">:</span><span class="s2">Le</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const He</span><span class="s1">=</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromPromise</span><span class="s1">,</span><span class="s2">Je</span><span class="s1">=</span><span class="s2">ne</span><span class="s1">;</span><span class="s2">var Ge</span><span class="s1">=</span><span class="s4">{</span><span class="s2">pathExists</span><span class="s1">:</span><span class="s2">He</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return Je</span><span class="s1">.</span><span class="s2">access</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">then</span><span class="s3">((()</span><span class="s1">=&gt;!</span><span class="s5">0</span><span class="s3">))</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">((()</span><span class="s1">=&gt;!</span><span class="s5">1</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">pathExistsSync</span><span class="s1">:</span><span class="s2">Je</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Ve</span><span class="s1">=</span><span class="s2">we</span><span class="s1">;</span><span class="s2">var Ue</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Ve</span><span class="s1">.</span><span class="s2">open</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;r+&quot;</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Ve</span><span class="s1">.</span><span class="s2">futimes</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">Ve</span><span class="s1">.</span><span class="s2">close</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">||</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">We</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">Ve</span><span class="s1">.</span><span class="s2">openSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;r+&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Ve</span><span class="s1">.</span><span class="s2">futimesSync</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ve</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const ze</span><span class="s1">=</span><span class="s2">ne</span><span class="s1">,</span><span class="s2">Ke</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">qe</span><span class="s1">=</span><span class="s2">F</span><span class="s1">.</span><span class="s2">default</span><span class="s1">;</span><span class="s2">function Ye</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">?</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">ze</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">ze</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Promise</span><span class="s1">.</span><span class="s2">all</span><span class="s3">([</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return null</span><span class="s1">;</span><span class="s2">throw e</span><span class="s4">}</span><span class="s3">))])</span><span class="s1">.</span><span class="s2">then</span><span class="s3">((([</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">])</span><span class="s1">=&gt;</span><span class="s3">(</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)))</span><span class="s4">}</span><span class="s2">function Xe</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">dev</span><span class="s4">}</span><span class="s2">function Ze</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">sep</span><span class="s3">)</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">sep</span><span class="s3">)</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">return n</span><span class="s1">.</span><span class="s2">reduce</span><span class="s3">(((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">===</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,!</span><span class="s5">0</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function Qe</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">`Cannot </span><span class="s4">${</span><span class="s2">n</span><span class="s4">} </span><span class="s0">'</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">' to a subdirectory of itself, '</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">'.`</span><span class="s4">}</span><span class="s2">var et</span><span class="s1">=</span><span class="s4">{</span><span class="s2">checkPaths</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">qe</span><span class="s1">.</span><span class="s2">callbackify</span><span class="s3">(</span><span class="s2">Ye</span><span class="s3">)(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s3">((</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s2">return u</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">s</span><span class="s4">}</span><span class="s1">=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Xe</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s3">))</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">basename</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">basename</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return</span><span class="s0">&quot;move&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">!==</span><span class="s2">o</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">()</span><span class="s1">===</span><span class="s2">o</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">()</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">isChangingCase</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">&quot;Source and destination must not be the same.&quot;</span><span class="s3">))</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;!</span><span class="s2">s</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">())</span><span class="s2">return u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Cannot overwrite non-directory '</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">' with directory '</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">())</span><span class="s2">return u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Cannot overwrite directory '</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">' with non-directory '</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return i</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">Ze</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s2">Qe</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)))</span><span class="s1">:</span><span class="s2">u</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">s</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">checkPathsSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">o</span><span class="s4">}</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">?</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">ze</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">ze</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">r</span><span class="s1">=</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">null</span><span class="s4">}</span><span class="s1">;</span><span class="s2">throw e</span><span class="s4">}</span><span class="s2">return</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">r</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Xe</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">))</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">basename</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">basename</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;move&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">!==</span><span class="s2">i</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">()</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">())</span><span class="s2">return</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">isChangingCase</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">;</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;Source and destination must not be the same.&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;!</span><span class="s2">o</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">())</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Cannot overwrite non-directory '</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">' with directory '</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">())</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Cannot overwrite directory '</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">' with non-directory '</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">)</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">Ze</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s2">Qe</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s1">;</span><span class="s2">return</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">o</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">checkParentPaths</span><span class="s1">:</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const i</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">s</span><span class="s1">===</span><span class="s2">i</span><span class="s1">||</span><span class="s2">s</span><span class="s1">===</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">.</span><span class="s2">root</span><span class="s3">)</span><span class="s2">return o</span><span class="s3">()</span><span class="s1">;</span><span class="s2">ze</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">,</span><span class="s3">((</span><span class="s2">i</span><span class="s1">,</span><span class="s2">c</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">i</span><span class="s1">?</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">o</span><span class="s3">()</span><span class="s1">:</span><span class="s2">o</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Xe</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">c</span><span class="s3">)</span><span class="s1">?</span><span class="s2">o</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s2">Qe</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s1">:</span><span class="s2">e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">checkParentPathsSync</span><span class="s1">:</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">i</span><span class="s1">===</span><span class="s2">o</span><span class="s1">||</span><span class="s2">i</span><span class="s1">===</span><span class="s2">Ke</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">.</span><span class="s2">root</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">let s</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">s</span><span class="s1">=</span><span class="s2">ze</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">throw e</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Xe</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">s</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s2">Qe</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))</span><span class="s1">;</span><span class="s2">return e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">isSrcSubdir</span><span class="s1">:</span><span class="s2">Ze</span><span class="s1">,</span><span class="s2">areIdentical</span><span class="s1">:</span><span class="s2">Xe</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const tt</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">nt</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">rt</span><span class="s1">=</span><span class="s2">$e</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s1">,</span><span class="s2">ut</span><span class="s1">=</span><span class="s2">Ge</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">,</span><span class="s2">ot</span><span class="s1">=</span><span class="s2">Ue</span><span class="s1">,</span><span class="s2">it</span><span class="s1">=</span><span class="s2">et</span><span class="s1">;</span><span class="s2">function st</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">nt</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">ut</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">((</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">i</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">:</span><span class="s2">s</span><span class="s1">?</span><span class="s2">at</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void rt</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">at</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))))</span><span class="s4">}</span><span class="s2">function ct</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Promise</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">))</span><span class="s1">.</span><span class="s2">then</span><span class="s3">((</span><span class="s2">i</span><span class="s1">=&gt;</span><span class="s2">i</span><span class="s1">?</span><span class="s2">e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s3">())</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s4">}</span><span class="s2">function at</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">?</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">stat</span><span class="s1">:</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">Dt</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">mkdir</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s2">return u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Dt</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">dt</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isFile</span><span class="s3">()</span><span class="s1">||</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isCharacterDevice</span><span class="s3">()</span><span class="s1">||</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isBlockDevice</span><span class="s3">()</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">r</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s3">)</span><span class="s2">return r</span><span class="s1">.</span><span class="s2">errorOnExist</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`'</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">' already exists`</span><span class="s3">))</span><span class="s1">:</span><span class="s2">u</span><span class="s3">()</span><span class="s1">;</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">lt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">lt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isSymbolicLink</span><span class="s3">()</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">readlink</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=</span><span class="s2">nt</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">o</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">?</span><span class="s2">void tt</span><span class="s1">.</span><span class="s2">readlink</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s3">((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s0">&quot;EINVAL&quot;</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;UNKNOWN&quot;</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">symlink</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">i</span><span class="s1">=</span><span class="s2">nt</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">i</span><span class="s3">))</span><span class="s1">,</span><span class="s2">it</span><span class="s1">.</span><span class="s2">isSrcSubdir</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Cannot copy '</span><span class="s4">${</span><span class="s2">o</span><span class="s4">}</span><span class="s0">' to a subdirectory of itself, '</span><span class="s4">${</span><span class="s2">i</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">))</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">it</span><span class="s1">.</span><span class="s2">isSrcSubdir</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Cannot overwrite '</span><span class="s4">${</span><span class="s2">i</span><span class="s4">}</span><span class="s0">' with '</span><span class="s4">${</span><span class="s2">o</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">))</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s2">r</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">symlink</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))))</span><span class="s1">:</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">symlink</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isSocket</span><span class="s3">()</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Cannot copy a socket file: </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">))</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isFIFO</span><span class="s3">()</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Cannot copy a FIFO pipe: </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">))</span><span class="s1">:</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Unknown file: </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">))))</span><span class="s4">}</span><span class="s2">function lt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">copyFile</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">preserveTimestamps</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return </span><span class="s5">0</span><span class="s1">==</span><span class="s3">(</span><span class="s5">128</span><span class="s1">&amp;</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return dt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">128</span><span class="s1">|</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">ft</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s1">;</span><span class="s2">return ft</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">dt</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s4">}</span><span class="s2">function ft</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s1">!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">ot</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">atime</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">mtime</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">dt</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s4">}</span><span class="s2">function dt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return tt</span><span class="s1">.</span><span class="s2">chmod</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function Dt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">tt</span><span class="s1">.</span><span class="s2">readdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">pt</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s4">}</span><span class="s2">function pt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">pop</span><span class="s3">()</span><span class="s1">;</span><span class="s2">return o</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const i</span><span class="s1">=</span><span class="s2">nt</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">nt</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">it</span><span class="s1">.</span><span class="s2">checkPaths</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s3">((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">c</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return o</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">a</span><span class="s4">}</span><span class="s1">=</span><span class="s2">c</span><span class="s1">;!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">?</span><span class="s2">ct</span><span class="s3">(</span><span class="s2">at</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">at</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">o</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">pt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">u</span><span class="s3">()</span><span class="s4">}</span><span class="s2">var Et</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof n</span><span class="s1">||</span><span class="s2">r</span><span class="s1">?</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{</span><span class="s2">filter</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{}</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">n</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">=!</span><span class="s3">(</span><span class="s0">&quot;clobber&quot;</span><span class="s2">in n</span><span class="s3">)</span><span class="s1">||!!</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">=</span><span class="s0">&quot;overwrite&quot;</span><span class="s2">in n</span><span class="s1">?!!</span><span class="s2">n</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">preserveTimestamps</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ia32&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">arch</span><span class="s1">&amp;&amp;</span><span class="s2">console</span><span class="s1">.</span><span class="s2">warn</span><span class="s3">(</span><span class="s0">&quot;fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">it</span><span class="s1">.</span><span class="s2">checkPaths</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">s</span><span class="s4">}</span><span class="s1">=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">it</span><span class="s1">.</span><span class="s2">checkParentPaths</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">?</span><span class="s2">ct</span><span class="s3">(</span><span class="s2">st</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">st</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const mt</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">ht</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">yt</span><span class="s1">=</span><span class="s2">$e</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s1">,</span><span class="s2">Ct</span><span class="s1">=</span><span class="s2">We</span><span class="s1">,</span><span class="s2">Ft</span><span class="s1">=</span><span class="s2">et</span><span class="s1">;</span><span class="s2">function gt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">?</span><span class="s2">mt</span><span class="s1">.</span><span class="s2">statSync</span><span class="s1">:</span><span class="s2">mt</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">)(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">())</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">St</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return mt</span><span class="s1">.</span><span class="s2">mkdirSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">St</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">vt</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isFile</span><span class="s3">()</span><span class="s1">||</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isCharacterDevice</span><span class="s3">()</span><span class="s1">||</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isBlockDevice</span><span class="s3">())</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s3">)</span><span class="s2">return mt</span><span class="s1">.</span><span class="s2">unlinkSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">At</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">errorOnExist</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`'</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">' already exists`</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">At</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isSymbolicLink</span><span class="s3">())</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let u</span><span class="s1">=</span><span class="s2">mt</span><span class="s1">.</span><span class="s2">readlinkSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">ht</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let e</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">e</span><span class="s1">=</span><span class="s2">mt</span><span class="s1">.</span><span class="s2">readlinkSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EINVAL&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;UNKNOWN&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return mt</span><span class="s1">.</span><span class="s2">symlinkSync</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw e</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">ht</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">Ft</span><span class="s1">.</span><span class="s2">isSrcSubdir</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Cannot copy '</span><span class="s4">${</span><span class="s2">u</span><span class="s4">}</span><span class="s0">' to a subdirectory of itself, '</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">mt</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">Ft</span><span class="s1">.</span><span class="s2">isSrcSubdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Cannot overwrite '</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">' with '</span><span class="s4">${</span><span class="s2">u</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return mt</span><span class="s1">.</span><span class="s2">unlinkSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">mt</span><span class="s1">.</span><span class="s2">symlinkSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return mt</span><span class="s1">.</span><span class="s2">symlinkSync</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isSocket</span><span class="s3">())</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Cannot copy a socket file: </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isFIFO</span><span class="s3">())</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Cannot copy a FIFO pipe: </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Unknown file: </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function At</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return mt</span><span class="s1">.</span><span class="s2">copyFileSync</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">preserveTimestamps</span><span class="s1">&amp;&amp;</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return </span><span class="s5">0</span><span class="s1">==</span><span class="s3">(</span><span class="s5">128</span><span class="s1">&amp;</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">vt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">128</span><span class="s1">|</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">mt</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Ct</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">atime</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">mtime</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">vt</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function vt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return mt</span><span class="s1">.</span><span class="s2">chmodSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function St</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">mt</span><span class="s1">.</span><span class="s2">readdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">ht</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">ht</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s4">{</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">i</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Ft</span><span class="s1">.</span><span class="s2">checkPathsSync</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">r</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">||</span><span class="s2">r</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s2">return gt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)))</span><span class="s4">}</span><span class="s2">var wt</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{</span><span class="s2">filter</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">n</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">=!</span><span class="s3">(</span><span class="s0">&quot;clobber&quot;</span><span class="s2">in n</span><span class="s3">)</span><span class="s1">||!!</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">=</span><span class="s0">&quot;overwrite&quot;</span><span class="s2">in n</span><span class="s1">?!!</span><span class="s2">n</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">preserveTimestamps</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ia32&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">arch</span><span class="s1">&amp;&amp;</span><span class="s2">console</span><span class="s1">.</span><span class="s2">warn</span><span class="s3">(</span><span class="s0">&quot;fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">u</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Ft</span><span class="s1">.</span><span class="s2">checkPathsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Ft</span><span class="s1">.</span><span class="s2">checkParentPathsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">&amp;&amp;!</span><span class="s2">r</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">ht</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">mt</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">||</span><span class="s2">yt</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return gt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var Ot</span><span class="s1">=</span><span class="s4">{</span><span class="s2">copy</span><span class="s1">:</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s3">)(</span><span class="s2">Et</span><span class="s3">)</span><span class="s1">,</span><span class="s2">copySync</span><span class="s1">:</span><span class="s2">wt</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const bt</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">_t</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Bt</span><span class="s1">=</span><span class="s2">g</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Pt</span><span class="s1">=</span><span class="s0">&quot;win32&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">platform</span><span class="s1">;</span><span class="s2">function kt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s3">[</span><span class="s0">&quot;unlink&quot;</span><span class="s1">,</span><span class="s0">&quot;chmod&quot;</span><span class="s1">,</span><span class="s0">&quot;stat&quot;</span><span class="s1">,</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;rmdir&quot;</span><span class="s1">,</span><span class="s0">&quot;readdir&quot;</span><span class="s3">]</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">||</span><span class="s2">bt</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s1">+=</span><span class="s0">&quot;Sync&quot;</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">||</span><span class="s2">bt</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">maxBusyTries</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">maxBusyTries</span><span class="s1">||</span><span class="s5">3</span><span class="s4">}</span><span class="s2">function xt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;rimraf: missing path&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s1">.</span><span class="s2">strictEqual</span><span class="s3">(</span><span class="s2">typeof e</span><span class="s1">,</span><span class="s0">&quot;string&quot;</span><span class="s1">,</span><span class="s0">&quot;rimraf: path should be a string&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s1">.</span><span class="s2">strictEqual</span><span class="s3">(</span><span class="s2">typeof n</span><span class="s1">,</span><span class="s0">&quot;function&quot;</span><span class="s1">,</span><span class="s0">&quot;rimraf: callback function required&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;rimraf: invalid options argument provided&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s1">.</span><span class="s2">strictEqual</span><span class="s3">(</span><span class="s2">typeof t</span><span class="s1">,</span><span class="s0">&quot;object&quot;</span><span class="s1">,</span><span class="s0">&quot;rimraf: options should be object&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">kt</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Nt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">((</span><span class="s0">&quot;EBUSY&quot;</span><span class="s1">===</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;ENOTEMPTY&quot;</span><span class="s1">===</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">&lt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">maxBusyTries</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">++;</span><span class="s2">return setTimeout</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s2">Nt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))</span><span class="s1">,</span><span class="s5">100</span><span class="s1">*</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s4">}</span><span class="s2">n</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">function Nt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s2">Pt</span><span class="s1">?</span><span class="s2">It</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Rt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void t</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return Pt</span><span class="s1">?</span><span class="s2">It</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Rt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EISDIR&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return Rt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s2">function It</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">chmod</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">438</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">null</span><span class="s1">:</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">null</span><span class="s1">:</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Rt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">function Tt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">;</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">chmodSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">438</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">throw n</span><span class="s4">}</span><span class="s2">try</span><span class="s4">{</span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">throw n</span><span class="s4">}</span><span class="s2">r</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Lt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">unlinkSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function Rt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">rmdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s1">!</span><span class="s2">u</span><span class="s1">||</span><span class="s0">&quot;ENOTEMPTY&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;EEXIST&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENOTDIR&quot;</span><span class="s1">===</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">readdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let o</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s5">0</span><span class="s1">===</span><span class="s2">i</span><span class="s3">)</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">rmdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">xt</span><span class="s3">(</span><span class="s2">_t</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">o</span><span class="s3">)</span><span class="s2">return r</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void</span><span class="s3">(</span><span class="s5">0</span><span class="s1">==--</span><span class="s2">i</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">rmdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">function Mt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">;</span><span class="s2">kt</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s2">t</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;rimraf: missing path&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s1">.</span><span class="s2">strictEqual</span><span class="s3">(</span><span class="s2">typeof e</span><span class="s1">,</span><span class="s0">&quot;string&quot;</span><span class="s1">,</span><span class="s0">&quot;rimraf: path should be a string&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;rimraf: missing options&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s1">.</span><span class="s2">strictEqual</span><span class="s3">(</span><span class="s2">typeof t</span><span class="s1">,</span><span class="s0">&quot;object&quot;</span><span class="s1">,</span><span class="s0">&quot;rimraf: options should be object&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s2">Pt</span><span class="s1">&amp;&amp;</span><span class="s2">Tt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">try</span><span class="s4">{</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Lt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">null</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">unlinkSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return Pt</span><span class="s1">?</span><span class="s2">Tt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Lt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EISDIR&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">throw n</span><span class="s1">;</span><span class="s2">Lt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">function Lt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">rmdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOTDIR&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">throw n</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOTEMPTY&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;EEXIST&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s1">!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Bt</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">readdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s2">Mt</span><span class="s3">(</span><span class="s2">_t</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)))</span><span class="s1">,!</span><span class="s2">Pt</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">rmdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">;</span><span class="s2">do</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">rmdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s4">{}}</span><span class="s2">while</span><span class="s3">(</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">-</span><span class="s2">n</span><span class="s1">&lt;</span><span class="s5">500</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">!==</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">throw r</span><span class="s4">}}</span><span class="s2">var jt</span><span class="s1">=</span><span class="s2">xt</span><span class="s1">;</span><span class="s2">xt</span><span class="s1">.</span><span class="s2">sync</span><span class="s1">=</span><span class="s2">Mt</span><span class="s1">;</span><span class="s2">const $t</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">Ht</span><span class="s1">=</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">Jt</span><span class="s1">=</span><span class="s2">jt</span><span class="s1">;</span><span class="s2">var Gt</span><span class="s1">=</span><span class="s4">{</span><span class="s2">remove</span><span class="s1">:</span><span class="s2">Ht</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">$t</span><span class="s1">.</span><span class="s2">rm</span><span class="s3">)</span><span class="s2">return $t</span><span class="s1">.</span><span class="s2">rm</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">recursive</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">force</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Jt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">removeSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">$t</span><span class="s1">.</span><span class="s2">rmSync</span><span class="s3">)</span><span class="s2">return $t</span><span class="s1">.</span><span class="s2">rmSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">recursive</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">force</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Jt</span><span class="s1">.</span><span class="s2">sync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const Vt</span><span class="s1">=</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromPromise</span><span class="s1">,</span><span class="s2">Ut</span><span class="s1">=</span><span class="s2">ne</span><span class="s1">,</span><span class="s2">Wt</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">zt</span><span class="s1">=</span><span class="s2">$e</span><span class="s1">,</span><span class="s2">Kt</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">,</span><span class="s2">qt</span><span class="s1">=</span><span class="s2">Vt</span><span class="s3">((</span><span class="s2">async function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let t</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">await Ut</span><span class="s1">.</span><span class="s2">readdir</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s4">{</span><span class="s2">return zt</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return Promise</span><span class="s1">.</span><span class="s2">all</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">Kt</span><span class="s1">.</span><span class="s2">remove</span><span class="s3">(</span><span class="s2">Wt</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)))))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">function Yt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let t</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">readdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s4">{</span><span class="s2">return zt</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">Wt</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Kt</span><span class="s1">.</span><span class="s2">removeSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">var Xt</span><span class="s1">=</span><span class="s4">{</span><span class="s2">emptyDirSync</span><span class="s1">:</span><span class="s2">Yt</span><span class="s1">,</span><span class="s2">emptydirSync</span><span class="s1">:</span><span class="s2">Yt</span><span class="s1">,</span><span class="s2">emptyDir</span><span class="s1">:</span><span class="s2">qt</span><span class="s1">,</span><span class="s2">emptydir</span><span class="s1">:</span><span class="s2">qt</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Zt</span><span class="s1">=</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">Qt</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">en</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">tn</span><span class="s1">=</span><span class="s2">$e</span><span class="s1">;</span><span class="s2">var nn</span><span class="s1">=</span><span class="s4">{</span><span class="s2">createFile</span><span class="s1">:</span><span class="s2">Zt</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function n</span><span class="s3">()</span><span class="s4">{</span><span class="s2">en</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">t</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">en</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isFile</span><span class="s3">())</span><span class="s2">return t</span><span class="s3">()</span><span class="s1">;</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">Qt</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">en</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">tn</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">n</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s1">:</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">n</span><span class="s3">()</span><span class="s1">:</span><span class="s2">en</span><span class="s1">.</span><span class="s2">readdir</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">createFileSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let t</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">en</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s4">{}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isFile</span><span class="s3">())</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Qt</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">en</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">||</span><span class="s2">en</span><span class="s1">.</span><span class="s2">readdirSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">!==</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">throw e</span><span class="s1">;</span><span class="s2">tn</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">en</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const rn</span><span class="s1">=</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">un</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">on</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">sn</span><span class="s1">=</span><span class="s2">$e</span><span class="s1">,</span><span class="s2">cn</span><span class="s1">=</span><span class="s2">Ge</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">,</span><span class="s4">{</span><span class="s2">areIdentical</span><span class="s1">:</span><span class="s2">an</span><span class="s4">}</span><span class="s1">=</span><span class="s2">et</span><span class="s1">;</span><span class="s2">var ln</span><span class="s1">=</span><span class="s4">{</span><span class="s2">createLink</span><span class="s1">:</span><span class="s2">rn</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">on</span><span class="s1">.</span><span class="s2">link</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">on</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">on</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return u</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;ensureLink&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">&amp;&amp;</span><span class="s2">an</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s3">))</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const s</span><span class="s1">=</span><span class="s2">un</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">cn</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void sn</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">createLinkSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">n</span><span class="s1">=</span><span class="s2">on</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s4">{}</span><span class="s2">try</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">on</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">an</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s2">return</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">throw e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;ensureLink&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">un</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return on</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">||</span><span class="s2">sn</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">on</span><span class="s1">.</span><span class="s2">linkSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const fn</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">dn</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">Dn</span><span class="s1">=</span><span class="s2">Ge</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">;</span><span class="s2">var pn</span><span class="s1">=</span><span class="s4">{</span><span class="s2">symlinkPaths</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">fn</span><span class="s1">.</span><span class="s2">isAbsolute</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">return dn</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;ensureSymlink&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">:</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s3">)))</span><span class="s1">;</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">fn</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">fn</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Dn</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">dn</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;ensureSymlink&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">:</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">fn</span><span class="s1">.</span><span class="s2">relative</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)))))</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">symlinkPathsSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">fn</span><span class="s1">.</span><span class="s2">isAbsolute</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">dn</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,!</span><span class="s2">n</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;absolute srcpath does not exist&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}}{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">fn</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">fn</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">dn</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">dn</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,!</span><span class="s2">n</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;relative srcpath does not exist&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">fn</span><span class="s1">.</span><span class="s2">relative</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}}}</span><span class="s1">;</span><span class="s2">const En</span><span class="s1">=</span><span class="s2">we</span><span class="s1">;</span><span class="s2">var mn</span><span class="s1">=</span><span class="s4">{</span><span class="s2">symlinkType</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">?</span><span class="s2">t</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">En</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s0">&quot;file&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">t</span><span class="s1">=</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s0">&quot;dir&quot;</span><span class="s1">:</span><span class="s0">&quot;file&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">symlinkTypeSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return t</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">n</span><span class="s1">=</span><span class="s2">En</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;file&quot;</span><span class="s4">}</span><span class="s2">return n</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s0">&quot;dir&quot;</span><span class="s1">:</span><span class="s0">&quot;file&quot;</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const hn</span><span class="s1">=</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">yn</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Cn</span><span class="s1">=</span><span class="s2">ne</span><span class="s1">,</span><span class="s2">Fn</span><span class="s1">=</span><span class="s2">$e</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s1">,</span><span class="s2">gn</span><span class="s1">=</span><span class="s2">$e</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s1">,</span><span class="s2">An</span><span class="s1">=</span><span class="s2">pn</span><span class="s1">.</span><span class="s2">symlinkPaths</span><span class="s1">,</span><span class="s2">vn</span><span class="s1">=</span><span class="s2">pn</span><span class="s1">.</span><span class="s2">symlinkPathsSync</span><span class="s1">,</span><span class="s2">Sn</span><span class="s1">=</span><span class="s2">mn</span><span class="s1">.</span><span class="s2">symlinkType</span><span class="s1">,</span><span class="s2">wn</span><span class="s1">=</span><span class="s2">mn</span><span class="s1">.</span><span class="s2">symlinkTypeSync</span><span class="s1">,</span><span class="s2">On</span><span class="s1">=</span><span class="s2">Ge</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">,</span><span class="s4">{</span><span class="s2">areIdentical</span><span class="s1">:</span><span class="s2">bn</span><span class="s4">}</span><span class="s1">=</span><span class="s2">et</span><span class="s1">;</span><span class="s2">function _n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">An</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">toDst</span><span class="s1">,</span><span class="s2">Sn</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">toCwd</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">((</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">yn</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">On</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">((</span><span class="s2">n</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">n</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">?</span><span class="s2">Cn</span><span class="s1">.</span><span class="s2">symlink</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void Fn</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Cn</span><span class="s1">.</span><span class="s2">symlink</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">var Bn</span><span class="s1">=</span><span class="s4">{</span><span class="s2">createSymlink</span><span class="s1">:</span><span class="s2">hn</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">?</span><span class="s2">n</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">,</span><span class="s2">Cn</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s1">!</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">isSymbolicLink</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Promise</span><span class="s1">.</span><span class="s2">all</span><span class="s3">([</span><span class="s2">Cn</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Cn</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)])</span><span class="s1">.</span><span class="s2">then</span><span class="s3">((([</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">])</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">bn</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">))</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s1">;</span><span class="s2">_n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">:</span><span class="s2">_n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">createSymlinkSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">r</span><span class="s1">=</span><span class="s2">Cn</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s4">{}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">isSymbolicLink</span><span class="s3">())</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Cn</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">Cn</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">bn</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">))</span><span class="s2">return</span><span class="s4">}</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">vn</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">toDst</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">wn</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">toCwd</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">yn</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Cn</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">||</span><span class="s2">gn</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Cn</span><span class="s1">.</span><span class="s2">symlinkSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">createFile</span><span class="s1">:</span><span class="s2">Pn</span><span class="s1">,</span><span class="s2">createFileSync</span><span class="s1">:</span><span class="s2">kn</span><span class="s4">}</span><span class="s1">=</span><span class="s2">nn</span><span class="s1">,</span><span class="s4">{</span><span class="s2">createLink</span><span class="s1">:</span><span class="s2">xn</span><span class="s1">,</span><span class="s2">createLinkSync</span><span class="s1">:</span><span class="s2">Nn</span><span class="s4">}</span><span class="s1">=</span><span class="s2">ln</span><span class="s1">,</span><span class="s4">{</span><span class="s2">createSymlink</span><span class="s1">:</span><span class="s2">In</span><span class="s1">,</span><span class="s2">createSymlinkSync</span><span class="s1">:</span><span class="s2">Tn</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Bn</span><span class="s1">;</span><span class="s2">var Rn</span><span class="s1">=</span><span class="s4">{</span><span class="s2">createFile</span><span class="s1">:</span><span class="s2">Pn</span><span class="s1">,</span><span class="s2">createFileSync</span><span class="s1">:</span><span class="s2">kn</span><span class="s1">,</span><span class="s2">ensureFile</span><span class="s1">:</span><span class="s2">Pn</span><span class="s1">,</span><span class="s2">ensureFileSync</span><span class="s1">:</span><span class="s2">kn</span><span class="s1">,</span><span class="s2">createLink</span><span class="s1">:</span><span class="s2">xn</span><span class="s1">,</span><span class="s2">createLinkSync</span><span class="s1">:</span><span class="s2">Nn</span><span class="s1">,</span><span class="s2">ensureLink</span><span class="s1">:</span><span class="s2">xn</span><span class="s1">,</span><span class="s2">ensureLinkSync</span><span class="s1">:</span><span class="s2">Nn</span><span class="s1">,</span><span class="s2">createSymlink</span><span class="s1">:</span><span class="s2">In</span><span class="s1">,</span><span class="s2">createSymlinkSync</span><span class="s1">:</span><span class="s2">Tn</span><span class="s1">,</span><span class="s2">ensureSymlink</span><span class="s1">:</span><span class="s2">In</span><span class="s1">,</span><span class="s2">ensureSymlinkSync</span><span class="s1">:</span><span class="s2">Tn</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var Mn</span><span class="s1">=</span><span class="s4">{</span><span class="s2">stringify</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">EOL</span><span class="s1">:</span><span class="s2">t</span><span class="s1">=</span><span class="s0">&quot;\n&quot;</span><span class="s1">,</span><span class="s2">finalEOL</span><span class="s1">:</span><span class="s2">n</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">replacer</span><span class="s1">:</span><span class="s2">r</span><span class="s1">=</span><span class="s2">null</span><span class="s1">,</span><span class="s2">spaces</span><span class="s1">:</span><span class="s2">u</span><span class="s4">}</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">n</span><span class="s1">?</span><span class="s2">t</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s2">return JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/\n/g</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">+</span><span class="s2">o</span><span class="s4">}</span><span class="s1">,</span><span class="s2">stripBom</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return Buffer</span><span class="s1">.</span><span class="s2">isBuffer</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">(</span><span class="s0">&quot;utf8&quot;</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/^\uFEFF/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">let Ln</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">Ln</span><span class="s1">=</span><span class="s2">we</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Ln</span><span class="s1">=</span><span class="s2">D</span><span class="s1">.</span><span class="s2">default</span><span class="s4">}</span><span class="s2">const jn</span><span class="s1">=</span><span class="s2">re</span><span class="s1">,</span><span class="s4">{</span><span class="s2">stringify</span><span class="s1">:</span><span class="s2">$n</span><span class="s1">,</span><span class="s2">stripBom</span><span class="s1">:</span><span class="s2">Hn</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Mn</span><span class="s1">;</span><span class="s2">const Jn</span><span class="s1">=</span><span class="s2">jn</span><span class="s1">.</span><span class="s2">fromPromise</span><span class="s3">((</span><span class="s2">async function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s4">{</span><span class="s2">encoding</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fs</span><span class="s1">||</span><span class="s2">Ln</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=!</span><span class="s3">(</span><span class="s0">&quot;throws&quot;</span><span class="s2">in t</span><span class="s3">)</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">throws</span><span class="s1">;</span><span class="s2">let u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">await jn</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">readFile</span><span class="s3">)(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">o</span><span class="s1">=</span><span class="s2">Hn</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">u</span><span class="s1">=</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">reviver</span><span class="s1">:</span><span class="s2">null</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s2">throw t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">: </span><span class="s4">${</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">t</span><span class="s1">;</span><span class="s2">return null</span><span class="s4">}</span><span class="s2">return u</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">const Gn</span><span class="s1">=</span><span class="s2">jn</span><span class="s1">.</span><span class="s2">fromPromise</span><span class="s3">((</span><span class="s2">async function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">fs</span><span class="s1">||</span><span class="s2">Ln</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">$n</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">await jn</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s3">)(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">const Vn</span><span class="s1">=</span><span class="s4">{</span><span class="s2">readFile</span><span class="s1">:</span><span class="s2">Jn</span><span class="s1">,</span><span class="s2">readFileSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s4">{</span><span class="s2">encoding</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fs</span><span class="s1">||</span><span class="s2">Ln</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=!</span><span class="s3">(</span><span class="s0">&quot;throws&quot;</span><span class="s2">in t</span><span class="s3">)</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">throws</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">readFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">=</span><span class="s2">Hn</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">reviver</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s2">throw t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">: </span><span class="s4">${</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">t</span><span class="s1">;</span><span class="s2">return null</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">writeFile</span><span class="s1">:</span><span class="s2">Gn</span><span class="s1">,</span><span class="s2">writeFileSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">fs</span><span class="s1">||</span><span class="s2">Ln</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">$n</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">var Un</span><span class="s1">=</span><span class="s4">{</span><span class="s2">readJson</span><span class="s1">:</span><span class="s2">Vn</span><span class="s1">.</span><span class="s2">readFile</span><span class="s1">,</span><span class="s2">readJsonSync</span><span class="s1">:</span><span class="s2">Vn</span><span class="s1">.</span><span class="s2">readFileSync</span><span class="s1">,</span><span class="s2">writeJson</span><span class="s1">:</span><span class="s2">Vn</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s1">,</span><span class="s2">writeJsonSync</span><span class="s1">:</span><span class="s2">Vn</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Wn</span><span class="s1">=</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">zn</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">Kn</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">qn</span><span class="s1">=</span><span class="s2">$e</span><span class="s1">,</span><span class="s2">Yn</span><span class="s1">=</span><span class="s2">Ge</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">;</span><span class="s2">var Xn</span><span class="s1">=</span><span class="s4">{</span><span class="s2">outputFile</span><span class="s1">:</span><span class="s2">Wn</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s0">&quot;utf8&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">Kn</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Yn</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">((</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">?</span><span class="s2">zn</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void qn</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">zn</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">outputFileSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Kn</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">zn</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">))</span><span class="s2">return zn</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">qn</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">zn</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">stringify</span><span class="s1">:</span><span class="s2">Zn</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Mn</span><span class="s1">,</span><span class="s4">{</span><span class="s2">outputFile</span><span class="s1">:</span><span class="s2">Qn</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Xn</span><span class="s1">;</span><span class="s2">var er</span><span class="s1">=</span><span class="s2">async function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">Zn</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">await Qn</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">stringify</span><span class="s1">:</span><span class="s2">tr</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Mn</span><span class="s1">,</span><span class="s4">{</span><span class="s2">outputFileSync</span><span class="s1">:</span><span class="s2">nr</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Xn</span><span class="s1">;</span><span class="s2">var rr</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">tr</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">nr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const ur</span><span class="s1">=</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromPromise</span><span class="s1">,</span><span class="s2">or</span><span class="s1">=</span><span class="s2">Un</span><span class="s1">;</span><span class="s2">or</span><span class="s1">.</span><span class="s2">outputJson</span><span class="s1">=</span><span class="s2">ur</span><span class="s3">(</span><span class="s2">er</span><span class="s3">)</span><span class="s1">,</span><span class="s2">or</span><span class="s1">.</span><span class="s2">outputJsonSync</span><span class="s1">=</span><span class="s2">rr</span><span class="s1">,</span><span class="s2">or</span><span class="s1">.</span><span class="s2">outputJSON</span><span class="s1">=</span><span class="s2">or</span><span class="s1">.</span><span class="s2">outputJson</span><span class="s1">,</span><span class="s2">or</span><span class="s1">.</span><span class="s2">outputJSONSync</span><span class="s1">=</span><span class="s2">or</span><span class="s1">.</span><span class="s2">outputJsonSync</span><span class="s1">,</span><span class="s2">or</span><span class="s1">.</span><span class="s2">writeJSON</span><span class="s1">=</span><span class="s2">or</span><span class="s1">.</span><span class="s2">writeJson</span><span class="s1">,</span><span class="s2">or</span><span class="s1">.</span><span class="s2">writeJSONSync</span><span class="s1">=</span><span class="s2">or</span><span class="s1">.</span><span class="s2">writeJsonSync</span><span class="s1">,</span><span class="s2">or</span><span class="s1">.</span><span class="s2">readJSON</span><span class="s1">=</span><span class="s2">or</span><span class="s1">.</span><span class="s2">readJson</span><span class="s1">,</span><span class="s2">or</span><span class="s1">.</span><span class="s2">readJSONSync</span><span class="s1">=</span><span class="s2">or</span><span class="s1">.</span><span class="s2">readJsonSync</span><span class="s1">;</span><span class="s2">var ir</span><span class="s1">=</span><span class="s2">or</span><span class="s1">;</span><span class="s2">const sr</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">cr</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">ar</span><span class="s1">=</span><span class="s2">Ot</span><span class="s1">.</span><span class="s2">copy</span><span class="s1">,</span><span class="s2">lr</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">.</span><span class="s2">remove</span><span class="s1">,</span><span class="s2">fr</span><span class="s1">=</span><span class="s2">$e</span><span class="s1">.</span><span class="s2">mkdirp</span><span class="s1">,</span><span class="s2">dr</span><span class="s1">=</span><span class="s2">Ge</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">,</span><span class="s2">Dr</span><span class="s1">=</span><span class="s2">et</span><span class="s1">;</span><span class="s2">function pr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return r</span><span class="s1">?</span><span class="s2">Er</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s1">?</span><span class="s2">lr</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s2">r</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Er</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s1">:</span><span class="s2">void dr</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">r</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">&quot;dest already exists.&quot;</span><span class="s3">))</span><span class="s1">:</span><span class="s2">Er</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s4">}</span><span class="s2">function Er</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">sr</span><span class="s1">.</span><span class="s2">rename</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s0">&quot;EXDEV&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s4">{</span><span class="s2">overwrite</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">errorOnExist</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">;</span><span class="s2">ar</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">lr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s3">()))</span><span class="s4">}</span><span class="s2">var mr</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">||</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">||!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">Dr</span><span class="s1">.</span><span class="s2">checkPaths</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;move&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">((</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">isChangingCase</span><span class="s1">:</span><span class="s2">s</span><span class="s1">=!</span><span class="s5">1</span><span class="s4">}</span><span class="s1">=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">Dr</span><span class="s1">.</span><span class="s2">checkParentPaths</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;move&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s2">n</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">cr</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return cr</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">.</span><span class="s2">root</span><span class="s1">===</span><span class="s2">t</span><span class="s4">}</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">?</span><span class="s2">pr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void fr</span><span class="s3">(</span><span class="s2">cr</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s2">n</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">pr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const hr</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">yr</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Cr</span><span class="s1">=</span><span class="s2">Ot</span><span class="s1">.</span><span class="s2">copySync</span><span class="s1">,</span><span class="s2">Fr</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">.</span><span class="s2">removeSync</span><span class="s1">,</span><span class="s2">gr</span><span class="s1">=</span><span class="s2">$e</span><span class="s1">.</span><span class="s2">mkdirpSync</span><span class="s1">,</span><span class="s2">Ar</span><span class="s1">=</span><span class="s2">et</span><span class="s1">;</span><span class="s2">function vr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">hr</span><span class="s1">.</span><span class="s2">renameSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EXDEV&quot;</span><span class="s1">!==</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">throw r</span><span class="s1">;</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s4">{</span><span class="s2">overwrite</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">errorOnExist</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">;</span><span class="s2">return Cr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Fr</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">var Sr</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">n</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">||</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">||!</span><span class="s5">1</span><span class="s1">,</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s2">isChangingCase</span><span class="s1">:</span><span class="s2">o</span><span class="s1">=!</span><span class="s5">1</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Ar</span><span class="s1">.</span><span class="s2">checkPathsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;move&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Ar</span><span class="s1">.</span><span class="s2">checkParentPathsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;move&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">yr</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return yr</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">.</span><span class="s2">root</span><span class="s1">===</span><span class="s2">t</span><span class="s4">}</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">||</span><span class="s2">gr</span><span class="s3">(</span><span class="s2">yr</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s2">return vr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return Fr</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">vr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">hr</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;dest already exists.&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return vr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var wr</span><span class="s1">,</span><span class="s2">Or</span><span class="s1">,</span><span class="s2">br</span><span class="s1">,</span><span class="s2">_r</span><span class="s1">,</span><span class="s2">Br</span><span class="s1">,</span><span class="s2">Pr</span><span class="s1">=</span><span class="s4">{</span><span class="s2">move</span><span class="s1">:</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">re</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s3">)(</span><span class="s2">mr</span><span class="s3">)</span><span class="s1">,</span><span class="s2">moveSync</span><span class="s1">:</span><span class="s2">Sr</span><span class="s4">}</span><span class="s1">,</span><span class="s2">kr</span><span class="s1">=</span><span class="s4">{</span><span class="s1">...</span><span class="s2">ne</span><span class="s1">,...</span><span class="s2">Ot</span><span class="s1">,...</span><span class="s2">Xt</span><span class="s1">,...</span><span class="s2">Rn</span><span class="s1">,...</span><span class="s2">ir</span><span class="s1">,...</span><span class="s2">$e</span><span class="s1">,...</span><span class="s2">Pr</span><span class="s1">,...</span><span class="s2">Xn</span><span class="s1">,...</span><span class="s2">Ge</span><span class="s1">,...</span><span class="s2">Gt</span><span class="s4">}</span><span class="s1">,</span><span class="s2">xr</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">Nr</span><span class="s1">=</span><span class="s4">{</span><span class="s2">exports</span><span class="s1">:</span><span class="s4">{}}</span><span class="s1">,</span><span class="s2">Ir</span><span class="s1">=</span><span class="s4">{</span><span class="s2">exports</span><span class="s1">:</span><span class="s4">{}}</span><span class="s1">;</span><span class="s2">function Tr</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Or</span><span class="s3">)</span><span class="s2">return wr</span><span class="s1">;</span><span class="s2">Or</span><span class="s1">=</span><span class="s5">1</span><span class="s1">;</span><span class="s2">var e</span><span class="s1">=</span><span class="s5">1e3</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s5">60</span><span class="s1">*</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s5">60</span><span class="s1">*</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s5">24</span><span class="s1">*</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s5">7</span><span class="s1">*</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s5">365.25</span><span class="s1">*</span><span class="s2">r</span><span class="s1">;</span><span class="s2">function i</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">t</span><span class="s1">&gt;=</span><span class="s5">1.5</span><span class="s1">*</span><span class="s2">n</span><span class="s1">;</span><span class="s2">return Math</span><span class="s1">.</span><span class="s2">round</span><span class="s3">(</span><span class="s2">e</span><span class="s1">/</span><span class="s2">n</span><span class="s3">)</span><span class="s1">+</span><span class="s0">&quot; &quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s1">+</span><span class="s3">(</span><span class="s2">u</span><span class="s1">?</span><span class="s0">&quot;s&quot;</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return wr</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">c</span><span class="s3">)</span><span class="s4">{</span><span class="s2">c</span><span class="s1">=</span><span class="s2">c</span><span class="s1">||</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">var a</span><span class="s1">=</span><span class="s2">typeof s</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;string&quot;</span><span class="s1">===</span><span class="s2">a</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s5">0</span><span class="s3">)</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">((</span><span class="s2">i</span><span class="s1">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">i</span><span class="s3">))</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s5">100</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">var s</span><span class="s1">=</span><span class="s0">/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i</span><span class="s1">.</span><span class="s2">exec</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">s</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">var c</span><span class="s1">=</span><span class="s2">parseFloat</span><span class="s3">(</span><span class="s2">s</span><span class="s3">[</span><span class="s5">1</span><span class="s3">])</span><span class="s1">;</span><span class="s2">switch</span><span class="s3">((</span><span class="s2">s</span><span class="s3">[</span><span class="s5">2</span><span class="s3">]</span><span class="s1">||</span><span class="s0">&quot;ms&quot;</span><span class="s3">)</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">())</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;years&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;year&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;yrs&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;yr&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;y&quot;</span><span class="s1">:</span><span class="s2">return c</span><span class="s1">*</span><span class="s2">o</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;weeks&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;week&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;w&quot;</span><span class="s1">:</span><span class="s2">return c</span><span class="s1">*</span><span class="s2">u</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;days&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;day&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;d&quot;</span><span class="s1">:</span><span class="s2">return c</span><span class="s1">*</span><span class="s2">r</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;hours&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;hour&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;hrs&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;hr&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;h&quot;</span><span class="s1">:</span><span class="s2">return c</span><span class="s1">*</span><span class="s2">n</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;minutes&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;minute&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;mins&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;min&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;m&quot;</span><span class="s1">:</span><span class="s2">return c</span><span class="s1">*</span><span class="s2">t</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;seconds&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;second&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;secs&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;sec&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;s&quot;</span><span class="s1">:</span><span class="s2">return c</span><span class="s1">*</span><span class="s2">e</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;milliseconds&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;millisecond&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;msecs&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;msec&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;ms&quot;</span><span class="s1">:</span><span class="s2">return c</span><span class="s1">;</span><span class="s2">default</span><span class="s1">:</span><span class="s2">return</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;number&quot;</span><span class="s1">===</span><span class="s2">a</span><span class="s1">&amp;&amp;</span><span class="s2">isFinite</span><span class="s3">(</span><span class="s2">s</span><span class="s3">))</span><span class="s2">return c</span><span class="s1">.</span><span class="s2">long</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var o</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">&gt;=</span><span class="s2">r</span><span class="s3">)</span><span class="s2">return i</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s0">&quot;day&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">&gt;=</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return i</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s0">&quot;hour&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">&gt;=</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return i</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;minute&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">&gt;=</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return i</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;second&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return u</span><span class="s1">+</span><span class="s0">&quot; ms&quot;</span><span class="s4">}</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var o</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">&gt;=</span><span class="s2">r</span><span class="s3">)</span><span class="s2">return Math</span><span class="s1">.</span><span class="s2">round</span><span class="s3">(</span><span class="s2">u</span><span class="s1">/</span><span class="s2">r</span><span class="s3">)</span><span class="s1">+</span><span class="s0">&quot;d&quot;</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">&gt;=</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return Math</span><span class="s1">.</span><span class="s2">round</span><span class="s3">(</span><span class="s2">u</span><span class="s1">/</span><span class="s2">n</span><span class="s3">)</span><span class="s1">+</span><span class="s0">&quot;h&quot;</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">&gt;=</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return Math</span><span class="s1">.</span><span class="s2">round</span><span class="s3">(</span><span class="s2">u</span><span class="s1">/</span><span class="s2">t</span><span class="s3">)</span><span class="s1">+</span><span class="s0">&quot;m&quot;</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">&gt;=</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return Math</span><span class="s1">.</span><span class="s2">round</span><span class="s3">(</span><span class="s2">u</span><span class="s1">/</span><span class="s2">e</span><span class="s3">)</span><span class="s1">+</span><span class="s0">&quot;s&quot;</span><span class="s1">;</span><span class="s2">return u</span><span class="s1">+</span><span class="s0">&quot;ms&quot;</span><span class="s4">}</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;val is not a non-empty string or a valid number. val=&quot;</span><span class="s1">+</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">s</span><span class="s3">))</span><span class="s4">}}</span><span class="s2">function Rr</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">_r</span><span class="s3">)</span><span class="s2">return br</span><span class="s1">;</span><span class="s2">return _r</span><span class="s1">=</span><span class="s5">1</span><span class="s1">,</span><span class="s2">br</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">null</span><span class="s1">;</span><span class="s2">function s</span><span class="s3">(</span><span class="s1">...</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">s</span><span class="s1">.</span><span class="s2">enabled</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">s</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">Number</span><span class="s3">(</span><span class="s2">new Date</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">u</span><span class="s1">-</span><span class="s3">(</span><span class="s2">r</span><span class="s1">||</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">diff</span><span class="s1">=</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">prev</span><span class="s1">=</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">curr</span><span class="s1">=</span><span class="s2">u</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">u</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">coerce</span><span class="s3">(</span><span class="s2">e</span><span class="s3">[</span><span class="s5">0</span><span class="s3">])</span><span class="s1">,</span><span class="s0">&quot;string&quot;</span><span class="s1">!=</span><span class="s2">typeof e</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">unshift</span><span class="s3">(</span><span class="s0">&quot;%O&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let i</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">e</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/%([a-zA-Z%])/g</span><span class="s1">,</span><span class="s3">((</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;%%&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s3">)</span><span class="s2">return</span><span class="s0">&quot;%&quot;</span><span class="s1">;</span><span class="s2">i</span><span class="s1">++;</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">formatters</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">;</span><span class="s2">r</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">splice</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s5">1</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">--</span><span class="s4">}</span><span class="s2">return r</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">formatArgs</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">log</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">log</span><span class="s3">)</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return s</span><span class="s1">.</span><span class="s2">namespace</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">useColors</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">useColors</span><span class="s3">()</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">color</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">selectColor</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">extend</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">destroy</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">destroy</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s0">&quot;enabled&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">configurable</span><span class="s1">:!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">get</span><span class="s1">:</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">null</span><span class="s1">!==</span><span class="s2">i</span><span class="s1">?</span><span class="s2">i</span><span class="s1">:</span><span class="s3">(</span><span class="s2">u</span><span class="s1">!==</span><span class="s2">t</span><span class="s1">.</span><span class="s2">namespaces</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">namespaces</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">enabled</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">set</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">i</span><span class="s1">=</span><span class="s2">e</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">.</span><span class="s2">init</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">init</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">,</span><span class="s2">s</span><span class="s4">}</span><span class="s2">function n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">t</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">namespace</span><span class="s1">+</span><span class="s3">(</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">n</span><span class="s1">?</span><span class="s0">&quot;:&quot;</span><span class="s1">:</span><span class="s2">n</span><span class="s3">)</span><span class="s1">+</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">.</span><span class="s2">log</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">log</span><span class="s1">,</span><span class="s2">r</span><span class="s4">}</span><span class="s2">function r</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s1">.</span><span class="s2">substring</span><span class="s3">(</span><span class="s5">2</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">2</span><span class="s3">)</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/\.\*\?$/</span><span class="s1">,</span><span class="s0">&quot;*&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">default</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">coerce</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e instanceof Error</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">stack</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">;</span><span class="s2">return e</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">disable</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s3">[</span><span class="s1">...</span><span class="s2">t</span><span class="s1">.</span><span class="s2">names</span><span class="s1">.</span><span class="s2">map</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,...</span><span class="s2">t</span><span class="s1">.</span><span class="s2">skips</span><span class="s1">.</span><span class="s2">map</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s0">&quot;-&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s3">))]</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot;,&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">enable</span><span class="s3">(</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">enable</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">save</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">namespaces</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">names</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">skips</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">const r</span><span class="s1">=</span><span class="s3">(</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s0">/[\s,]+/</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">n</span><span class="s1">&lt;</span><span class="s2">u</span><span class="s1">;</span><span class="s2">n</span><span class="s1">++</span><span class="s3">)</span><span class="s2">r</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s0">&quot;-&quot;</span><span class="s1">===</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">r</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/\*/g</span><span class="s1">,</span><span class="s0">&quot;.*?&quot;</span><span class="s3">))[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">skips</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">new RegExp</span><span class="s3">(</span><span class="s0">&quot;^&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s5">1</span><span class="s3">)</span><span class="s1">+</span><span class="s0">&quot;$&quot;</span><span class="s3">))</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">names</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">new RegExp</span><span class="s3">(</span><span class="s0">&quot;^&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;$&quot;</span><span class="s3">)))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">enabled</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;*&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s3">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">])</span><span class="s2">return</span><span class="s1">!</span><span class="s5">0</span><span class="s1">;</span><span class="s2">let n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">skips</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">n</span><span class="s1">&lt;</span><span class="s2">r</span><span class="s1">;</span><span class="s2">n</span><span class="s1">++</span><span class="s3">)</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">skips</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">return</span><span class="s1">!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">names</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">n</span><span class="s1">&lt;</span><span class="s2">r</span><span class="s1">;</span><span class="s2">n</span><span class="s1">++</span><span class="s3">)</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">names</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">return</span><span class="s1">!</span><span class="s5">0</span><span class="s1">;</span><span class="s2">return</span><span class="s1">!</span><span class="s5">1</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">humanize</span><span class="s1">=</span><span class="s2">Tr</span><span class="s3">()</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">destroy</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">console</span><span class="s1">.</span><span class="s2">warn</span><span class="s3">(</span><span class="s0">&quot;Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">names</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">skips</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">formatters</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">selectColor</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">let t</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">t</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">t</span><span class="s1">++</span><span class="s3">)</span><span class="s2">n</span><span class="s1">=</span><span class="s3">(</span><span class="s2">n</span><span class="s1">&lt;&lt;</span><span class="s5">5</span><span class="s3">)</span><span class="s1">-</span><span class="s2">n</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">charCodeAt</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">|=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">colors</span><span class="s3">[</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">%</span><span class="s2">t</span><span class="s1">.</span><span class="s2">colors</span><span class="s1">.</span><span class="s2">length</span><span class="s3">]</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">enable</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">load</span><span class="s3">())</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}</span><span class="s1">,</span><span class="s2">br</span><span class="s4">}</span><span class="s2">var Mr</span><span class="s1">,</span><span class="s2">Lr</span><span class="s1">,</span><span class="s2">jr</span><span class="s1">,</span><span class="s2">$r</span><span class="s1">,</span><span class="s2">Hr</span><span class="s1">,</span><span class="s2">Jr</span><span class="s1">,</span><span class="s2">Gr</span><span class="s1">=</span><span class="s4">{</span><span class="s2">exports</span><span class="s1">:</span><span class="s4">{}}</span><span class="s1">;</span><span class="s2">function Vr</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return Lr</span><span class="s1">?</span><span class="s2">Mr</span><span class="s1">:</span><span class="s3">(</span><span class="s2">Lr</span><span class="s1">=</span><span class="s5">1</span><span class="s1">,</span><span class="s2">Mr</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">process</span><span class="s1">.</span><span class="s2">argv</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startsWith</span><span class="s3">(</span><span class="s0">&quot;-&quot;</span><span class="s3">)</span><span class="s1">?</span><span class="s0">&quot;&quot;</span><span class="s1">:</span><span class="s5">1</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">?</span><span class="s0">&quot;-&quot;</span><span class="s1">:</span><span class="s0">&quot;--&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s2">n</span><span class="s1">+</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s0">&quot;--&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return</span><span class="s1">-</span><span class="s5">1</span><span class="s1">!==</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s1">-</span><span class="s5">1</span><span class="s1">===</span><span class="s2">u</span><span class="s1">||</span><span class="s2">r</span><span class="s1">&lt;</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function Ur</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return Hr</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Hr</span><span class="s1">=</span><span class="s5">1</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">A</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">F</span><span class="s1">.</span><span class="s2">default</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">init</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s3">)</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">let r</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">r</span><span class="s1">&lt;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">r</span><span class="s1">++</span><span class="s3">)</span><span class="s2">e</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s3">[</span><span class="s2">n</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]]</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s3">[</span><span class="s2">n</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]]</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">log</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s1">...</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return process</span><span class="s1">.</span><span class="s2">stderr</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">format</span><span class="s3">(</span><span class="s1">...</span><span class="s2">e</span><span class="s3">)</span><span class="s1">+</span><span class="s0">&quot;\n&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">formatArgs</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const</span><span class="s4">{</span><span class="s2">namespace</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">useColors</span><span class="s1">:</span><span class="s2">u</span><span class="s4">}</span><span class="s1">=</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">color</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s0">&quot;[3&quot;</span><span class="s1">+</span><span class="s3">(</span><span class="s2">t</span><span class="s1">&lt;</span><span class="s5">8</span><span class="s1">?</span><span class="s2">t</span><span class="s1">:</span><span class="s0">&quot;8;5;&quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s0">`  </span><span class="s4">${</span><span class="s2">u</span><span class="s4">}</span><span class="s0">;1m</span><span class="s4">${</span><span class="s2">r</span><span class="s4">} </span><span class="s0">[0m`</span><span class="s1">;</span><span class="s2">n</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">=</span><span class="s2">o</span><span class="s1">+</span><span class="s2">n</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s0">&quot;\n&quot;</span><span class="s3">)</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot;\n&quot;</span><span class="s1">+</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">u</span><span class="s1">+</span><span class="s0">&quot;m+&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">humanize</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">diff</span><span class="s3">)</span><span class="s1">+</span><span class="s0">&quot;[0m&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">else n</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s1">.</span><span class="s2">hideDate</span><span class="s3">)</span><span class="s2">return</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s2">return</span><span class="s3">(</span><span class="s2">new Date</span><span class="s3">)</span><span class="s1">.</span><span class="s2">toISOString</span><span class="s3">()</span><span class="s1">+</span><span class="s0">&quot; &quot;</span><span class="s4">}</span><span class="s3">()</span><span class="s1">+</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot; &quot;</span><span class="s1">+</span><span class="s2">n</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">save</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">?</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s1">.</span><span class="s2">DEBUG</span><span class="s1">=</span><span class="s2">e</span><span class="s1">:</span><span class="s2">delete process</span><span class="s1">.</span><span class="s2">env</span><span class="s1">.</span><span class="s2">DEBUG</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">load</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return process</span><span class="s1">.</span><span class="s2">env</span><span class="s1">.</span><span class="s2">DEBUG</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">useColors</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;colors&quot;</span><span class="s2">in t</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s1">?</span><span class="s2">Boolean</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s1">.</span><span class="s2">colors</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">isatty</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">stderr</span><span class="s1">.</span><span class="s2">fd</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">destroy</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">deprecate</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">colors</span><span class="s1">=</span><span class="s3">[</span><span class="s5">6</span><span class="s1">,</span><span class="s5">2</span><span class="s1">,</span><span class="s5">3</span><span class="s1">,</span><span class="s5">4</span><span class="s1">,</span><span class="s5">5</span><span class="s1">,</span><span class="s5">1</span><span class="s3">]</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">$r</span><span class="s3">)</span><span class="s2">return jr</span><span class="s1">;</span><span class="s2">$r</span><span class="s1">=</span><span class="s5">1</span><span class="s1">;</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">A</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">Vr</span><span class="s3">()</span><span class="s1">,</span><span class="s4">{</span><span class="s2">env</span><span class="s1">:</span><span class="s2">r</span><span class="s4">}</span><span class="s1">=</span><span class="s2">process</span><span class="s1">;</span><span class="s2">let u</span><span class="s1">;</span><span class="s2">function o</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return </span><span class="s5">0</span><span class="s1">!==</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s4">{</span><span class="s2">level</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">hasBasic</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">has256</span><span class="s1">:</span><span class="s2">e</span><span class="s1">&gt;=</span><span class="s5">2</span><span class="s1">,</span><span class="s2">has16m</span><span class="s1">:</span><span class="s2">e</span><span class="s1">&gt;=</span><span class="s5">3</span><span class="s4">}}</span><span class="s2">function i</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s5">0</span><span class="s1">===</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return </span><span class="s5">0</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;color=16m&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;color=full&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;color=truecolor&quot;</span><span class="s3">))</span><span class="s2">return </span><span class="s5">3</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;color=256&quot;</span><span class="s3">))</span><span class="s2">return </span><span class="s5">2</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s1">&amp;&amp;!</span><span class="s2">o</span><span class="s1">&amp;&amp;</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const i</span><span class="s1">=</span><span class="s2">u</span><span class="s1">||</span><span class="s5">0</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;dumb&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">TERM</span><span class="s3">)</span><span class="s2">return i</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;win32&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">platform</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">release</span><span class="s3">()</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s0">&quot;.&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Number</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s5">0</span><span class="s3">])</span><span class="s1">&gt;=</span><span class="s5">10</span><span class="s1">&amp;&amp;</span><span class="s2">Number</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s5">2</span><span class="s3">])</span><span class="s1">&gt;=</span><span class="s5">10586</span><span class="s1">?</span><span class="s2">Number</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s5">2</span><span class="s3">])</span><span class="s1">&gt;=</span><span class="s5">14931</span><span class="s1">?</span><span class="s5">3</span><span class="s1">:</span><span class="s5">2</span><span class="s1">:</span><span class="s5">1</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;CI&quot;</span><span class="s2">in r</span><span class="s3">)</span><span class="s2">return</span><span class="s3">[</span><span class="s0">&quot;TRAVIS&quot;</span><span class="s1">,</span><span class="s0">&quot;CIRCLECI&quot;</span><span class="s1">,</span><span class="s0">&quot;APPVEYOR&quot;</span><span class="s1">,</span><span class="s0">&quot;GITLAB_CI&quot;</span><span class="s1">,</span><span class="s0">&quot;GITHUB_ACTIONS&quot;</span><span class="s1">,</span><span class="s0">&quot;BUILDKITE&quot;</span><span class="s3">]</span><span class="s1">.</span><span class="s2">some</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e in r</span><span class="s3">))</span><span class="s1">||</span><span class="s0">&quot;codeship&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">CI_NAME</span><span class="s1">?</span><span class="s5">1</span><span class="s1">:</span><span class="s2">i</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;TEAMCITY_VERSION&quot;</span><span class="s2">in r</span><span class="s3">)</span><span class="s2">return</span><span class="s0">/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">TEAMCITY_VERSION</span><span class="s3">)</span><span class="s1">?</span><span class="s5">1</span><span class="s1">:</span><span class="s5">0</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;truecolor&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">COLORTERM</span><span class="s3">)</span><span class="s2">return </span><span class="s5">3</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;TERM_PROGRAM&quot;</span><span class="s2">in r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s3">((</span><span class="s2">r</span><span class="s1">.</span><span class="s2">TERM_PROGRAM_VERSION</span><span class="s1">||</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s0">&quot;.&quot;</span><span class="s3">)[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">;</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">TERM_PROGRAM</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;iTerm.app&quot;</span><span class="s1">:</span><span class="s2">return e</span><span class="s1">&gt;=</span><span class="s5">3</span><span class="s1">?</span><span class="s5">3</span><span class="s1">:</span><span class="s5">2</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;Apple_Terminal&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s5">2</span><span class="s4">}}</span><span class="s2">return</span><span class="s0">/-256(color)?$/i</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">TERM</span><span class="s3">)</span><span class="s1">?</span><span class="s5">2</span><span class="s1">:</span><span class="s0">/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">TERM</span><span class="s3">)</span><span class="s1">||</span><span class="s0">&quot;COLORTERM&quot;</span><span class="s2">in r</span><span class="s1">?</span><span class="s5">1</span><span class="s1">:</span><span class="s2">i</span><span class="s4">}</span><span class="s2">return n</span><span class="s3">(</span><span class="s0">&quot;no-color&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;no-colors&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;color=false&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;color=never&quot;</span><span class="s3">)</span><span class="s1">?</span><span class="s2">u</span><span class="s1">=</span><span class="s5">0</span><span class="s1">:</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;color&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;colors&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;color=true&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">n</span><span class="s3">(</span><span class="s0">&quot;color=always&quot;</span><span class="s3">))</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s5">1</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;FORCE_COLOR&quot;</span><span class="s2">in r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s0">&quot;true&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">FORCE_COLOR</span><span class="s1">?</span><span class="s5">1</span><span class="s1">:</span><span class="s0">&quot;false&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">FORCE_COLOR</span><span class="s1">?</span><span class="s5">0</span><span class="s1">:</span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">FORCE_COLOR</span><span class="s1">.</span><span class="s2">length</span><span class="s1">?</span><span class="s5">1</span><span class="s1">:</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s3">(</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">FORCE_COLOR</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">,</span><span class="s5">3</span><span class="s3">))</span><span class="s1">,</span><span class="s2">jr</span><span class="s1">=</span><span class="s4">{</span><span class="s2">supportsColor</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return o</span><span class="s3">(</span><span class="s2">i</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">isTTY</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">stdout</span><span class="s1">:</span><span class="s2">o</span><span class="s3">(</span><span class="s2">i</span><span class="s3">(</span><span class="s1">!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isatty</span><span class="s3">(</span><span class="s5">1</span><span class="s3">)))</span><span class="s1">,</span><span class="s2">stderr</span><span class="s1">:</span><span class="s2">o</span><span class="s3">(</span><span class="s2">i</span><span class="s3">(</span><span class="s1">!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isatty</span><span class="s3">(</span><span class="s5">2</span><span class="s3">)))</span><span class="s4">}}</span><span class="s3">()</span><span class="s1">;</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stderr</span><span class="s1">||</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">level</span><span class="s1">&gt;=</span><span class="s5">2</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">colors</span><span class="s1">=</span><span class="s3">[</span><span class="s5">20</span><span class="s1">,</span><span class="s5">21</span><span class="s1">,</span><span class="s5">26</span><span class="s1">,</span><span class="s5">27</span><span class="s1">,</span><span class="s5">32</span><span class="s1">,</span><span class="s5">33</span><span class="s1">,</span><span class="s5">38</span><span class="s1">,</span><span class="s5">39</span><span class="s1">,</span><span class="s5">40</span><span class="s1">,</span><span class="s5">41</span><span class="s1">,</span><span class="s5">42</span><span class="s1">,</span><span class="s5">43</span><span class="s1">,</span><span class="s5">44</span><span class="s1">,</span><span class="s5">45</span><span class="s1">,</span><span class="s5">56</span><span class="s1">,</span><span class="s5">57</span><span class="s1">,</span><span class="s5">62</span><span class="s1">,</span><span class="s5">63</span><span class="s1">,</span><span class="s5">68</span><span class="s1">,</span><span class="s5">69</span><span class="s1">,</span><span class="s5">74</span><span class="s1">,</span><span class="s5">75</span><span class="s1">,</span><span class="s5">76</span><span class="s1">,</span><span class="s5">77</span><span class="s1">,</span><span class="s5">78</span><span class="s1">,</span><span class="s5">79</span><span class="s1">,</span><span class="s5">80</span><span class="s1">,</span><span class="s5">81</span><span class="s1">,</span><span class="s5">92</span><span class="s1">,</span><span class="s5">93</span><span class="s1">,</span><span class="s5">98</span><span class="s1">,</span><span class="s5">99</span><span class="s1">,</span><span class="s5">112</span><span class="s1">,</span><span class="s5">113</span><span class="s1">,</span><span class="s5">128</span><span class="s1">,</span><span class="s5">129</span><span class="s1">,</span><span class="s5">134</span><span class="s1">,</span><span class="s5">135</span><span class="s1">,</span><span class="s5">148</span><span class="s1">,</span><span class="s5">149</span><span class="s1">,</span><span class="s5">160</span><span class="s1">,</span><span class="s5">161</span><span class="s1">,</span><span class="s5">162</span><span class="s1">,</span><span class="s5">163</span><span class="s1">,</span><span class="s5">164</span><span class="s1">,</span><span class="s5">165</span><span class="s1">,</span><span class="s5">166</span><span class="s1">,</span><span class="s5">167</span><span class="s1">,</span><span class="s5">168</span><span class="s1">,</span><span class="s5">169</span><span class="s1">,</span><span class="s5">170</span><span class="s1">,</span><span class="s5">171</span><span class="s1">,</span><span class="s5">172</span><span class="s1">,</span><span class="s5">173</span><span class="s1">,</span><span class="s5">178</span><span class="s1">,</span><span class="s5">179</span><span class="s1">,</span><span class="s5">184</span><span class="s1">,</span><span class="s5">185</span><span class="s1">,</span><span class="s5">196</span><span class="s1">,</span><span class="s5">197</span><span class="s1">,</span><span class="s5">198</span><span class="s1">,</span><span class="s5">199</span><span class="s1">,</span><span class="s5">200</span><span class="s1">,</span><span class="s5">201</span><span class="s1">,</span><span class="s5">202</span><span class="s1">,</span><span class="s5">203</span><span class="s1">,</span><span class="s5">204</span><span class="s1">,</span><span class="s5">205</span><span class="s1">,</span><span class="s5">206</span><span class="s1">,</span><span class="s5">207</span><span class="s1">,</span><span class="s5">208</span><span class="s1">,</span><span class="s5">209</span><span class="s1">,</span><span class="s5">214</span><span class="s1">,</span><span class="s5">215</span><span class="s1">,</span><span class="s5">220</span><span class="s1">,</span><span class="s5">221</span><span class="s3">])</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s3">)</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s0">/^debug_/i</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s1">.</span><span class="s2">reduce</span><span class="s3">(((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">substring</span><span class="s3">(</span><span class="s5">6</span><span class="s3">)</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">()</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/_([a-z])/g</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">toUpperCase</span><span class="s3">()))</span><span class="s1">;</span><span class="s2">let r</span><span class="s1">=</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">=!!</span><span class="s0">/^(yes|on|true|enabled)$/i</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">||!</span><span class="s0">/^(no|off|false|disabled)$/i</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s0">&quot;null&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">?</span><span class="s2">null</span><span class="s1">:</span><span class="s2">Number</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">=</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">=</span><span class="s2">Rr</span><span class="s3">()(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">formatters</span><span class="s1">:</span><span class="s2">u</span><span class="s4">}</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">o</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s1">.</span><span class="s2">colors</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">useColors</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">inspect</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s3">)</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s0">&quot;\n&quot;</span><span class="s3">)</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">trim</span><span class="s3">()))</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot; &quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">O</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s1">.</span><span class="s2">colors</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">useColors</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">inspect</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">inspectOpts</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">Gr</span><span class="s1">,</span><span class="s2">Gr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">))</span><span class="s1">,</span><span class="s2">Gr</span><span class="s1">.</span><span class="s2">exports</span><span class="s4">}</span><span class="s2">Jr</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">,</span><span class="s0">&quot;undefined&quot;</span><span class="s1">==</span><span class="s2">typeof process</span><span class="s1">||</span><span class="s0">&quot;renderer&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">type</span><span class="s1">||!</span><span class="s5">0</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">browser</span><span class="s1">||</span><span class="s2">process</span><span class="s1">.</span><span class="s2">__nwjs</span><span class="s1">?</span><span class="s2">Jr</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">=</span><span class="s3">(</span><span class="s2">Br</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Br</span><span class="s1">=</span><span class="s5">1</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">formatArgs</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">=</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">useColors</span><span class="s1">?</span><span class="s0">&quot;%c&quot;</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">+</span><span class="s2">this</span><span class="s1">.</span><span class="s2">namespace</span><span class="s1">+</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">useColors</span><span class="s1">?</span><span class="s0">&quot; %c&quot;</span><span class="s1">:</span><span class="s0">&quot; &quot;</span><span class="s3">)</span><span class="s1">+</span><span class="s2">t</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">+</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">useColors</span><span class="s1">?</span><span class="s0">&quot;%c &quot;</span><span class="s1">:</span><span class="s0">&quot; &quot;</span><span class="s3">)</span><span class="s1">+</span><span class="s0">&quot;+&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">humanize</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">diff</span><span class="s3">)</span><span class="s1">,!</span><span class="s2">this</span><span class="s1">.</span><span class="s2">useColors</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s0">&quot;color: &quot;</span><span class="s1">+</span><span class="s2">this</span><span class="s1">.</span><span class="s2">color</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">splice</span><span class="s3">(</span><span class="s5">1</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s0">&quot;color: inherit&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let r</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">t</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/%[a-zA-Z%]/g</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s0">&quot;%%&quot;</span><span class="s1">!==</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">++,</span><span class="s0">&quot;%c&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">r</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">splice</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">save</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">e</span><span class="s1">?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">storage</span><span class="s1">.</span><span class="s2">setItem</span><span class="s3">(</span><span class="s0">&quot;debug&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">storage</span><span class="s1">.</span><span class="s2">removeItem</span><span class="s3">(</span><span class="s0">&quot;debug&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{}}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">load</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">let e</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">storage</span><span class="s1">.</span><span class="s2">getItem</span><span class="s3">(</span><span class="s0">&quot;debug&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{}</span><span class="s2">return</span><span class="s1">!</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s2">typeof process</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;env&quot;</span><span class="s2">in process</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s1">.</span><span class="s2">DEBUG</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">useColors</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return</span><span class="s1">!</span><span class="s3">(</span><span class="s0">&quot;undefined&quot;</span><span class="s1">==</span><span class="s2">typeof window</span><span class="s1">||!</span><span class="s2">window</span><span class="s1">.</span><span class="s2">process</span><span class="s1">||</span><span class="s0">&quot;renderer&quot;</span><span class="s1">!==</span><span class="s2">window</span><span class="s1">.</span><span class="s2">process</span><span class="s1">.</span><span class="s2">type</span><span class="s1">&amp;&amp;!</span><span class="s2">window</span><span class="s1">.</span><span class="s2">process</span><span class="s1">.</span><span class="s2">__nwjs</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s0">&quot;undefined&quot;</span><span class="s1">==</span><span class="s2">typeof navigator</span><span class="s1">||!</span><span class="s2">navigator</span><span class="s1">.</span><span class="s2">userAgent</span><span class="s1">||!</span><span class="s2">navigator</span><span class="s1">.</span><span class="s2">userAgent</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">()</span><span class="s1">.</span><span class="s2">match</span><span class="s3">(</span><span class="s0">/(edge|trident)\/(\d+)/</span><span class="s3">))</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s0">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s2">typeof document</span><span class="s1">&amp;&amp;</span><span class="s2">document</span><span class="s1">.</span><span class="s2">documentElement</span><span class="s1">&amp;&amp;</span><span class="s2">document</span><span class="s1">.</span><span class="s2">documentElement</span><span class="s1">.</span><span class="s2">style</span><span class="s1">&amp;&amp;</span><span class="s2">document</span><span class="s1">.</span><span class="s2">documentElement</span><span class="s1">.</span><span class="s2">style</span><span class="s1">.</span><span class="s2">WebkitAppearance</span><span class="s1">||</span><span class="s0">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s2">typeof window</span><span class="s1">&amp;&amp;</span><span class="s2">window</span><span class="s1">.</span><span class="s2">console</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">window</span><span class="s1">.</span><span class="s2">console</span><span class="s1">.</span><span class="s2">firebug</span><span class="s1">||</span><span class="s2">window</span><span class="s1">.</span><span class="s2">console</span><span class="s1">.</span><span class="s2">exception</span><span class="s1">&amp;&amp;</span><span class="s2">window</span><span class="s1">.</span><span class="s2">console</span><span class="s1">.</span><span class="s2">table</span><span class="s3">)</span><span class="s1">||</span><span class="s0">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s2">typeof navigator</span><span class="s1">&amp;&amp;</span><span class="s2">navigator</span><span class="s1">.</span><span class="s2">userAgent</span><span class="s1">&amp;&amp;</span><span class="s2">navigator</span><span class="s1">.</span><span class="s2">userAgent</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">()</span><span class="s1">.</span><span class="s2">match</span><span class="s3">(</span><span class="s0">/firefox\/(\d+)/</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">RegExp</span><span class="s1">.</span><span class="s2">$1</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">&gt;=</span><span class="s5">31</span><span class="s1">||</span><span class="s0">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s2">typeof navigator</span><span class="s1">&amp;&amp;</span><span class="s2">navigator</span><span class="s1">.</span><span class="s2">userAgent</span><span class="s1">&amp;&amp;</span><span class="s2">navigator</span><span class="s1">.</span><span class="s2">userAgent</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">()</span><span class="s1">.</span><span class="s2">match</span><span class="s3">(</span><span class="s0">/applewebkit\/(\d+)/</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">storage</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return localStorage</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{}}</span><span class="s3">()</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">destroy</span><span class="s1">=</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">let e</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">return</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">e</span><span class="s1">||</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">console</span><span class="s1">.</span><span class="s2">warn</span><span class="s3">(</span><span class="s0">&quot;Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.&quot;</span><span class="s3">))</span><span class="s4">}}</span><span class="s3">)()</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">colors</span><span class="s1">=</span><span class="s3">[</span><span class="s0">&quot;#0000CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#0000FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#0033CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#0033FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#0066CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#0066FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#0099CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#0099FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#00CC00&quot;</span><span class="s1">,</span><span class="s0">&quot;#00CC33&quot;</span><span class="s1">,</span><span class="s0">&quot;#00CC66&quot;</span><span class="s1">,</span><span class="s0">&quot;#00CC99&quot;</span><span class="s1">,</span><span class="s0">&quot;#00CCCC&quot;</span><span class="s1">,</span><span class="s0">&quot;#00CCFF&quot;</span><span class="s1">,</span><span class="s0">&quot;#3300CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#3300FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#3333CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#3333FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#3366CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#3366FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#3399CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#3399FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#33CC00&quot;</span><span class="s1">,</span><span class="s0">&quot;#33CC33&quot;</span><span class="s1">,</span><span class="s0">&quot;#33CC66&quot;</span><span class="s1">,</span><span class="s0">&quot;#33CC99&quot;</span><span class="s1">,</span><span class="s0">&quot;#33CCCC&quot;</span><span class="s1">,</span><span class="s0">&quot;#33CCFF&quot;</span><span class="s1">,</span><span class="s0">&quot;#6600CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#6600FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#6633CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#6633FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#66CC00&quot;</span><span class="s1">,</span><span class="s0">&quot;#66CC33&quot;</span><span class="s1">,</span><span class="s0">&quot;#9900CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#9900FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#9933CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#9933FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#99CC00&quot;</span><span class="s1">,</span><span class="s0">&quot;#99CC33&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC0000&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC0033&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC0066&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC0099&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC00CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC00FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC3300&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC3333&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC3366&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC3399&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC33CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC33FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC6600&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC6633&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC9900&quot;</span><span class="s1">,</span><span class="s0">&quot;#CC9933&quot;</span><span class="s1">,</span><span class="s0">&quot;#CCCC00&quot;</span><span class="s1">,</span><span class="s0">&quot;#CCCC33&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF0000&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF0033&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF0066&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF0099&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF00CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF00FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF3300&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF3333&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF3366&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF3399&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF33CC&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF33FF&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF6600&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF6633&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF9900&quot;</span><span class="s1">,</span><span class="s0">&quot;#FF9933&quot;</span><span class="s1">,</span><span class="s0">&quot;#FFCC00&quot;</span><span class="s1">,</span><span class="s0">&quot;#FFCC33&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">log</span><span class="s1">=</span><span class="s2">console</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">||</span><span class="s2">console</span><span class="s1">.</span><span class="s2">log</span><span class="s1">||</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">=</span><span class="s2">Rr</span><span class="s3">()(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">formatters</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">j</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;[UnexpectedJSONParseError]: &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s4">}}}</span><span class="s3">(</span><span class="s2">Ir</span><span class="s1">,</span><span class="s2">Ir</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">))</span><span class="s1">,</span><span class="s2">Ir</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Jr</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">=</span><span class="s2">Ur</span><span class="s3">()</span><span class="s1">;</span><span class="s2">var Wr</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">e</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">circles</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var t</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">proto</span><span class="s1">?</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof u</span><span class="s1">||</span><span class="s2">null</span><span class="s1">===</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return u</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u instanceof Date</span><span class="s3">)</span><span class="s2">return new Date</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">u</span><span class="s3">))</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u instanceof Map</span><span class="s3">)</span><span class="s2">return new Map</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u instanceof Set</span><span class="s3">)</span><span class="s2">return new Set</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">var o</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var i in t</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var s</span><span class="s1">=</span><span class="s2">u</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof s</span><span class="s1">||</span><span class="s2">null</span><span class="s1">===</span><span class="s2">s</span><span class="s3">)</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">s</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">s instanceof Date</span><span class="s3">)</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Date</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">s instanceof Map</span><span class="s3">)</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Map</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">s instanceof Set</span><span class="s3">)</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Set</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">ArrayBuffer</span><span class="s1">.</span><span class="s2">isView</span><span class="s3">(</span><span class="s2">s</span><span class="s3">))</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">zr</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">;</span><span class="s2">else</span><span class="s4">{</span><span class="s2">var c</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">;</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=-</span><span class="s5">1</span><span class="s1">!==</span><span class="s2">c</span><span class="s1">?</span><span class="s2">n</span><span class="s3">[</span><span class="s2">c</span><span class="s3">]</span><span class="s1">:</span><span class="s2">e</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">pop</span><span class="s3">()</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">pop</span><span class="s3">()</span><span class="s1">,</span><span class="s2">o</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof u</span><span class="s1">||</span><span class="s2">null</span><span class="s1">===</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return u</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u instanceof Date</span><span class="s3">)</span><span class="s2">return new Date</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">u</span><span class="s3">))</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u instanceof Map</span><span class="s3">)</span><span class="s2">return new Map</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u instanceof Set</span><span class="s3">)</span><span class="s2">return new Set</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">var o</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var i in t</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s5">1</span><span class="s1">!==</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">i</span><span class="s3">))</span><span class="s4">{</span><span class="s2">var s</span><span class="s1">=</span><span class="s2">u</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof s</span><span class="s1">||</span><span class="s2">null</span><span class="s1">===</span><span class="s2">s</span><span class="s3">)</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">s</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">s instanceof Date</span><span class="s3">)</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Date</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">s instanceof Map</span><span class="s3">)</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Map</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">s instanceof Set</span><span class="s3">)</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Set</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">ArrayBuffer</span><span class="s1">.</span><span class="s2">isView</span><span class="s3">(</span><span class="s2">s</span><span class="s3">))</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">zr</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">;</span><span class="s2">else</span><span class="s4">{</span><span class="s2">var c</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">;</span><span class="s2">o</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=-</span><span class="s5">1</span><span class="s1">!==</span><span class="s2">c</span><span class="s1">?</span><span class="s2">n</span><span class="s3">[</span><span class="s2">c</span><span class="s3">]</span><span class="s1">:</span><span class="s2">e</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">pop</span><span class="s3">()</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">pop</span><span class="s3">()</span><span class="s1">,</span><span class="s2">o</span><span class="s4">}</span><span class="s1">;</span><span class="s2">function r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">new Array</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">i</span><span class="s1">&lt;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">i</span><span class="s1">++</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var s</span><span class="s1">=</span><span class="s2">u</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">s</span><span class="s3">]</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof c</span><span class="s1">||</span><span class="s2">null</span><span class="s1">===</span><span class="s2">c</span><span class="s3">)</span><span class="s2">o</span><span class="s3">[</span><span class="s2">s</span><span class="s3">]</span><span class="s1">=</span><span class="s2">c</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">c instanceof Date</span><span class="s3">)</span><span class="s2">o</span><span class="s3">[</span><span class="s2">s</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Date</span><span class="s3">(</span><span class="s2">c</span><span class="s3">)</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">ArrayBuffer</span><span class="s1">.</span><span class="s2">isView</span><span class="s3">(</span><span class="s2">c</span><span class="s3">))</span><span class="s2">o</span><span class="s3">[</span><span class="s2">s</span><span class="s3">]</span><span class="s1">=</span><span class="s2">zr</span><span class="s3">(</span><span class="s2">c</span><span class="s3">)</span><span class="s1">;</span><span class="s2">else</span><span class="s4">{</span><span class="s2">var a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s2">c</span><span class="s3">)</span><span class="s1">;</span><span class="s2">o</span><span class="s3">[</span><span class="s2">s</span><span class="s3">]</span><span class="s1">=-</span><span class="s5">1</span><span class="s1">!==</span><span class="s2">a</span><span class="s1">?</span><span class="s2">n</span><span class="s3">[</span><span class="s2">a</span><span class="s3">]</span><span class="s1">:</span><span class="s2">r</span><span class="s3">(</span><span class="s2">c</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">return o</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">proto</span><span class="s1">?</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof n</span><span class="s1">||</span><span class="s2">null</span><span class="s1">===</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return n</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n instanceof Date</span><span class="s3">)</span><span class="s2">return new Date</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">n</span><span class="s3">))</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n instanceof Map</span><span class="s3">)</span><span class="s2">return new Map</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n instanceof Set</span><span class="s3">)</span><span class="s2">return new Set</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">var r</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var u in n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var o</span><span class="s1">=</span><span class="s2">n</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">;</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof o</span><span class="s1">||</span><span class="s2">null</span><span class="s1">===</span><span class="s2">o</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">o</span><span class="s1">:</span><span class="s2">o instanceof Date</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Date</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o instanceof Map</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Map</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">:</span><span class="s2">o instanceof Set</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Set</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">:</span><span class="s2">ArrayBuffer</span><span class="s1">.</span><span class="s2">isView</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">zr</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return r</span><span class="s4">}</span><span class="s1">:</span><span class="s2">n</span><span class="s1">;</span><span class="s2">function t</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var n</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">new Array</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">u</span><span class="s1">&lt;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">u</span><span class="s1">++</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var o</span><span class="s1">=</span><span class="s2">n</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">o</span><span class="s3">]</span><span class="s1">;</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof i</span><span class="s1">||</span><span class="s2">null</span><span class="s1">===</span><span class="s2">i</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">o</span><span class="s3">]</span><span class="s1">=</span><span class="s2">i</span><span class="s1">:</span><span class="s2">i instanceof Date</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">o</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Date</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">:</span><span class="s2">ArrayBuffer</span><span class="s1">.</span><span class="s2">isView</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">o</span><span class="s3">]</span><span class="s1">=</span><span class="s2">zr</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s3">[</span><span class="s2">o</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return r</span><span class="s4">}</span><span class="s2">function n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof e</span><span class="s1">||</span><span class="s2">null</span><span class="s1">===</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e instanceof Date</span><span class="s3">)</span><span class="s2">return new Date</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e instanceof Map</span><span class="s3">)</span><span class="s2">return new Map</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e instanceof Set</span><span class="s3">)</span><span class="s2">return new Set</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s1">;</span><span class="s2">var r</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var u in e</span><span class="s3">)</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s5">1</span><span class="s1">!==</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))</span><span class="s4">{</span><span class="s2">var o</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">;</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof o</span><span class="s1">||</span><span class="s2">null</span><span class="s1">===</span><span class="s2">o</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">o</span><span class="s1">:</span><span class="s2">o instanceof Date</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Date</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o instanceof Map</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Map</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s1">:</span><span class="s2">o instanceof Set</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Set</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s1">:</span><span class="s2">ArrayBuffer</span><span class="s1">.</span><span class="s2">isView</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">?</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">zr</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return r</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">function zr</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e instanceof Buffer</span><span class="s1">?</span><span class="s2">Buffer</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">new e</span><span class="s1">.</span><span class="s2">constructor</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">buffer</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">byteOffset</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s4">}</span><span class="s2">const Kr</span><span class="s1">=</span><span class="s2">F</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">qr</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:configuration&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Yr</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">Xr</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">Zr</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;!</span><span class="s2">e</span><span class="s1">,</span><span class="s2">Qr</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;!</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">eu</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">?</span><span class="s2">t</span><span class="s1">:</span><span class="s3">[</span><span class="s2">t</span><span class="s3">])</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Problem with log4js configuration: (</span><span class="s4">${</span><span class="s2">Kr</span><span class="s1">.</span><span class="s2">inspect</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">depth</span><span class="s1">:</span><span class="s5">5</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s0">) - </span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var tu</span><span class="s1">=</span><span class="s4">{</span><span class="s2">configure</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">qr</span><span class="s3">(</span><span class="s0">&quot;New configuration to be validated: &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">eu</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">Zr</span><span class="s3">(</span><span class="s2">Qr</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s0">&quot;must be an object.&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">qr</span><span class="s3">(</span><span class="s0">`Calling pre-processing listeners (</span><span class="s4">${</span><span class="s2">Yr</span><span class="s1">.</span><span class="s2">length</span><span class="s4">}</span><span class="s0">)`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Yr</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s1">,</span><span class="s2">qr</span><span class="s3">(</span><span class="s0">&quot;Configuration pre-processing finished.&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">qr</span><span class="s3">(</span><span class="s0">`Calling configuration listeners (</span><span class="s4">${</span><span class="s2">Xr</span><span class="s1">.</span><span class="s2">length</span><span class="s4">}</span><span class="s0">)`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Xr</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s1">,</span><span class="s2">qr</span><span class="s3">(</span><span class="s0">&quot;Configuration finished.&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">addListener</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">Xr</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">qr</span><span class="s3">(</span><span class="s0">`Added listener, now </span><span class="s4">${</span><span class="s2">Xr</span><span class="s1">.</span><span class="s2">length</span><span class="s4">} </span><span class="s0">listeners`</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">addPreProcessingListener</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">Yr</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">qr</span><span class="s3">(</span><span class="s0">`Added pre-processing listener, now </span><span class="s4">${</span><span class="s2">Yr</span><span class="s1">.</span><span class="s2">length</span><span class="s4">} </span><span class="s0">listeners`</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">throwExceptionIf</span><span class="s1">:</span><span class="s2">eu</span><span class="s1">,</span><span class="s2">anObject</span><span class="s1">:</span><span class="s2">Qr</span><span class="s1">,</span><span class="s2">anInteger</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;number&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">isInteger</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">validIdentifier</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s0">/^[A-Za-z][A-Za-z0-9_]*$/g</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">not</span><span class="s1">:</span><span class="s2">Zr</span><span class="s4">}</span><span class="s1">,</span><span class="s2">nu</span><span class="s1">=</span><span class="s4">{</span><span class="s2">exports</span><span class="s1">:</span><span class="s4">{}}</span><span class="s1">;!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function t</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&lt;</span><span class="s2">t</span><span class="s1">;</span><span class="s3">)</span><span class="s2">n</span><span class="s1">=</span><span class="s0">&quot;0&quot;</span><span class="s1">+</span><span class="s2">n</span><span class="s1">;</span><span class="s2">return n</span><span class="s4">}</span><span class="s2">function n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">2</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function r</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;string&quot;</span><span class="s1">!=</span><span class="s2">typeof r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">ISO8601_FORMAT</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">||</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">now</span><span class="s3">())</span><span class="s1">;</span><span class="s2">var o</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">getDate</span><span class="s3">())</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">getMonth</span><span class="s3">()</span><span class="s1">+</span><span class="s5">1</span><span class="s3">)</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">getFullYear</span><span class="s3">())</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">substring</span><span class="s3">(</span><span class="s5">2</span><span class="s1">,</span><span class="s5">4</span><span class="s3">))</span><span class="s1">,</span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s0">&quot;yyyy&quot;</span><span class="s3">)</span><span class="s1">&gt;-</span><span class="s5">1</span><span class="s1">?</span><span class="s2">s</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">getHours</span><span class="s3">())</span><span class="s1">,</span><span class="s2">f</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">getMinutes</span><span class="s3">())</span><span class="s1">,</span><span class="s2">d</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">getSeconds</span><span class="s3">())</span><span class="s1">,</span><span class="s2">D</span><span class="s1">=</span><span class="s2">t</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">getMilliseconds</span><span class="s3">()</span><span class="s1">,</span><span class="s5">3</span><span class="s3">)</span><span class="s1">,</span><span class="s2">p</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var t</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">floor</span><span class="s3">(</span><span class="s2">t</span><span class="s1">/</span><span class="s5">60</span><span class="s3">))</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">t</span><span class="s1">%</span><span class="s5">60</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return n</span><span class="s1">=</span><span class="s3">(</span><span class="s0">&quot;0&quot;</span><span class="s1">+</span><span class="s2">n</span><span class="s3">)</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s1">-</span><span class="s5">2</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s3">(</span><span class="s0">&quot;0&quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s3">)</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s1">-</span><span class="s5">2</span><span class="s3">)</span><span class="s1">,</span><span class="s5">0</span><span class="s1">===</span><span class="s2">e</span><span class="s1">?</span><span class="s0">&quot;Z&quot;</span><span class="s1">:</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s1">?</span><span class="s0">&quot;+&quot;</span><span class="s1">:</span><span class="s0">&quot;-&quot;</span><span class="s3">)</span><span class="s1">+</span><span class="s2">n</span><span class="s1">+</span><span class="s0">&quot;:&quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s4">}</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">getTimezoneOffset</span><span class="s3">())</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/dd/g</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/MM/g</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/y{1,4}/g</span><span class="s1">,</span><span class="s2">a</span><span class="s3">)</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/hh/g</span><span class="s1">,</span><span class="s2">l</span><span class="s3">)</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/mm/g</span><span class="s1">,</span><span class="s2">f</span><span class="s3">)</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/ss/g</span><span class="s1">,</span><span class="s2">d</span><span class="s3">)</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/SSS/g</span><span class="s1">,</span><span class="s2">D</span><span class="s3">)</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/O/g</span><span class="s1">,</span><span class="s2">p</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s3">[</span><span class="s0">&quot;set&quot;</span><span class="s1">+</span><span class="s3">(</span><span class="s2">r</span><span class="s1">?</span><span class="s0">&quot;&quot;</span><span class="s1">:</span><span class="s0">&quot;UTC&quot;</span><span class="s3">)</span><span class="s1">+</span><span class="s2">t</span><span class="s3">](</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">=</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">asString</span><span class="s1">=</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">parse</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">t</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;pattern must be supplied&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var o</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s0">&quot;O&quot;</span><span class="s3">)</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s3">[</span><span class="s4">{</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">/y{1,4}/</span><span class="s1">,</span><span class="s2">regexp</span><span class="s1">:</span><span class="s0">&quot;\\d{1,4}&quot;</span><span class="s1">,</span><span class="s2">fn</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;FullYear&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s4">{</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">/MM/</span><span class="s1">,</span><span class="s2">regexp</span><span class="s1">:</span><span class="s0">&quot;\\d{1,2}&quot;</span><span class="s1">,</span><span class="s2">fn</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;Month&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">-</span><span class="s5">1</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getMonth</span><span class="s3">()</span><span class="s1">!==</span><span class="s2">t</span><span class="s1">-</span><span class="s5">1</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">i</span><span class="s1">=!</span><span class="s5">0</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s4">{</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">/dd/</span><span class="s1">,</span><span class="s2">regexp</span><span class="s1">:</span><span class="s0">&quot;\\d{1,2}&quot;</span><span class="s1">,</span><span class="s2">fn</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">i</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;Month&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getMonth</span><span class="s3">()</span><span class="s1">-</span><span class="s5">1</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;Date&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s4">{</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">/hh/</span><span class="s1">,</span><span class="s2">regexp</span><span class="s1">:</span><span class="s0">&quot;\\d{1,2}&quot;</span><span class="s1">,</span><span class="s2">fn</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;Hours&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s4">{</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">/mm/</span><span class="s1">,</span><span class="s2">regexp</span><span class="s1">:</span><span class="s0">&quot;\\d\\d&quot;</span><span class="s1">,</span><span class="s2">fn</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;Minutes&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s4">{</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">/ss/</span><span class="s1">,</span><span class="s2">regexp</span><span class="s1">:</span><span class="s0">&quot;\\d\\d&quot;</span><span class="s1">,</span><span class="s2">fn</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;Seconds&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s4">{</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">/SSS/</span><span class="s1">,</span><span class="s2">regexp</span><span class="s1">:</span><span class="s0">&quot;\\d\\d\\d&quot;</span><span class="s1">,</span><span class="s2">fn</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;Milliseconds&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s4">{</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">/O/</span><span class="s1">,</span><span class="s2">regexp</span><span class="s1">:</span><span class="s0">&quot;[+-]\\d{1,2}:?\\d{2}?|Z&quot;</span><span class="s1">,</span><span class="s2">fn</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s0">&quot;Z&quot;</span><span class="s1">===</span><span class="s2">t</span><span class="s1">?</span><span class="s5">0</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;:&quot;</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var n</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s3">(</span><span class="s2">t</span><span class="s1">&gt;</span><span class="s5">0</span><span class="s1">?-</span><span class="s5">1</span><span class="s1">:</span><span class="s5">1</span><span class="s3">)</span><span class="s1">*</span><span class="s3">(</span><span class="s2">n</span><span class="s1">%</span><span class="s5">100</span><span class="s1">+</span><span class="s5">60</span><span class="s1">*</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">floor</span><span class="s3">(</span><span class="s2">n</span><span class="s1">/</span><span class="s5">100</span><span class="s3">))</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">setUTCMinutes</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getUTCMinutes</span><span class="s3">()</span><span class="s1">+</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">]</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">reduce</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">regexp</span><span class="s3">)</span><span class="s1">?</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">index</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">regexp</span><span class="s1">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">pattern</span><span class="s3">)</span><span class="s1">.</span><span class="s2">index</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">regexp</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">regexp</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">,</span><span class="s0">&quot;(&quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">regexp</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s3">))</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">index</span><span class="s1">=-</span><span class="s5">1</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s4">{</span><span class="s2">regexp</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">index</span><span class="s1">:</span><span class="s3">[]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">a</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">index</span><span class="s1">&gt;-</span><span class="s5">1</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">sort</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">index</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">index</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">var l</span><span class="s1">=</span><span class="s2">new RegExp</span><span class="s3">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">regexp</span><span class="s3">)</span><span class="s1">.</span><span class="s2">exec</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">l</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var f</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">;</span><span class="s2">return a</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fn</span><span class="s3">(</span><span class="s2">f</span><span class="s1">,</span><span class="s2">l</span><span class="s3">[</span><span class="s2">t</span><span class="s1">+</span><span class="s5">1</span><span class="s3">])</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">f</span><span class="s4">}</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;String '&quot;</span><span class="s1">+</span><span class="s2">n</span><span class="s1">+</span><span class="s0">&quot;' could not be parsed as '&quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">+</span><span class="s0">&quot;'&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">now</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return new Date</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">ISO8601_FORMAT</span><span class="s1">=</span><span class="s0">&quot;yyyy-MM-ddThh:mm:ss.SSS&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">ISO8601_WITH_TZ_OFFSET_FORMAT</span><span class="s1">=</span><span class="s0">&quot;yyyy-MM-ddThh:mm:ss.SSSO&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">DATETIME_FORMAT</span><span class="s1">=</span><span class="s0">&quot;dd MM yyyy hh:mm:ss.SSS&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">ABSOLUTETIME_FORMAT</span><span class="s1">=</span><span class="s0">&quot;hh:mm:ss.SSS&quot;</span><span class="s4">}</span><span class="s3">(</span><span class="s2">nu</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const ru</span><span class="s1">=</span><span class="s2">nu</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">,</span><span class="s2">uu</span><span class="s1">=</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">ou</span><span class="s1">=</span><span class="s2">F</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">iu</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">su</span><span class="s1">=</span><span class="s4">{</span><span class="s2">bold</span><span class="s1">:</span><span class="s3">[</span><span class="s5">1</span><span class="s1">,</span><span class="s5">22</span><span class="s3">]</span><span class="s1">,</span><span class="s2">italic</span><span class="s1">:</span><span class="s3">[</span><span class="s5">3</span><span class="s1">,</span><span class="s5">23</span><span class="s3">]</span><span class="s1">,</span><span class="s2">underline</span><span class="s1">:</span><span class="s3">[</span><span class="s5">4</span><span class="s1">,</span><span class="s5">24</span><span class="s3">]</span><span class="s1">,</span><span class="s2">inverse</span><span class="s1">:</span><span class="s3">[</span><span class="s5">7</span><span class="s1">,</span><span class="s5">27</span><span class="s3">]</span><span class="s1">,</span><span class="s2">white</span><span class="s1">:</span><span class="s3">[</span><span class="s5">37</span><span class="s1">,</span><span class="s5">39</span><span class="s3">]</span><span class="s1">,</span><span class="s2">grey</span><span class="s1">:</span><span class="s3">[</span><span class="s5">90</span><span class="s1">,</span><span class="s5">39</span><span class="s3">]</span><span class="s1">,</span><span class="s2">black</span><span class="s1">:</span><span class="s3">[</span><span class="s5">90</span><span class="s1">,</span><span class="s5">39</span><span class="s3">]</span><span class="s1">,</span><span class="s2">blue</span><span class="s1">:</span><span class="s3">[</span><span class="s5">34</span><span class="s1">,</span><span class="s5">39</span><span class="s3">]</span><span class="s1">,</span><span class="s2">cyan</span><span class="s1">:</span><span class="s3">[</span><span class="s5">36</span><span class="s1">,</span><span class="s5">39</span><span class="s3">]</span><span class="s1">,</span><span class="s2">green</span><span class="s1">:</span><span class="s3">[</span><span class="s5">32</span><span class="s1">,</span><span class="s5">39</span><span class="s3">]</span><span class="s1">,</span><span class="s2">magenta</span><span class="s1">:</span><span class="s3">[</span><span class="s5">35</span><span class="s1">,</span><span class="s5">39</span><span class="s3">]</span><span class="s1">,</span><span class="s2">red</span><span class="s1">:</span><span class="s3">[</span><span class="s5">91</span><span class="s1">,</span><span class="s5">39</span><span class="s3">]</span><span class="s1">,</span><span class="s2">yellow</span><span class="s1">:</span><span class="s3">[</span><span class="s5">33</span><span class="s1">,</span><span class="s5">39</span><span class="s3">]</span><span class="s4">}</span><span class="s1">;</span><span class="s2">function cu</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">?</span><span class="s0">`[</span><span class="s4">${</span><span class="s2">su</span><span class="s3">[</span><span class="s2">e</span><span class="s3">][</span><span class="s5">0</span><span class="s3">]</span><span class="s4">}</span><span class="s0">m`</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s4">}</span><span class="s2">function au</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">?</span><span class="s0">`[</span><span class="s4">${</span><span class="s2">su</span><span class="s3">[</span><span class="s2">e</span><span class="s3">][</span><span class="s5">1</span><span class="s3">]</span><span class="s4">}</span><span class="s0">m`</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s4">}</span><span class="s2">function lu</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return n</span><span class="s1">=</span><span class="s2">ou</span><span class="s1">.</span><span class="s2">format</span><span class="s3">(</span><span class="s0">&quot;[%s] [%s] %s - &quot;</span><span class="s1">,</span><span class="s2">ru</span><span class="s1">.</span><span class="s2">asString</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startTime</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">level</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categoryName</span><span class="s3">)</span><span class="s1">,</span><span class="s2">cu</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s3">)</span><span class="s1">+</span><span class="s2">n</span><span class="s1">+</span><span class="s2">au</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var n</span><span class="s1">,</span><span class="s2">r</span><span class="s4">}</span><span class="s2">function fu</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return lu</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">+</span><span class="s2">ou</span><span class="s1">.</span><span class="s2">format</span><span class="s3">(</span><span class="s1">...</span><span class="s2">e</span><span class="s1">.</span><span class="s2">data</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function du</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return lu</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">level</span><span class="s1">.</span><span class="s2">colour</span><span class="s3">)</span><span class="s1">+</span><span class="s2">ou</span><span class="s1">.</span><span class="s2">format</span><span class="s3">(</span><span class="s1">...</span><span class="s2">e</span><span class="s1">.</span><span class="s2">data</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function Du</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return ou</span><span class="s1">.</span><span class="s2">format</span><span class="s3">(</span><span class="s1">...</span><span class="s2">e</span><span class="s1">.</span><span class="s2">data</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function pu</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">data</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s4">}</span><span class="s2">function Eu</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s0">/%(-?[0-9]+)?(\.?-?[0-9]+)?([[\]cdhmnprzxXyflos%])(\{([^}]+)\})?|([^%]+)/</span><span class="s1">;</span><span class="s2">function r</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">pid</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">pid</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s1">:</span><span class="s2">process</span><span class="s1">.</span><span class="s2">pid</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s4">}</span><span class="s2">e</span><span class="s1">=</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;%r %p %c - %m%n&quot;</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s4">{</span><span class="s2">c</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categoryName</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s0">&quot;.&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">&lt;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot;.&quot;</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return n</span><span class="s4">}</span><span class="s1">,</span><span class="s2">d</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">ru</span><span class="s1">.</span><span class="s2">ISO8601_FORMAT</span><span class="s1">;</span><span class="s2">return t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;ISO8601&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">?</span><span class="s2">n</span><span class="s1">=</span><span class="s2">ru</span><span class="s1">.</span><span class="s2">ISO8601_FORMAT</span><span class="s1">:</span><span class="s0">&quot;ISO8601_WITH_TZ_OFFSET&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">?</span><span class="s2">n</span><span class="s1">=</span><span class="s2">ru</span><span class="s1">.</span><span class="s2">ISO8601_WITH_TZ_OFFSET_FORMAT</span><span class="s1">:</span><span class="s0">&quot;ABSOLUTE&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">?</span><span class="s2">n</span><span class="s1">=</span><span class="s2">ru</span><span class="s1">.</span><span class="s2">ABSOLUTETIME_FORMAT</span><span class="s1">:</span><span class="s0">&quot;DATE&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">ru</span><span class="s1">.</span><span class="s2">DATETIME_FORMAT</span><span class="s3">))</span><span class="s1">,</span><span class="s2">ru</span><span class="s1">.</span><span class="s2">asString</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startTime</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">h</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return uu</span><span class="s1">.</span><span class="s2">hostname</span><span class="s3">()</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">m</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return ou</span><span class="s1">.</span><span class="s2">format</span><span class="s3">(</span><span class="s1">...</span><span class="s2">e</span><span class="s1">.</span><span class="s2">data</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">n</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return uu</span><span class="s1">.</span><span class="s2">EOL</span><span class="s4">}</span><span class="s1">,</span><span class="s2">p</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">level</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">r</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return ru</span><span class="s1">.</span><span class="s2">asString</span><span class="s3">(</span><span class="s0">&quot;hh:mm:ss&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startTime</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s0">&quot;[&quot;</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return cu</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">level</span><span class="s1">.</span><span class="s2">colour</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s0">&quot;]&quot;</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return au</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">level</span><span class="s1">.</span><span class="s2">colour</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return r</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">z</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s0">&quot;%&quot;</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;%&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">x</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return void </span><span class="s5">0</span><span class="s1">!==</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">?</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">?</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">](</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">:</span><span class="s2">null</span><span class="s4">}</span><span class="s1">,</span><span class="s2">X</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">context</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">;</span><span class="s2">return void </span><span class="s5">0</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">?</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s1">:</span><span class="s2">null</span><span class="s4">}</span><span class="s1">,</span><span class="s2">f</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fileName</span><span class="s1">||</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s2">iu</span><span class="s1">.</span><span class="s2">sep</span><span class="s3">)</span><span class="s1">;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s1">-</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">iu</span><span class="s1">.</span><span class="s2">sep</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return n</span><span class="s4">}</span><span class="s1">,</span><span class="s2">l</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">lineNumber</span><span class="s1">?</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lineNumber</span><span class="s4">}</span><span class="s0">`</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">o</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">columnNumber</span><span class="s1">?</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s1">.</span><span class="s2">columnNumber</span><span class="s4">}</span><span class="s0">`</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">s</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">callStack</span><span class="s1">||</span><span class="s0">&quot;&quot;</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">function o</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return u</span><span class="s3">[</span><span class="s2">e</span><span class="s3">](</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function i</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">?</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s5">1</span><span class="s3">)</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">&gt;</span><span class="s5">0</span><span class="s1">?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s2">n</span><span class="s3">))</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;-&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">charAt</span><span class="s3">(</span><span class="s5">0</span><span class="s3">))</span><span class="s2">for</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s5">1</span><span class="s3">)</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&lt;</span><span class="s2">n</span><span class="s1">;</span><span class="s3">)</span><span class="s2">t</span><span class="s1">+=</span><span class="s0">&quot; &quot;</span><span class="s1">;</span><span class="s2">else for</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&lt;</span><span class="s2">n</span><span class="s1">;</span><span class="s3">)</span><span class="s2">t</span><span class="s1">=</span><span class="s0">` </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s1">;</span><span class="s2">return t</span><span class="s4">}</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s4">}</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s1">;</span><span class="s2">null</span><span class="s1">!==</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">exec</span><span class="s3">(</span><span class="s2">s</span><span class="s3">))</span><span class="s1">;</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">r</span><span class="s3">[</span><span class="s5">1</span><span class="s3">]</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">r</span><span class="s3">[</span><span class="s5">2</span><span class="s3">]</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=</span><span class="s2">r</span><span class="s3">[</span><span class="s5">3</span><span class="s3">]</span><span class="s1">,</span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s3">[</span><span class="s5">5</span><span class="s3">]</span><span class="s1">,</span><span class="s2">l</span><span class="s1">=</span><span class="s2">r</span><span class="s3">[</span><span class="s5">6</span><span class="s3">]</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">l</span><span class="s3">)</span><span class="s2">u</span><span class="s1">+=</span><span class="s2">l</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s1">;</span><span class="s2">else</span><span class="s4">{</span><span class="s2">u</span><span class="s1">+=</span><span class="s2">i</span><span class="s3">(</span><span class="s2">o</span><span class="s3">(</span><span class="s2">c</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">s</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">index</span><span class="s1">+</span><span class="s2">r</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return u</span><span class="s4">}}</span><span class="s2">const mu</span><span class="s1">=</span><span class="s4">{</span><span class="s2">messagePassThrough</span><span class="s1">:</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">Du</span><span class="s1">,</span><span class="s2">basic</span><span class="s1">:</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">fu</span><span class="s1">,</span><span class="s2">colored</span><span class="s1">:</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">du</span><span class="s1">,</span><span class="s2">coloured</span><span class="s1">:</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">du</span><span class="s1">,</span><span class="s2">pattern</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">Eu</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">,</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">tokens</span><span class="s3">)</span><span class="s1">,</span><span class="s2">dummy</span><span class="s1">:</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">pu</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var hu</span><span class="s1">=</span><span class="s4">{</span><span class="s2">basicLayout</span><span class="s1">:</span><span class="s2">fu</span><span class="s1">,</span><span class="s2">messagePassThroughLayout</span><span class="s1">:</span><span class="s2">Du</span><span class="s1">,</span><span class="s2">patternLayout</span><span class="s1">:</span><span class="s2">Eu</span><span class="s1">,</span><span class="s2">colouredLayout</span><span class="s1">:</span><span class="s2">du</span><span class="s1">,</span><span class="s2">coloredLayout</span><span class="s1">:</span><span class="s2">du</span><span class="s1">,</span><span class="s2">dummyLayout</span><span class="s1">:</span><span class="s2">pu</span><span class="s1">,</span><span class="s2">addLayout</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">mu</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s1">,</span><span class="s2">layout</span><span class="s1">:</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">mu</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]</span><span class="s1">&amp;&amp;</span><span class="s2">mu</span><span class="s3">[</span><span class="s2">e</span><span class="s3">](</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const yu</span><span class="s1">=</span><span class="s2">tu</span><span class="s1">,</span><span class="s2">Cu</span><span class="s1">=</span><span class="s3">[</span><span class="s0">&quot;white&quot;</span><span class="s1">,</span><span class="s0">&quot;grey&quot;</span><span class="s1">,</span><span class="s0">&quot;black&quot;</span><span class="s1">,</span><span class="s0">&quot;blue&quot;</span><span class="s1">,</span><span class="s0">&quot;cyan&quot;</span><span class="s1">,</span><span class="s0">&quot;green&quot;</span><span class="s1">,</span><span class="s0">&quot;magenta&quot;</span><span class="s1">,</span><span class="s0">&quot;red&quot;</span><span class="s1">,</span><span class="s0">&quot;yellow&quot;</span><span class="s3">]</span><span class="s1">;</span><span class="s2">class Fu</span><span class="s4">{</span><span class="s2">constructor</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">level</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">levelStr</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">colour</span><span class="s1">=</span><span class="s2">n</span><span class="s4">}</span><span class="s2">toString</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">levelStr</span><span class="s4">}</span><span class="s2">static getLevel</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">?</span><span class="s2">e instanceof Fu</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s3">(</span><span class="s2">e instanceof Object</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">levelStr</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">levelStr</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Fu</span><span class="s3">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s1">.</span><span class="s2">toUpperCase</span><span class="s3">()]</span><span class="s1">||</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s2">static addLevels</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">toUpperCase</span><span class="s3">()</span><span class="s1">;</span><span class="s2">Fu</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">=</span><span class="s2">new Fu</span><span class="s3">(</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">.</span><span class="s2">value</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">.</span><span class="s2">colour</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">Fu</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">findIndex</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">levelStr</span><span class="s1">===</span><span class="s2">n</span><span class="s3">))</span><span class="s1">;</span><span class="s2">r</span><span class="s1">&gt;-</span><span class="s5">1</span><span class="s1">?</span><span class="s2">Fu</span><span class="s1">.</span><span class="s2">levels</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">Fu</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">:</span><span class="s2">Fu</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">Fu</span><span class="s3">[</span><span class="s2">n</span><span class="s3">])</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">Fu</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">sort</span><span class="s3">(((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">level</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">level</span><span class="s3">))</span><span class="s4">}}</span><span class="s2">isLessThanOrEqualTo</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">Fu</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">level</span><span class="s1">&lt;=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">level</span><span class="s4">}</span><span class="s2">isGreaterThanOrEqualTo</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">Fu</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">level</span><span class="s1">&gt;=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">level</span><span class="s4">}</span><span class="s2">isEqualTo</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">Fu</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">level</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">level</span><span class="s4">}}</span><span class="s2">Fu</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">Fu</span><span class="s1">.</span><span class="s2">addLevels</span><span class="s3">(</span><span class="s4">{</span><span class="s2">ALL</span><span class="s1">:</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">MIN_VALUE</span><span class="s1">,</span><span class="s2">colour</span><span class="s1">:</span><span class="s0">&quot;grey&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">TRACE</span><span class="s1">:</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s5">5e3</span><span class="s1">,</span><span class="s2">colour</span><span class="s1">:</span><span class="s0">&quot;blue&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">DEBUG</span><span class="s1">:</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s5">1e4</span><span class="s1">,</span><span class="s2">colour</span><span class="s1">:</span><span class="s0">&quot;cyan&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">INFO</span><span class="s1">:</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s5">2e4</span><span class="s1">,</span><span class="s2">colour</span><span class="s1">:</span><span class="s0">&quot;green&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">WARN</span><span class="s1">:</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s5">3e4</span><span class="s1">,</span><span class="s2">colour</span><span class="s1">:</span><span class="s0">&quot;yellow&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">ERROR</span><span class="s1">:</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s5">4e4</span><span class="s1">,</span><span class="s2">colour</span><span class="s1">:</span><span class="s0">&quot;red&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">FATAL</span><span class="s1">:</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s5">5e4</span><span class="s1">,</span><span class="s2">colour</span><span class="s1">:</span><span class="s0">&quot;magenta&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">MARK</span><span class="s1">:</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s5">9007199254740992</span><span class="s1">,</span><span class="s2">colour</span><span class="s1">:</span><span class="s0">&quot;grey&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">OFF</span><span class="s1">:</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">MAX_VALUE</span><span class="s1">,</span><span class="s2">colour</span><span class="s1">:</span><span class="s0">&quot;grey&quot;</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">addListener</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">anObject</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">,</span><span class="s0">&quot;levels must be an object&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">validIdentifier</span><span class="s3">(</span><span class="s2">n</span><span class="s3">))</span><span class="s1">,</span><span class="s0">`level name &quot;</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">&quot; is not a valid identifier (must start with a letter, only contain A-Z,a-z,0-9,_)`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">anObject</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]))</span><span class="s1">,</span><span class="s0">`level &quot;</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">&quot; must be an object`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">value</span><span class="s3">)</span><span class="s1">,</span><span class="s0">`level &quot;</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">&quot; must have a 'value' property`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">anInteger</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">value</span><span class="s3">))</span><span class="s1">,</span><span class="s0">`level &quot;</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">&quot;.value must have an integer value`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">colour</span><span class="s3">)</span><span class="s1">,</span><span class="s0">`level &quot;</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">&quot; must have a 'colour' property`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">Cu</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">colour</span><span class="s3">)</span><span class="s1">&gt;-</span><span class="s5">1</span><span class="s3">)</span><span class="s1">,</span><span class="s0">`level &quot;</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">&quot;.colour must be one of </span><span class="s4">${</span><span class="s2">Cu</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot;, &quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">yu</span><span class="s1">.</span><span class="s2">addListener</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">Fu</span><span class="s1">.</span><span class="s2">addLevels</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">levels</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">var gu</span><span class="s1">=</span><span class="s2">Fu</span><span class="s1">,</span><span class="s2">Au</span><span class="s1">=</span><span class="s4">{</span><span class="s2">exports</span><span class="s1">:</span><span class="s4">{}}</span><span class="s1">,</span><span class="s2">vu</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s6">/*! (c) 2020 Andrea Giammarchi */</span>
<span class="s2">const</span><span class="s4">{</span><span class="s2">parse</span><span class="s1">:</span><span class="s2">Su</span><span class="s1">,</span><span class="s2">stringify</span><span class="s1">:</span><span class="s2">wu</span><span class="s4">}</span><span class="s1">=</span><span class="s2">JSON</span><span class="s1">,</span><span class="s4">{</span><span class="s2">keys</span><span class="s1">:</span><span class="s2">Ou</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">,</span><span class="s2">bu</span><span class="s1">=</span><span class="s2">String</span><span class="s1">,</span><span class="s2">_u</span><span class="s1">=</span><span class="s0">&quot;string&quot;</span><span class="s1">,</span><span class="s2">Bu</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">Pu</span><span class="s1">=</span><span class="s0">&quot;object&quot;</span><span class="s1">,</span><span class="s2">ku</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">,</span><span class="s2">xu</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e instanceof bu</span><span class="s1">?</span><span class="s2">bu</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">Nu</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">typeof t</span><span class="s1">===</span><span class="s2">_u</span><span class="s1">?</span><span class="s2">new bu</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">Iu</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">let o</span><span class="s1">=</span><span class="s2">Ou</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s4">{</span><span class="s2">length</span><span class="s1">:</span><span class="s2">i</span><span class="s4">}</span><span class="s1">=</span><span class="s2">o</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">s</span><span class="s1">&lt;</span><span class="s2">i</span><span class="s1">;</span><span class="s2">s</span><span class="s1">++</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const i</span><span class="s1">=</span><span class="s2">o</span><span class="s3">[</span><span class="s2">s</span><span class="s3">]</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=</span><span class="s2">n</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">c instanceof bu</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">c</span><span class="s3">]</span><span class="s1">;</span><span class="s2">typeof o</span><span class="s1">!==</span><span class="s2">Pu</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">has</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">?</span><span class="s2">n</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">add</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">Bu</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">k</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">a</span><span class="s1">:</span><span class="s3">[</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">r</span><span class="s3">]</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">else n</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">!==</span><span class="s2">Bu</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">c</span><span class="s3">))</span><span class="s4">}</span><span class="s2">for</span><span class="s3">(</span><span class="s2">let</span><span class="s4">{</span><span class="s2">length</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s1">=</span><span class="s2">u</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">t</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">;</span><span class="s2">t</span><span class="s1">++</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const</span><span class="s4">{</span><span class="s2">k</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">:</span><span class="s2">o</span><span class="s4">}</span><span class="s1">=</span><span class="s2">u</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">;</span><span class="s2">n</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">Iu</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">o</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return n</span><span class="s4">}</span><span class="s1">,</span><span class="s2">Tu</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">bu</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">-</span><span class="s5">1</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s4">}</span><span class="s1">,</span><span class="s2">Ru</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Su</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">Nu</span><span class="s3">)</span><span class="s1">.</span><span class="s2">map</span><span class="s3">(</span><span class="s2">xu</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">t</span><span class="s1">||</span><span class="s2">ku</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">typeof r</span><span class="s1">===</span><span class="s2">Pu</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">?</span><span class="s2">Iu</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">new Set</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s1">;</span><span class="s2">return u</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s4">{</span><span class="s0">&quot;&quot;</span><span class="s1">:</span><span class="s2">o</span><span class="s4">}</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">vu</span><span class="s1">.</span><span class="s2">parse</span><span class="s1">=</span><span class="s2">Ru</span><span class="s1">;</span><span class="s2">const Mu</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s2">typeof t</span><span class="s1">===</span><span class="s2">Pu</span><span class="s1">?</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s0">&quot;&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||-</span><span class="s5">1</span><span class="s1">&lt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">?</span><span class="s2">n</span><span class="s1">:</span><span class="s2">void </span><span class="s5">0</span><span class="s1">:</span><span class="s2">t</span><span class="s1">||</span><span class="s2">ku</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">new Map</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">let s</span><span class="s1">=+</span><span class="s2">Tu</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s4">{</span><span class="s0">&quot;&quot;</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=!</span><span class="s2">s</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s1">;</span><span class="s2">s</span><span class="s1">&lt;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s3">)</span><span class="s2">c</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">i</span><span class="s3">[</span><span class="s2">s</span><span class="s3">]</span><span class="s1">=</span><span class="s2">wu</span><span class="s3">(</span><span class="s2">o</span><span class="s3">[</span><span class="s2">s</span><span class="s1">++</span><span class="s3">]</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return</span><span class="s0">&quot;[&quot;</span><span class="s1">+</span><span class="s2">i</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot;,&quot;</span><span class="s3">)</span><span class="s1">+</span><span class="s0">&quot;]&quot;</span><span class="s1">;</span><span class="s2">function a</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">c</span><span class="s3">)</span><span class="s2">return c</span><span class="s1">=!</span><span class="s2">c</span><span class="s1">,</span><span class="s2">t</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">typeof n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case Pu</span><span class="s1">:</span><span class="s2">if</span><span class="s3">(</span><span class="s2">null</span><span class="s1">===</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return n</span><span class="s1">;</span><span class="s2">case _u</span><span class="s1">:</span><span class="s2">return u</span><span class="s1">.</span><span class="s2">get</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">||</span><span class="s2">Tu</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return n</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">vu</span><span class="s1">.</span><span class="s2">stringify</span><span class="s1">=</span><span class="s2">Mu</span><span class="s1">;</span><span class="s2">vu</span><span class="s1">.</span><span class="s2">toJSON</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">Su</span><span class="s3">(</span><span class="s2">Mu</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">vu</span><span class="s1">.</span><span class="s2">fromJSON</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">Ru</span><span class="s3">(</span><span class="s2">wu</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">const Lu</span><span class="s1">=</span><span class="s2">vu</span><span class="s1">,</span><span class="s2">ju</span><span class="s1">=</span><span class="s2">gu</span><span class="s1">;</span><span class="s2">class $u</span><span class="s4">{</span><span class="s2">constructor</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">startTime</span><span class="s1">=</span><span class="s2">new Date</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">categoryName</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">data</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">level</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">context</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s3">(</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">pid</span><span class="s1">=</span><span class="s2">process</span><span class="s1">.</span><span class="s2">pid</span><span class="s1">,</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">functionName</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">functionName</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileName</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">fileName</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">lineNumber</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">lineNumber</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">columnNumber</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">columnNumber</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">callStack</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">callStack</span><span class="s3">)</span><span class="s4">}</span><span class="s2">serialise</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">data</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stack</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s3">(</span><span class="s4">{</span><span class="s2">message</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">stack</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stack</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)))</span><span class="s1">;</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">data</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">Lu</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">this</span><span class="s3">)</span><span class="s4">}</span><span class="s2">static deserialise</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let t</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Lu</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">data</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">data</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stack</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">new Error</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s2">return e</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">new $u</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">categoryName</span><span class="s1">,</span><span class="s2">ju</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">level</span><span class="s1">.</span><span class="s2">levelStr</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">data</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">context</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">startTime</span><span class="s1">=</span><span class="s2">new Date</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">startTime</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">pid</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">pid</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">cluster</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">cluster</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">new $u</span><span class="s3">(</span><span class="s0">&quot;log4js&quot;</span><span class="s1">,</span><span class="s2">ju</span><span class="s1">.</span><span class="s2">ERROR</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;Unable to parse log:&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;because: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s3">])</span><span class="s4">}</span><span class="s2">return t</span><span class="s4">}}</span><span class="s2">var Hu</span><span class="s1">=</span><span class="s2">$u</span><span class="s1">;</span><span class="s2">const Ju</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:clustering&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Gu</span><span class="s1">=</span><span class="s2">Hu</span><span class="s1">,</span><span class="s2">Vu</span><span class="s1">=</span><span class="s2">tu</span><span class="s1">;</span><span class="s2">let Uu</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">Wu</span><span class="s1">=</span><span class="s2">null</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">Wu</span><span class="s1">=</span><span class="s2">require</span><span class="s3">(</span><span class="s0">&quot;cluster&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">&quot;cluster module not present&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Uu</span><span class="s1">=!</span><span class="s5">0</span><span class="s4">}</span><span class="s2">const zu</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">let Ku</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">qu</span><span class="s1">=</span><span class="s0">&quot;NODE_APP_INSTANCE&quot;</span><span class="s1">;</span><span class="s2">const Yu</span><span class="s1">=</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">Ku</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;0&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s3">[</span><span class="s2">qu</span><span class="s3">]</span><span class="s1">,</span><span class="s2">Xu</span><span class="s1">=</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">Uu</span><span class="s1">||</span><span class="s2">Wu</span><span class="s1">.</span><span class="s2">isMaster</span><span class="s1">||</span><span class="s2">Yu</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Zu</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">zu</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">Qu</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">&quot;cluster message received from worker &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;: &quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">topic</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">data</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">e</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">topic</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;log4js:message&quot;</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">topic</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">&quot;received message: &quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">data</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">Gu</span><span class="s1">.</span><span class="s2">deserialise</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">data</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Zu</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">Uu</span><span class="s1">||</span><span class="s2">Vu</span><span class="s1">.</span><span class="s2">addListener</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">zu</span><span class="s1">.</span><span class="s2">length</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s3">(</span><span class="s4">{</span><span class="s2">pm2</span><span class="s1">:</span><span class="s2">Ku</span><span class="s1">,</span><span class="s2">disableClustering</span><span class="s1">:</span><span class="s2">Uu</span><span class="s1">,</span><span class="s2">pm2InstanceVar</span><span class="s1">:</span><span class="s2">qu</span><span class="s1">=</span><span class="s0">&quot;NODE_APP_INSTANCE&quot;</span><span class="s4">}</span><span class="s1">=</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">`clustering disabled ? </span><span class="s4">${</span><span class="s2">Uu</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">`cluster.isMaster ? </span><span class="s4">${</span><span class="s2">Wu</span><span class="s1">&amp;&amp;</span><span class="s2">Wu</span><span class="s1">.</span><span class="s2">isMaster</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">`pm2 enabled ? </span><span class="s4">${</span><span class="s2">Ku</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">`pm2InstanceVar = </span><span class="s4">${</span><span class="s2">qu</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">`process.env[</span><span class="s4">${</span><span class="s2">qu</span><span class="s4">}</span><span class="s0">] = </span><span class="s4">${</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s3">[</span><span class="s2">qu</span><span class="s3">]</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ku</span><span class="s1">&amp;&amp;</span><span class="s2">process</span><span class="s1">.</span><span class="s2">removeListener</span><span class="s3">(</span><span class="s0">&quot;message&quot;</span><span class="s1">,</span><span class="s2">Qu</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Wu</span><span class="s1">&amp;&amp;</span><span class="s2">Wu</span><span class="s1">.</span><span class="s2">removeListener</span><span class="s1">&amp;&amp;</span><span class="s2">Wu</span><span class="s1">.</span><span class="s2">removeListener</span><span class="s3">(</span><span class="s0">&quot;message&quot;</span><span class="s1">,</span><span class="s2">Qu</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Uu</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">disableClustering</span><span class="s1">?</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">&quot;Not listening for cluster messages, because clustering disabled.&quot;</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Yu</span><span class="s3">()</span><span class="s1">?</span><span class="s3">(</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">&quot;listening for PM2 broadcast messages&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">process</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;message&quot;</span><span class="s1">,</span><span class="s2">Qu</span><span class="s3">))</span><span class="s1">:</span><span class="s2">Wu</span><span class="s1">.</span><span class="s2">isMaster</span><span class="s1">?</span><span class="s3">(</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">&quot;listening for cluster messages&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Wu</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;message&quot;</span><span class="s1">,</span><span class="s2">Qu</span><span class="s3">))</span><span class="s1">:</span><span class="s2">Ju</span><span class="s3">(</span><span class="s0">&quot;not listening for messages, because we are not a master process&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">var eo</span><span class="s1">=</span><span class="s4">{</span><span class="s2">onlyOnMaster</span><span class="s1">:</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">Xu</span><span class="s3">()</span><span class="s1">?</span><span class="s2">e</span><span class="s3">()</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">isMaster</span><span class="s1">:</span><span class="s2">Xu</span><span class="s1">,</span><span class="s2">send</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">Xu</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Zu</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s3">(</span><span class="s2">Ku</span><span class="s1">||</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">cluster</span><span class="s1">=</span><span class="s4">{</span><span class="s2">workerId</span><span class="s1">:</span><span class="s2">Wu</span><span class="s1">.</span><span class="s2">worker</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">worker</span><span class="s1">:</span><span class="s2">process</span><span class="s1">.</span><span class="s2">pid</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">process</span><span class="s1">.</span><span class="s2">send</span><span class="s3">(</span><span class="s4">{</span><span class="s2">topic</span><span class="s1">:</span><span class="s0">&quot;log4js:message&quot;</span><span class="s1">,</span><span class="s2">data</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">serialise</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">onMessage</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">zu</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">to</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">function no</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;number&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">isInteger</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">const t</span><span class="s1">=</span><span class="s4">{</span><span class="s2">K</span><span class="s1">:</span><span class="s5">1024</span><span class="s1">,</span><span class="s2">M</span><span class="s1">:</span><span class="s5">1048576</span><span class="s1">,</span><span class="s2">G</span><span class="s1">:</span><span class="s5">1073741824</span><span class="s4">}</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">)</span><span class="s1">.</span><span class="s2">toLocaleUpperCase</span><span class="s3">()</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">substring</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">)</span><span class="s1">.</span><span class="s2">trim</span><span class="s3">()</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s1">||!</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">isInteger</span><span class="s3">(</span><span class="s2">Number</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)))</span><span class="s2">throw Error</span><span class="s3">(</span><span class="s0">`maxLogSize: &quot;</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">&quot; is invalid`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return u</span><span class="s1">*</span><span class="s2">t</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s4">}</span><span class="s2">function ro</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s3">(</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">n</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">](</span><span class="s2">t</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">n</span><span class="s4">}</span><span class="s3">(</span><span class="s4">{</span><span class="s2">maxLogSize</span><span class="s1">:</span><span class="s2">no</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">const uo</span><span class="s1">=</span><span class="s4">{</span><span class="s2">file</span><span class="s1">:</span><span class="s2">ro</span><span class="s1">,</span><span class="s2">fileSync</span><span class="s1">:</span><span class="s2">ro</span><span class="s4">}</span><span class="s1">;</span><span class="s2">to</span><span class="s1">.</span><span class="s2">modifyConfig</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">uo</span><span class="s3">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">type</span><span class="s3">]</span><span class="s1">?</span><span class="s2">uo</span><span class="s3">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">type</span><span class="s3">](</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s1">;</span><span class="s2">var oo</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">const io</span><span class="s1">=</span><span class="s2">console</span><span class="s1">.</span><span class="s2">log</span><span class="s1">.</span><span class="s2">bind</span><span class="s3">(</span><span class="s2">console</span><span class="s3">)</span><span class="s1">;</span><span class="s2">oo</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">colouredLayout</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">))</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">io</span><span class="s3">(</span><span class="s2">e</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s3">))</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">timezoneOffset</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var so</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">so</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">colouredLayout</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">))</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">process</span><span class="s1">.</span><span class="s2">stdout</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s0">\n`</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">timezoneOffset</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var co</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">co</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">colouredLayout</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">))</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">process</span><span class="s1">.</span><span class="s2">stderr</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s0">\n`</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">timezoneOffset</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var ao</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">ao</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appender</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">FATAL</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">level</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isGreaterThanOrEqualTo</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isLessThanOrEqualTo</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">level</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">maxLevel</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var lo</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">const fo</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:categoryFilter&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">lo</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appender</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s3">[</span><span class="s2">e</span><span class="s3">])</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">fo</span><span class="s3">(</span><span class="s0">`Checking </span><span class="s4">${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">categoryName</span><span class="s4">} </span><span class="s0">against </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,-</span><span class="s5">1</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">categoryName</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">fo</span><span class="s3">(</span><span class="s0">&quot;Not excluded, sending to appender&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s3">(</span><span class="s2">n</span><span class="s3">))</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exclude</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var Do</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">const po</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:noLogFilter&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Do</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appender</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">po</span><span class="s3">(</span><span class="s0">`Checking data: </span><span class="s4">${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">data</span><span class="s4">} </span><span class="s0">against filters: </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s3">[</span><span class="s2">e</span><span class="s3">])</span><span class="s1">,</span><span class="s2">e</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">null</span><span class="s1">!=</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;&quot;</span><span class="s1">!==</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">new RegExp</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot;|&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;i&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s3">(</span><span class="s5">0</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">||</span><span class="s2">n</span><span class="s1">.</span><span class="s2">data</span><span class="s1">.</span><span class="s2">findIndex</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">po</span><span class="s3">(</span><span class="s0">&quot;Not excluded, sending to appender&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s3">(</span><span class="s2">n</span><span class="s3">))</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exclude</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var Eo</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">mo</span><span class="s1">=</span><span class="s4">{</span><span class="s2">exports</span><span class="s1">:</span><span class="s4">{}}</span><span class="s1">,</span><span class="s2">ho</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">yo</span><span class="s1">=</span><span class="s4">{</span><span class="s2">fromCallback</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">((</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof arguments</span><span class="s3">[</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">])</span><span class="s2">return new Promise</span><span class="s3">(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">arguments</span><span class="s3">[</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s3">]</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">t</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s1">++,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;name&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">fromPromise</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">((</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">arguments</span><span class="s3">[</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">]</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof t</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">arguments</span><span class="s3">)</span><span class="s1">.</span><span class="s2">then</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;name&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s3">[</span><span class="s0">&quot;access&quot;</span><span class="s1">,</span><span class="s0">&quot;appendFile&quot;</span><span class="s1">,</span><span class="s0">&quot;chmod&quot;</span><span class="s1">,</span><span class="s0">&quot;chown&quot;</span><span class="s1">,</span><span class="s0">&quot;close&quot;</span><span class="s1">,</span><span class="s0">&quot;copyFile&quot;</span><span class="s1">,</span><span class="s0">&quot;fchmod&quot;</span><span class="s1">,</span><span class="s0">&quot;fchown&quot;</span><span class="s1">,</span><span class="s0">&quot;fdatasync&quot;</span><span class="s1">,</span><span class="s0">&quot;fstat&quot;</span><span class="s1">,</span><span class="s0">&quot;fsync&quot;</span><span class="s1">,</span><span class="s0">&quot;ftruncate&quot;</span><span class="s1">,</span><span class="s0">&quot;futimes&quot;</span><span class="s1">,</span><span class="s0">&quot;lchown&quot;</span><span class="s1">,</span><span class="s0">&quot;lchmod&quot;</span><span class="s1">,</span><span class="s0">&quot;link&quot;</span><span class="s1">,</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;mkdir&quot;</span><span class="s1">,</span><span class="s0">&quot;mkdtemp&quot;</span><span class="s1">,</span><span class="s0">&quot;open&quot;</span><span class="s1">,</span><span class="s0">&quot;readFile&quot;</span><span class="s1">,</span><span class="s0">&quot;readdir&quot;</span><span class="s1">,</span><span class="s0">&quot;readlink&quot;</span><span class="s1">,</span><span class="s0">&quot;realpath&quot;</span><span class="s1">,</span><span class="s0">&quot;rename&quot;</span><span class="s1">,</span><span class="s0">&quot;rmdir&quot;</span><span class="s1">,</span><span class="s0">&quot;stat&quot;</span><span class="s1">,</span><span class="s0">&quot;symlink&quot;</span><span class="s1">,</span><span class="s0">&quot;truncate&quot;</span><span class="s1">,</span><span class="s0">&quot;unlink&quot;</span><span class="s1">,</span><span class="s0">&quot;utimes&quot;</span><span class="s1">,</span><span class="s0">&quot;writeFile&quot;</span><span class="s3">]</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]))</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s0">&quot;promises&quot;</span><span class="s1">!==</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">=</span><span class="s2">n</span><span class="s3">[</span><span class="s2">t</span><span class="s3">])</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s3">(</span><span class="s2">n</span><span class="s3">[</span><span class="s2">r</span><span class="s3">])</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exists</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">exists</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">new Promise</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">exists</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">read</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof i</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">read</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">:</span><span class="s2">new Promise</span><span class="s3">(((</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">n</span><span class="s1">.</span><span class="s2">read</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">i</span><span class="s3">(</span><span class="s4">{</span><span class="s2">bytesRead</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">buffer</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">write</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof r</span><span class="s3">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">]</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">new Promise</span><span class="s3">(((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">n</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">r</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return o</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s3">(</span><span class="s4">{</span><span class="s2">bytesWritten</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">buffer</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">.</span><span class="s2">realpath</span><span class="s1">.</span><span class="s2">native</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">realpath</span><span class="s1">.</span><span class="s2">native</span><span class="s1">=</span><span class="s2">t</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">realpath</span><span class="s1">.</span><span class="s2">native</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">ho</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const Co</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">;</span><span class="s2">function Fo</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">Co</span><span class="s1">.</span><span class="s2">normalize</span><span class="s3">(</span><span class="s2">Co</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s2">Co</span><span class="s1">.</span><span class="s2">sep</span><span class="s3">))</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s5">0</span><span class="s1">?</span><span class="s2">e</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">:</span><span class="s2">null</span><span class="s4">}</span><span class="s2">const go</span><span class="s1">=</span><span class="s0">/[&lt;&gt;:&quot;|?*]/</span><span class="s1">;</span><span class="s2">var Ao</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">Fo</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">go</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const vo</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">So</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">wo</span><span class="s1">=</span><span class="s2">Ao</span><span class="s1">,</span><span class="s2">Oo</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s0">&quot;0777&quot;</span><span class="s1">,</span><span class="s5">8</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var bo</span><span class="s1">=</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">?</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">||</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;win32&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">platform</span><span class="s1">&amp;&amp;</span><span class="s2">wo</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">new Error</span><span class="s3">(</span><span class="s2">t</span><span class="s1">+</span><span class="s0">&quot; contains invalid WIN32 path characters.&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">=</span><span class="s0">&quot;EINVAL&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">let o</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">;</span><span class="s2">const i</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">fs</span><span class="s1">||</span><span class="s2">vo</span><span class="s1">;</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">o</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=</span><span class="s2">Oo</span><span class="s1">&amp;~</span><span class="s2">process</span><span class="s1">.</span><span class="s2">umask</span><span class="s3">())</span><span class="s1">,</span><span class="s2">u</span><span class="s1">||</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">So</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">mkdir</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">o</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">u</span><span class="s1">||</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">So</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">===</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s3">(</span><span class="s2">So</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">else i</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">e</span><span class="s1">||!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const _o</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">Bo</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Po</span><span class="s1">=</span><span class="s2">Ao</span><span class="s1">,</span><span class="s2">ko</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s0">&quot;0777&quot;</span><span class="s1">,</span><span class="s5">8</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var xo</span><span class="s1">=</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">||</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">;</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">fs</span><span class="s1">||</span><span class="s2">_o</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;win32&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">platform</span><span class="s1">&amp;&amp;</span><span class="s2">Po</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">new Error</span><span class="s3">(</span><span class="s2">t</span><span class="s1">+</span><span class="s0">&quot; contains invalid WIN32 path characters.&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">=</span><span class="s0">&quot;EINVAL&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">ko</span><span class="s1">&amp;~</span><span class="s2">process</span><span class="s1">.</span><span class="s2">umask</span><span class="s3">())</span><span class="s1">,</span><span class="s2">r</span><span class="s1">||</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">Bo</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">mkdirSync</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s2">t</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Bo</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">===</span><span class="s2">t</span><span class="s3">)</span><span class="s2">throw u</span><span class="s1">;</span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s3">(</span><span class="s2">Bo</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s2">else</span><span class="s4">{</span><span class="s2">let e</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">e</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">throw u</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">e</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">())</span><span class="s2">throw u</span><span class="s4">}}</span><span class="s2">return r</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const No</span><span class="s1">=</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s3">)(</span><span class="s2">bo</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var Io</span><span class="s1">=</span><span class="s4">{</span><span class="s2">mkdirs</span><span class="s1">:</span><span class="s2">No</span><span class="s1">,</span><span class="s2">mkdirsSync</span><span class="s1">:</span><span class="s2">xo</span><span class="s1">,</span><span class="s2">mkdirp</span><span class="s1">:</span><span class="s2">No</span><span class="s1">,</span><span class="s2">mkdirpSync</span><span class="s1">:</span><span class="s2">xo</span><span class="s1">,</span><span class="s2">ensureDir</span><span class="s1">:</span><span class="s2">No</span><span class="s1">,</span><span class="s2">ensureDirSync</span><span class="s1">:</span><span class="s2">xo</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const To</span><span class="s1">=</span><span class="s2">we</span><span class="s1">;</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">;</span><span class="s2">var Ro</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">To</span><span class="s1">.</span><span class="s2">open</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;r+&quot;</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">To</span><span class="s1">.</span><span class="s2">futimes</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">To</span><span class="s1">.</span><span class="s2">close</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">||</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">Mo</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">To</span><span class="s1">.</span><span class="s2">openSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;r+&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return To</span><span class="s1">.</span><span class="s2">futimesSync</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">To</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Lo</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">jo</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">$o</span><span class="s1">=</span><span class="s5">10</span><span class="s1">,</span><span class="s2">Ho</span><span class="s1">=</span><span class="s5">5</span><span class="s1">,</span><span class="s2">Jo</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Go</span><span class="s1">=</span><span class="s2">process</span><span class="s1">.</span><span class="s2">versions</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s0">&quot;.&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Vo</span><span class="s1">=</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">Go</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Uo</span><span class="s1">=</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">Go</span><span class="s3">[</span><span class="s5">1</span><span class="s3">]</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Wo</span><span class="s1">=</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">Go</span><span class="s3">[</span><span class="s5">2</span><span class="s3">]</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">;</span><span class="s2">function zo</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Vo</span><span class="s1">&gt;</span><span class="s2">$o</span><span class="s3">)</span><span class="s2">return</span><span class="s1">!</span><span class="s5">0</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Vo</span><span class="s1">===</span><span class="s2">$o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Uo</span><span class="s1">&gt;</span><span class="s2">Ho</span><span class="s3">)</span><span class="s2">return</span><span class="s1">!</span><span class="s5">0</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Uo</span><span class="s1">===</span><span class="s2">Ho</span><span class="s1">&amp;&amp;</span><span class="s2">Wo</span><span class="s1">&gt;=</span><span class="s2">Jo</span><span class="s3">)</span><span class="s2">return</span><span class="s1">!</span><span class="s5">0</span><span class="s4">}</span><span class="s2">return</span><span class="s1">!</span><span class="s5">1</span><span class="s4">}</span><span class="s2">function Ko</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">sep</span><span class="s3">)</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">sep</span><span class="s3">)</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">return n</span><span class="s1">.</span><span class="s2">reduce</span><span class="s3">(((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">===</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,!</span><span class="s5">0</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function qo</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">`Cannot </span><span class="s4">${</span><span class="s2">n</span><span class="s4">} </span><span class="s0">'</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">' to a subdirectory of itself, '</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">'.`</span><span class="s4">}</span><span class="s2">var Yo</span><span class="s1">,</span><span class="s2">Xo</span><span class="s1">,</span><span class="s2">Zo</span><span class="s1">=</span><span class="s4">{</span><span class="s2">checkPaths</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s1">!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">zo</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">?</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">null</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">:</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">?</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">null</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">s</span><span class="s4">}</span><span class="s1">=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">return s</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">&quot;Source and destination must not be the same.&quot;</span><span class="s3">))</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">Ko</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s2">qo</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)))</span><span class="s1">:</span><span class="s2">r</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">s</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">checkPathsSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">u</span><span class="s4">}</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">;</span><span class="s2">n</span><span class="s1">=</span><span class="s2">zo</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">r</span><span class="s1">=</span><span class="s2">zo</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">null</span><span class="s4">}</span><span class="s1">;</span><span class="s2">throw e</span><span class="s4">}</span><span class="s2">return</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">r</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dev</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;Source and destination must not be the same.&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">Ko</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s2">qo</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s1">;</span><span class="s2">return</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">u</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">checkParentPaths</span><span class="s1">:</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const i</span><span class="s1">=</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">s</span><span class="s1">===</span><span class="s2">i</span><span class="s1">||</span><span class="s2">s</span><span class="s1">===</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">.</span><span class="s2">root</span><span class="s3">)</span><span class="s2">return o</span><span class="s3">()</span><span class="s1">;</span><span class="s2">zo</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">,</span><span class="s3">((</span><span class="s2">i</span><span class="s1">,</span><span class="s2">c</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">i</span><span class="s1">?</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">o</span><span class="s3">()</span><span class="s1">:</span><span class="s2">o</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">:</span><span class="s2">c</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">c</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">&amp;&amp;</span><span class="s2">c</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">c</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">?</span><span class="s2">o</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s2">qo</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s1">:</span><span class="s2">e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)))</span><span class="s1">:</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s3">((</span><span class="s2">i</span><span class="s1">,</span><span class="s2">c</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">i</span><span class="s1">?</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">o</span><span class="s3">()</span><span class="s1">:</span><span class="s2">o</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">:</span><span class="s2">c</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">c</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">&amp;&amp;</span><span class="s2">c</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">c</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">?</span><span class="s2">o</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s2">qo</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s1">:</span><span class="s2">e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">checkParentPathsSync</span><span class="s1">:</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">i</span><span class="s1">===</span><span class="s2">o</span><span class="s1">||</span><span class="s2">i</span><span class="s1">===</span><span class="s2">jo</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">.</span><span class="s2">root</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">let s</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">s</span><span class="s1">=</span><span class="s2">zo</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s4">{</span><span class="s2">bigint</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Lo</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">throw e</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">ino</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">dev</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">dev</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s2">qo</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))</span><span class="s1">;</span><span class="s2">return e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">isSrcSubdir</span><span class="s1">:</span><span class="s2">Ko</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Qo</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">ei</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">ti</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s1">,</span><span class="s2">ni</span><span class="s1">=</span><span class="s2">Mo</span><span class="s1">,</span><span class="s2">ri</span><span class="s1">=</span><span class="s2">Zo</span><span class="s1">;</span><span class="s2">function ui</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">r</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">||</span><span class="s2">r</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">?</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">statSync</span><span class="s1">:</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">())</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return Qo</span><span class="s1">.</span><span class="s2">mkdirSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ii</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">chmodSync</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s1">&amp;&amp;!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">())</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Cannot overwrite non-directory '</span><span class="s4">${</span><span class="s2">r</span><span class="s4">}</span><span class="s0">' with directory '</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return ii</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">isFile</span><span class="s3">()</span><span class="s1">||</span><span class="s2">o</span><span class="s1">.</span><span class="s2">isCharacterDevice</span><span class="s3">()</span><span class="s1">||</span><span class="s2">o</span><span class="s1">.</span><span class="s2">isBlockDevice</span><span class="s3">())</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s3">)</span><span class="s2">return Qo</span><span class="s1">.</span><span class="s2">unlinkSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">oi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">errorOnExist</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`'</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">' already exists`</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">oi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">isSymbolicLink</span><span class="s3">())</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let u</span><span class="s1">=</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">readlinkSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">ei</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let e</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">e</span><span class="s1">=</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">readlinkSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EINVAL&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;UNKNOWN&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return Qo</span><span class="s1">.</span><span class="s2">symlinkSync</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw e</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">ei</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">ri</span><span class="s1">.</span><span class="s2">isSrcSubdir</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Cannot copy '</span><span class="s4">${</span><span class="s2">u</span><span class="s4">}</span><span class="s0">' to a subdirectory of itself, '</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">ri</span><span class="s1">.</span><span class="s2">isSrcSubdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Cannot overwrite '</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">' with '</span><span class="s4">${</span><span class="s2">u</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return Qo</span><span class="s1">.</span><span class="s2">unlinkSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">symlinkSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return Qo</span><span class="s1">.</span><span class="s2">symlinkSync</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function oi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof Qo</span><span class="s1">.</span><span class="s2">copyFileSync</span><span class="s1">?</span><span class="s3">(</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">copyFileSync</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">chmodSync</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">preserveTimestamps</span><span class="s1">?</span><span class="s2">ni</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">atime</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mtime</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void </span><span class="s5">0</span><span class="s3">)</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s5">65536</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s3">(</span><span class="s2">Xo</span><span class="s1">?</span><span class="s2">Yo</span><span class="s1">:</span><span class="s3">(</span><span class="s2">Xo</span><span class="s1">=</span><span class="s5">1</span><span class="s1">,</span><span class="s2">Yo</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof Buffer</span><span class="s1">.</span><span class="s2">allocUnsafe</span><span class="s3">)</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return Buffer</span><span class="s1">.</span><span class="s2">allocUnsafe</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return new Buffer</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return new Buffer</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">openSync</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;r&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">openSync</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s0">&quot;w&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let c</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s1">;</span><span class="s2">c</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">;</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">readSync</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">c</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">writeSync</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">c</span><span class="s1">+=</span><span class="s2">e</span><span class="s4">}</span><span class="s2">r</span><span class="s1">.</span><span class="s2">preserveTimestamps</span><span class="s1">&amp;&amp;</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">futimesSync</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">atime</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mtime</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function ii</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">readdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">ei</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">ei</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s4">{</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">i</span><span class="s4">}</span><span class="s1">=</span><span class="s2">ri</span><span class="s1">.</span><span class="s2">checkPathsSync</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return ui</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)))</span><span class="s4">}</span><span class="s2">var si</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{</span><span class="s2">filter</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">n</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">=!</span><span class="s3">(</span><span class="s0">&quot;clobber&quot;</span><span class="s2">in n</span><span class="s3">)</span><span class="s1">||!!</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">=</span><span class="s0">&quot;overwrite&quot;</span><span class="s2">in n</span><span class="s1">?!!</span><span class="s2">n</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">preserveTimestamps</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ia32&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">arch</span><span class="s1">&amp;&amp;</span><span class="s2">console</span><span class="s1">.</span><span class="s2">warn</span><span class="s3">(</span><span class="s0">&quot;fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">u</span><span class="s4">}</span><span class="s1">=</span><span class="s2">ri</span><span class="s1">.</span><span class="s2">checkPathsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return ri</span><span class="s1">.</span><span class="s2">checkParentPathsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">&amp;&amp;!</span><span class="s2">r</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">ei</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Qo</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">||</span><span class="s2">ti</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return ui</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">ci</span><span class="s1">=</span><span class="s4">{</span><span class="s2">copySync</span><span class="s1">:</span><span class="s2">si</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const ai</span><span class="s1">=</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromPromise</span><span class="s1">,</span><span class="s2">li</span><span class="s1">=</span><span class="s2">ho</span><span class="s1">;</span><span class="s2">var fi</span><span class="s1">=</span><span class="s4">{</span><span class="s2">pathExists</span><span class="s1">:</span><span class="s2">ai</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return li</span><span class="s1">.</span><span class="s2">access</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">then</span><span class="s3">((()</span><span class="s1">=&gt;!</span><span class="s5">0</span><span class="s3">))</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">((()</span><span class="s1">=&gt;!</span><span class="s5">1</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">pathExistsSync</span><span class="s1">:</span><span class="s2">li</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const di</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">Di</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">pi</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s1">,</span><span class="s2">Ei</span><span class="s1">=</span><span class="s2">fi</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">,</span><span class="s2">mi</span><span class="s1">=</span><span class="s2">Ro</span><span class="s1">,</span><span class="s2">hi</span><span class="s1">=</span><span class="s2">Zo</span><span class="s1">;</span><span class="s2">function yi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">Di</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Ei</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">((</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">i</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s1">:</span><span class="s2">s</span><span class="s1">?</span><span class="s2">Fi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void pi</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Fi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))))</span><span class="s4">}</span><span class="s2">function Ci</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Promise</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">))</span><span class="s1">.</span><span class="s2">then</span><span class="s3">((</span><span class="s2">i</span><span class="s1">=&gt;</span><span class="s2">i</span><span class="s1">?</span><span class="s2">e</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s3">())</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s4">}</span><span class="s2">function Fi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return r</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">?</span><span class="s2">Ci</span><span class="s3">(</span><span class="s2">gi</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">gi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function gi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">?</span><span class="s2">di</span><span class="s1">.</span><span class="s2">stat</span><span class="s1">:</span><span class="s2">di</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">di</span><span class="s1">.</span><span class="s2">mkdir</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s2">return u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Si</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">di</span><span class="s1">.</span><span class="s2">chmod</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s1">&amp;&amp;!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">())</span><span class="s2">return o</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Cannot overwrite non-directory '</span><span class="s4">${</span><span class="s2">r</span><span class="s4">}</span><span class="s0">' with directory '</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">))</span><span class="s1">;</span><span class="s2">return Si</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isFile</span><span class="s3">()</span><span class="s1">||</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isCharacterDevice</span><span class="s3">()</span><span class="s1">||</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isBlockDevice</span><span class="s3">()</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">r</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s3">)</span><span class="s2">return r</span><span class="s1">.</span><span class="s2">errorOnExist</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`'</span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">' already exists`</span><span class="s3">))</span><span class="s1">:</span><span class="s2">u</span><span class="s3">()</span><span class="s1">;</span><span class="s2">di</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Ai</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Ai</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">isSymbolicLink</span><span class="s3">()</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">di</span><span class="s1">.</span><span class="s2">readlink</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=</span><span class="s2">Di</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">o</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">?</span><span class="s2">void di</span><span class="s1">.</span><span class="s2">readlink</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s3">((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s0">&quot;EINVAL&quot;</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;UNKNOWN&quot;</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">di</span><span class="s1">.</span><span class="s2">symlink</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">dereference</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">i</span><span class="s1">=</span><span class="s2">Di</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">i</span><span class="s3">))</span><span class="s1">,</span><span class="s2">hi</span><span class="s1">.</span><span class="s2">isSrcSubdir</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Cannot copy '</span><span class="s4">${</span><span class="s2">o</span><span class="s4">}</span><span class="s0">' to a subdirectory of itself, '</span><span class="s4">${</span><span class="s2">i</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">))</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">hi</span><span class="s1">.</span><span class="s2">isSrcSubdir</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">`Cannot overwrite '</span><span class="s4">${</span><span class="s2">i</span><span class="s4">}</span><span class="s0">' with '</span><span class="s4">${</span><span class="s2">o</span><span class="s4">}</span><span class="s0">'.`</span><span class="s3">))</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">di</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s2">r</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">di</span><span class="s1">.</span><span class="s2">symlink</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))))</span><span class="s1">:</span><span class="s2">di</span><span class="s1">.</span><span class="s2">symlink</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void </span><span class="s5">0</span><span class="s3">))</span><span class="s4">}</span><span class="s2">function Ai</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof di</span><span class="s1">.</span><span class="s2">copyFile</span><span class="s1">?</span><span class="s2">di</span><span class="s1">.</span><span class="s2">copyFile</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">vi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">di</span><span class="s1">.</span><span class="s2">createReadStream</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s1">.</span><span class="s2">once</span><span class="s3">(</span><span class="s0">&quot;open&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">di</span><span class="s1">.</span><span class="s2">createWriteStream</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s4">{</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;open&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">pipe</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)))</span><span class="s1">.</span><span class="s2">once</span><span class="s3">(</span><span class="s0">&quot;close&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s2">vi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function vi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">di</span><span class="s1">.</span><span class="s2">chmod</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">preserveTimestamps</span><span class="s1">?</span><span class="s2">mi</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">atime</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mtime</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s3">()))</span><span class="s4">}</span><span class="s2">function Si</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">di</span><span class="s1">.</span><span class="s2">readdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">wi</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s4">}</span><span class="s2">function wi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">pop</span><span class="s3">()</span><span class="s1">;</span><span class="s2">return o</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const i</span><span class="s1">=</span><span class="s2">Di</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s2">Di</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">hi</span><span class="s1">.</span><span class="s2">checkPaths</span><span class="s3">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s1">,</span><span class="s3">((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">c</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return o</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">a</span><span class="s4">}</span><span class="s1">=</span><span class="s2">c</span><span class="s1">;</span><span class="s2">Fi</span><span class="s3">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">o</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">wi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">u</span><span class="s3">()</span><span class="s4">}</span><span class="s2">var Oi</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof n</span><span class="s1">||</span><span class="s2">r</span><span class="s1">?</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{</span><span class="s2">filter</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{}</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">n</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">=!</span><span class="s3">(</span><span class="s0">&quot;clobber&quot;</span><span class="s2">in n</span><span class="s3">)</span><span class="s1">||!!</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">=</span><span class="s0">&quot;overwrite&quot;</span><span class="s2">in n</span><span class="s1">?!!</span><span class="s2">n</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">preserveTimestamps</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ia32&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">arch</span><span class="s1">&amp;&amp;</span><span class="s2">console</span><span class="s1">.</span><span class="s2">warn</span><span class="s3">(</span><span class="s0">&quot;fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">hi</span><span class="s1">.</span><span class="s2">checkPaths</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">destStat</span><span class="s1">:</span><span class="s2">s</span><span class="s4">}</span><span class="s1">=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">hi</span><span class="s1">.</span><span class="s2">checkParentPaths</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;copy&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">?</span><span class="s2">Ci</span><span class="s3">(</span><span class="s2">yi</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">yi</span><span class="s3">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var bi</span><span class="s1">=</span><span class="s4">{</span><span class="s2">copy</span><span class="s1">:</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s3">)(</span><span class="s2">Oi</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const _i</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">Bi</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Pi</span><span class="s1">=</span><span class="s2">g</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">ki</span><span class="s1">=</span><span class="s0">&quot;win32&quot;</span><span class="s1">===</span><span class="s2">process</span><span class="s1">.</span><span class="s2">platform</span><span class="s1">;</span><span class="s2">function xi</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s3">[</span><span class="s0">&quot;unlink&quot;</span><span class="s1">,</span><span class="s0">&quot;chmod&quot;</span><span class="s1">,</span><span class="s0">&quot;stat&quot;</span><span class="s1">,</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;rmdir&quot;</span><span class="s1">,</span><span class="s0">&quot;readdir&quot;</span><span class="s3">]</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">||</span><span class="s2">_i</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s1">+=</span><span class="s0">&quot;Sync&quot;</span><span class="s3">]</span><span class="s1">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">||</span><span class="s2">_i</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">maxBusyTries</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">maxBusyTries</span><span class="s1">||</span><span class="s5">3</span><span class="s4">}</span><span class="s2">function Ni</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;rimraf: missing path&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s1">.</span><span class="s2">strictEqual</span><span class="s3">(</span><span class="s2">typeof e</span><span class="s1">,</span><span class="s0">&quot;string&quot;</span><span class="s1">,</span><span class="s0">&quot;rimraf: path should be a string&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s1">.</span><span class="s2">strictEqual</span><span class="s3">(</span><span class="s2">typeof n</span><span class="s1">,</span><span class="s0">&quot;function&quot;</span><span class="s1">,</span><span class="s0">&quot;rimraf: callback function required&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;rimraf: invalid options argument provided&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s1">.</span><span class="s2">strictEqual</span><span class="s3">(</span><span class="s2">typeof t</span><span class="s1">,</span><span class="s0">&quot;object&quot;</span><span class="s1">,</span><span class="s0">&quot;rimraf: options should be object&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">xi</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ii</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function u</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">((</span><span class="s0">&quot;EBUSY&quot;</span><span class="s1">===</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;ENOTEMPTY&quot;</span><span class="s1">===</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">&lt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">maxBusyTries</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">++;</span><span class="s2">return setTimeout</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s2">Ii</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s3">))</span><span class="s1">,</span><span class="s5">100</span><span class="s1">*</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">o</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s4">}</span><span class="s2">n</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">function Ii</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s2">ki</span><span class="s1">?</span><span class="s2">Ti</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Mi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void t</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return ki</span><span class="s1">?</span><span class="s2">Ti</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">Mi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EISDIR&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return Mi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s2">function Ti</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">n instanceof Error</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">chmod</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">438</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">null</span><span class="s1">:</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">null</span><span class="s1">:</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">Mi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">function Ri</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">;</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">n instanceof Error</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">chmodSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">438</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">throw n</span><span class="s4">}</span><span class="s2">try</span><span class="s4">{</span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">throw n</span><span class="s4">}</span><span class="s2">r</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">ji</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">unlinkSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function Mi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">n instanceof Error</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">rmdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s1">!</span><span class="s2">u</span><span class="s1">||</span><span class="s0">&quot;ENOTEMPTY&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;EEXIST&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">u</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;ENOTDIR&quot;</span><span class="s1">===</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">readdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let o</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s5">0</span><span class="s1">===</span><span class="s2">i</span><span class="s3">)</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">rmdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">Ni</span><span class="s3">(</span><span class="s2">Bi</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">o</span><span class="s3">)</span><span class="s2">return r</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void</span><span class="s3">(</span><span class="s5">0</span><span class="s1">==--</span><span class="s2">i</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">rmdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">function Li</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">;</span><span class="s2">xi</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s2">t</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;rimraf: missing path&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s1">.</span><span class="s2">strictEqual</span><span class="s3">(</span><span class="s2">typeof e</span><span class="s1">,</span><span class="s0">&quot;string&quot;</span><span class="s1">,</span><span class="s0">&quot;rimraf: path should be a string&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;rimraf: missing options&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s1">.</span><span class="s2">strictEqual</span><span class="s3">(</span><span class="s2">typeof t</span><span class="s1">,</span><span class="s0">&quot;object&quot;</span><span class="s1">,</span><span class="s0">&quot;rimraf: options should be object&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s2">ki</span><span class="s1">&amp;&amp;</span><span class="s2">Ri</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">try</span><span class="s4">{</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s2">ji</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">null</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">unlinkSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return ki</span><span class="s1">?</span><span class="s2">Ri</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">ji</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EISDIR&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">throw n</span><span class="s1">;</span><span class="s2">ji</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">function ji</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">n instanceof Error</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">rmdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOTDIR&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">throw n</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOTEMPTY&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;EEXIST&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s1">||</span><span class="s0">&quot;EPERM&quot;</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s1">!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pi</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">readdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s2">Li</span><span class="s3">(</span><span class="s2">Bi</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)))</span><span class="s1">,!</span><span class="s2">ki</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">rmdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">;</span><span class="s2">do</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">rmdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{}}</span><span class="s2">while</span><span class="s3">(</span><span class="s2">Date</span><span class="s1">.</span><span class="s2">now</span><span class="s3">()</span><span class="s1">-</span><span class="s2">n</span><span class="s1">&lt;</span><span class="s5">500</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">!==</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">throw r</span><span class="s4">}}</span><span class="s2">var $i</span><span class="s1">=</span><span class="s2">Ni</span><span class="s1">;</span><span class="s2">Ni</span><span class="s1">.</span><span class="s2">sync</span><span class="s1">=</span><span class="s2">Li</span><span class="s1">;</span><span class="s2">const Hi</span><span class="s1">=</span><span class="s2">$i</span><span class="s1">;</span><span class="s2">var Ji</span><span class="s1">=</span><span class="s4">{</span><span class="s2">remove</span><span class="s1">:</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s3">)(</span><span class="s2">Hi</span><span class="s3">)</span><span class="s1">,</span><span class="s2">removeSync</span><span class="s1">:</span><span class="s2">Hi</span><span class="s1">.</span><span class="s2">sync</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Gi</span><span class="s1">=</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">Vi</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">Ui</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Wi</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">,</span><span class="s2">zi</span><span class="s1">=</span><span class="s2">Ji</span><span class="s1">,</span><span class="s2">Ki</span><span class="s1">=</span><span class="s2">Gi</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">t</span><span class="s1">||</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">Vi</span><span class="s1">.</span><span class="s2">readdir</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return Wi</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">Ui</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)))</span><span class="s1">,</span><span class="s2">function e</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">pop</span><span class="s3">()</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return t</span><span class="s3">()</span><span class="s1">;</span><span class="s2">zi</span><span class="s1">.</span><span class="s2">remove</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">function qi</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let t</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">Vi</span><span class="s1">.</span><span class="s2">readdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return Wi</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">Ui</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">zi</span><span class="s1">.</span><span class="s2">removeSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">var Yi</span><span class="s1">=</span><span class="s4">{</span><span class="s2">emptyDirSync</span><span class="s1">:</span><span class="s2">qi</span><span class="s1">,</span><span class="s2">emptydirSync</span><span class="s1">:</span><span class="s2">qi</span><span class="s1">,</span><span class="s2">emptyDir</span><span class="s1">:</span><span class="s2">Ki</span><span class="s1">,</span><span class="s2">emptydir</span><span class="s1">:</span><span class="s2">Ki</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Xi</span><span class="s1">=</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">Zi</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Qi</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">es</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">,</span><span class="s2">ts</span><span class="s1">=</span><span class="s2">fi</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">;</span><span class="s2">var ns</span><span class="s1">=</span><span class="s4">{</span><span class="s2">createFile</span><span class="s1">:</span><span class="s2">Xi</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function n</span><span class="s3">()</span><span class="s4">{</span><span class="s2">Qi</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">t</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">Qi</span><span class="s1">.</span><span class="s2">stat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">.</span><span class="s2">isFile</span><span class="s3">())</span><span class="s2">return t</span><span class="s3">()</span><span class="s1">;</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">Zi</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">ts</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">?</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s1">?</span><span class="s2">n</span><span class="s3">()</span><span class="s1">:</span><span class="s2">void es</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">n</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">createFileSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let t</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">Qi</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isFile</span><span class="s3">())</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Zi</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Qi</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">||</span><span class="s2">es</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Qi</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const rs</span><span class="s1">=</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">us</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">os</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">is</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">,</span><span class="s2">ss</span><span class="s1">=</span><span class="s2">fi</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">;</span><span class="s2">var cs</span><span class="s1">=</span><span class="s4">{</span><span class="s2">createLink</span><span class="s1">:</span><span class="s2">rs</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">function r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">os</span><span class="s1">.</span><span class="s2">link</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">ss</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void os</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return u</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;ensureLink&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">us</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">ss</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void is</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">createLinkSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">os</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s2">return</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">os</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">throw e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;ensureLink&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">us</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return os</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">||</span><span class="s2">is</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">os</span><span class="s1">.</span><span class="s2">linkSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const as</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">ls</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">fs</span><span class="s1">=</span><span class="s2">fi</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">;</span><span class="s2">var ds</span><span class="s1">=</span><span class="s4">{</span><span class="s2">symlinkPaths</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">as</span><span class="s1">.</span><span class="s2">isAbsolute</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">return ls</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;ensureSymlink&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">:</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s3">)))</span><span class="s1">;</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">as</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">as</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return fs</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s1">?</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">ls</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;lstat&quot;</span><span class="s1">,</span><span class="s0">&quot;ensureSymlink&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">:</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">as</span><span class="s1">.</span><span class="s2">relative</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)))))</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">symlinkPathsSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">as</span><span class="s1">.</span><span class="s2">isAbsolute</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">ls</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,!</span><span class="s2">n</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;absolute srcpath does not exist&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}}{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">as</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">as</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">ls</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">ls</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,!</span><span class="s2">n</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;relative srcpath does not exist&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return</span><span class="s4">{</span><span class="s2">toCwd</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">toDst</span><span class="s1">:</span><span class="s2">as</span><span class="s1">.</span><span class="s2">relative</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}}}</span><span class="s1">;</span><span class="s2">const Ds</span><span class="s1">=</span><span class="s2">we</span><span class="s1">;</span><span class="s2">var ps</span><span class="s1">=</span><span class="s4">{</span><span class="s2">symlinkType</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">?</span><span class="s2">t</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Ds</span><span class="s1">.</span><span class="s2">lstat</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s0">&quot;file&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">t</span><span class="s1">=</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s0">&quot;dir&quot;</span><span class="s1">:</span><span class="s0">&quot;file&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">symlinkTypeSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return t</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">n</span><span class="s1">=</span><span class="s2">Ds</span><span class="s1">.</span><span class="s2">lstatSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s0">&quot;file&quot;</span><span class="s4">}</span><span class="s2">return n</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">()</span><span class="s1">?</span><span class="s0">&quot;dir&quot;</span><span class="s1">:</span><span class="s0">&quot;file&quot;</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const Es</span><span class="s1">=</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">ms</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">hs</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">ys</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s1">,</span><span class="s2">Cs</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s1">,</span><span class="s2">Fs</span><span class="s1">=</span><span class="s2">ds</span><span class="s1">.</span><span class="s2">symlinkPaths</span><span class="s1">,</span><span class="s2">gs</span><span class="s1">=</span><span class="s2">ds</span><span class="s1">.</span><span class="s2">symlinkPathsSync</span><span class="s1">,</span><span class="s2">As</span><span class="s1">=</span><span class="s2">ps</span><span class="s1">.</span><span class="s2">symlinkType</span><span class="s1">,</span><span class="s2">vs</span><span class="s1">=</span><span class="s2">ps</span><span class="s1">.</span><span class="s2">symlinkTypeSync</span><span class="s1">,</span><span class="s2">Ss</span><span class="s1">=</span><span class="s2">fi</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">;</span><span class="s2">var ws</span><span class="s1">=</span><span class="s4">{</span><span class="s2">createSymlink</span><span class="s1">:</span><span class="s2">Es</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">?</span><span class="s2">n</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s0">&quot;function&quot;</span><span class="s1">!=</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">,</span><span class="s2">Ss</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">null</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void Fs</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">toDst</span><span class="s1">,</span><span class="s2">As</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">toCwd</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s3">((</span><span class="s2">n</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">ms</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Ss</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">((</span><span class="s2">n</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">n</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">?</span><span class="s2">hs</span><span class="s1">.</span><span class="s2">symlink</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void ys</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">hs</span><span class="s1">.</span><span class="s2">symlink</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">createSymlinkSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">hs</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">gs</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">toDst</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">vs</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">toCwd</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">ms</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return hs</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">||</span><span class="s2">Cs</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">hs</span><span class="s1">.</span><span class="s2">symlinkSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">var Os</span><span class="s1">,</span><span class="s2">bs</span><span class="s1">=</span><span class="s4">{</span><span class="s2">createFile</span><span class="s1">:</span><span class="s2">ns</span><span class="s1">.</span><span class="s2">createFile</span><span class="s1">,</span><span class="s2">createFileSync</span><span class="s1">:</span><span class="s2">ns</span><span class="s1">.</span><span class="s2">createFileSync</span><span class="s1">,</span><span class="s2">ensureFile</span><span class="s1">:</span><span class="s2">ns</span><span class="s1">.</span><span class="s2">createFile</span><span class="s1">,</span><span class="s2">ensureFileSync</span><span class="s1">:</span><span class="s2">ns</span><span class="s1">.</span><span class="s2">createFileSync</span><span class="s1">,</span><span class="s2">createLink</span><span class="s1">:</span><span class="s2">cs</span><span class="s1">.</span><span class="s2">createLink</span><span class="s1">,</span><span class="s2">createLinkSync</span><span class="s1">:</span><span class="s2">cs</span><span class="s1">.</span><span class="s2">createLinkSync</span><span class="s1">,</span><span class="s2">ensureLink</span><span class="s1">:</span><span class="s2">cs</span><span class="s1">.</span><span class="s2">createLink</span><span class="s1">,</span><span class="s2">ensureLinkSync</span><span class="s1">:</span><span class="s2">cs</span><span class="s1">.</span><span class="s2">createLinkSync</span><span class="s1">,</span><span class="s2">createSymlink</span><span class="s1">:</span><span class="s2">ws</span><span class="s1">.</span><span class="s2">createSymlink</span><span class="s1">,</span><span class="s2">createSymlinkSync</span><span class="s1">:</span><span class="s2">ws</span><span class="s1">.</span><span class="s2">createSymlinkSync</span><span class="s1">,</span><span class="s2">ensureSymlink</span><span class="s1">:</span><span class="s2">ws</span><span class="s1">.</span><span class="s2">createSymlink</span><span class="s1">,</span><span class="s2">ensureSymlinkSync</span><span class="s1">:</span><span class="s2">ws</span><span class="s1">.</span><span class="s2">createSymlinkSync</span><span class="s4">}</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">Os</span><span class="s1">=</span><span class="s2">we</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Os</span><span class="s1">=</span><span class="s2">D</span><span class="s1">.</span><span class="s2">default</span><span class="s4">}</span><span class="s2">function _s</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s0">&quot;\n&quot;</span><span class="s1">;</span><span class="s2">return</span><span class="s0">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s2">null</span><span class="s1">!==</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">spaces</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">spaces</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">EOL</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">EOL</span><span class="s3">))</span><span class="s1">,</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">replacer</span><span class="s1">:</span><span class="s2">null</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/\n/g</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">+</span><span class="s2">r</span><span class="s4">}</span><span class="s2">function Bs</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return Buffer</span><span class="s1">.</span><span class="s2">isBuffer</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">(</span><span class="s0">&quot;utf8&quot;</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/^\uFEFF/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">var Ps</span><span class="s1">=</span><span class="s4">{</span><span class="s2">readFile</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">null</span><span class="s1">==</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s4">{</span><span class="s2">encoding</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var r</span><span class="s1">=</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s2">t</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">fs</span><span class="s1">||</span><span class="s2">Os</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">;</span><span class="s0">&quot;throws&quot;</span><span class="s2">in t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">throws</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">readFile</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">function</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s2">return n</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var i</span><span class="s1">;</span><span class="s2">o</span><span class="s1">=</span><span class="s2">Bs</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">i</span><span class="s1">=</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">reviver</span><span class="s1">:</span><span class="s2">null</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return u</span><span class="s1">?</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;: &quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">:</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">null</span><span class="s3">)</span><span class="s4">}</span><span class="s2">n</span><span class="s3">(</span><span class="s2">null</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">readFileSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s2">t</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s4">{</span><span class="s2">encoding</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fs</span><span class="s1">||</span><span class="s2">Os</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">;</span><span class="s0">&quot;throws&quot;</span><span class="s2">in t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">throws</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">readFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return u</span><span class="s1">=</span><span class="s2">Bs</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">reviver</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s2">throw t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;: &quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">t</span><span class="s1">;</span><span class="s2">return null</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">writeFile</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">null</span><span class="s1">==</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">=</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">n</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">fs</span><span class="s1">||</span><span class="s2">Os</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">o</span><span class="s1">=</span><span class="s2">_s</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return void</span><span class="s3">(</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">null</span><span class="s3">))</span><span class="s4">}</span><span class="s2">u</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">writeFileSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">var r</span><span class="s1">=</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">n</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">fs</span><span class="s1">||</span><span class="s2">Os</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">_s</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">ks</span><span class="s1">=</span><span class="s2">Ps</span><span class="s1">;</span><span class="s2">const xs</span><span class="s1">=</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">Ns</span><span class="s1">=</span><span class="s2">ks</span><span class="s1">;</span><span class="s2">var Is</span><span class="s1">=</span><span class="s4">{</span><span class="s2">readJson</span><span class="s1">:</span><span class="s2">xs</span><span class="s3">(</span><span class="s2">Ns</span><span class="s1">.</span><span class="s2">readFile</span><span class="s3">)</span><span class="s1">,</span><span class="s2">readJsonSync</span><span class="s1">:</span><span class="s2">Ns</span><span class="s1">.</span><span class="s2">readFileSync</span><span class="s1">,</span><span class="s2">writeJson</span><span class="s1">:</span><span class="s2">xs</span><span class="s3">(</span><span class="s2">Ns</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s3">)</span><span class="s1">,</span><span class="s2">writeJsonSync</span><span class="s1">:</span><span class="s2">Ns</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Ts</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Rs</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">,</span><span class="s2">Ms</span><span class="s1">=</span><span class="s2">fi</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">,</span><span class="s2">Ls</span><span class="s1">=</span><span class="s2">Is</span><span class="s1">;</span><span class="s2">var js</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">Ts</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Ms</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">((</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">?</span><span class="s2">Ls</span><span class="s1">.</span><span class="s2">writeJson</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void Rs</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Ls</span><span class="s1">.</span><span class="s2">writeJson</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const $s</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">Hs</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Js</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">,</span><span class="s2">Gs</span><span class="s1">=</span><span class="s2">Is</span><span class="s1">;</span><span class="s2">var Vs</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">Hs</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">$s</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">||</span><span class="s2">Js</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Gs</span><span class="s1">.</span><span class="s2">writeJsonSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Us</span><span class="s1">=</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">Ws</span><span class="s1">=</span><span class="s2">Is</span><span class="s1">;</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">outputJson</span><span class="s1">=</span><span class="s2">Us</span><span class="s3">(</span><span class="s2">js</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">outputJsonSync</span><span class="s1">=</span><span class="s2">Vs</span><span class="s1">,</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">outputJSON</span><span class="s1">=</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">outputJson</span><span class="s1">,</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">outputJSONSync</span><span class="s1">=</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">outputJsonSync</span><span class="s1">,</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">writeJSON</span><span class="s1">=</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">writeJson</span><span class="s1">,</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">writeJSONSync</span><span class="s1">=</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">writeJsonSync</span><span class="s1">,</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">readJSON</span><span class="s1">=</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">readJson</span><span class="s1">,</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">readJSONSync</span><span class="s1">=</span><span class="s2">Ws</span><span class="s1">.</span><span class="s2">readJsonSync</span><span class="s1">;</span><span class="s2">var zs</span><span class="s1">=</span><span class="s2">Ws</span><span class="s1">;</span><span class="s2">const Ks</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">qs</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Ys</span><span class="s1">=</span><span class="s2">ci</span><span class="s1">.</span><span class="s2">copySync</span><span class="s1">,</span><span class="s2">Xs</span><span class="s1">=</span><span class="s2">Ji</span><span class="s1">.</span><span class="s2">removeSync</span><span class="s1">,</span><span class="s2">Zs</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">.</span><span class="s2">mkdirpSync</span><span class="s1">,</span><span class="s2">Qs</span><span class="s1">=</span><span class="s2">Zo</span><span class="s1">;</span><span class="s2">function ec</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">Ks</span><span class="s1">.</span><span class="s2">renameSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EXDEV&quot;</span><span class="s1">!==</span><span class="s2">r</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">throw r</span><span class="s1">;</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s4">{</span><span class="s2">overwrite</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">errorOnExist</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">;</span><span class="s2">return Ys</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Xs</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">var tc</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">n</span><span class="s1">||</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">||</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">||!</span><span class="s5">1</span><span class="s1">,</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">u</span><span class="s4">}</span><span class="s1">=</span><span class="s2">Qs</span><span class="s1">.</span><span class="s2">checkPathsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;move&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Qs</span><span class="s1">.</span><span class="s2">checkParentPathsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;move&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Zs</span><span class="s3">(</span><span class="s2">qs</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return Xs</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ec</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Ks</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;dest already exists.&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return ec</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">nc</span><span class="s1">=</span><span class="s4">{</span><span class="s2">moveSync</span><span class="s1">:</span><span class="s2">tc</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const rc</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">uc</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">oc</span><span class="s1">=</span><span class="s2">bi</span><span class="s1">.</span><span class="s2">copy</span><span class="s1">,</span><span class="s2">ic</span><span class="s1">=</span><span class="s2">Ji</span><span class="s1">.</span><span class="s2">remove</span><span class="s1">,</span><span class="s2">sc</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">.</span><span class="s2">mkdirp</span><span class="s1">,</span><span class="s2">cc</span><span class="s1">=</span><span class="s2">fi</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">,</span><span class="s2">ac</span><span class="s1">=</span><span class="s2">Zo</span><span class="s1">;</span><span class="s2">function lc</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">rc</span><span class="s1">.</span><span class="s2">rename</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s0">&quot;EXDEV&quot;</span><span class="s1">!==</span><span class="s2">u</span><span class="s1">.</span><span class="s2">code</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s4">{</span><span class="s2">overwrite</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">errorOnExist</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">;</span><span class="s2">oc</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">:</span><span class="s2">ic</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">r</span><span class="s3">()))</span><span class="s4">}</span><span class="s2">var fc</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">overwrite</span><span class="s1">||</span><span class="s2">n</span><span class="s1">.</span><span class="s2">clobber</span><span class="s1">||!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">ac</span><span class="s1">.</span><span class="s2">checkPaths</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;move&quot;</span><span class="s1">,</span><span class="s3">((</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const</span><span class="s4">{</span><span class="s2">srcStat</span><span class="s1">:</span><span class="s2">i</span><span class="s4">}</span><span class="s1">=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">ac</span><span class="s1">.</span><span class="s2">checkParentPaths</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;move&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">sc</span><span class="s3">(</span><span class="s2">uc</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s2">n</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return ic</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">lc</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s1">;</span><span class="s2">cc</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">((</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">:</span><span class="s2">o</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">(</span><span class="s0">&quot;dest already exists.&quot;</span><span class="s3">))</span><span class="s1">:</span><span class="s2">lc</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var dc</span><span class="s1">=</span><span class="s4">{</span><span class="s2">move</span><span class="s1">:</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s3">)(</span><span class="s2">fc</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Dc</span><span class="s1">=</span><span class="s2">yo</span><span class="s1">.</span><span class="s2">fromCallback</span><span class="s1">,</span><span class="s2">pc</span><span class="s1">=</span><span class="s2">we</span><span class="s1">,</span><span class="s2">Ec</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">mc</span><span class="s1">=</span><span class="s2">Io</span><span class="s1">,</span><span class="s2">hc</span><span class="s1">=</span><span class="s2">fi</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s1">;</span><span class="s2">var yc</span><span class="s1">=</span><span class="s4">{</span><span class="s2">outputFile</span><span class="s1">:</span><span class="s2">Dc</span><span class="s3">((</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s0">&quot;utf8&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">Ec</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">hc</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">((</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s2">i</span><span class="s1">?</span><span class="s2">pc</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">:</span><span class="s2">void mc</span><span class="s1">.</span><span class="s2">mkdirs</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s2">return r</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">pc</span><span class="s1">.</span><span class="s2">writeFile</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">outputFileSync</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Ec</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">pc</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">))</span><span class="s2">return pc</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">mc</span><span class="s1">.</span><span class="s2">mkdirsSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">pc</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s3">(</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">ho</span><span class="s1">,</span><span class="s2">ci</span><span class="s1">,</span><span class="s2">bi</span><span class="s1">,</span><span class="s2">Yi</span><span class="s1">,</span><span class="s2">bs</span><span class="s1">,</span><span class="s2">zs</span><span class="s1">,</span><span class="s2">Io</span><span class="s1">,</span><span class="s2">nc</span><span class="s1">,</span><span class="s2">dc</span><span class="s1">,</span><span class="s2">yc</span><span class="s1">,</span><span class="s2">fi</span><span class="s1">,</span><span class="s2">Ji</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">D</span><span class="s1">.</span><span class="s2">default</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;promises&quot;</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">,</span><span class="s0">&quot;promises&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">get</span><span class="s1">:</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">promises</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">mo</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const Cc</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;streamroller:fileNameFormatter&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Fc</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">;</span><span class="s2">const gc</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;streamroller:fileNameParser&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ac</span><span class="s1">=</span><span class="s2">nu</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">;</span><span class="s2">const vc</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;streamroller:moveAndMaybeCompressFile&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Sc</span><span class="s1">=</span><span class="s2">mo</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">,</span><span class="s2">wc</span><span class="s1">=</span><span class="s2">v</span><span class="s1">.</span><span class="s2">default</span><span class="s1">;</span><span class="s2">var Oc</span><span class="s1">=</span><span class="s2">async</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s4">{</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s0">&quot;0600&quot;</span><span class="s1">,</span><span class="s5">8</span><span class="s3">)</span><span class="s1">,</span><span class="s2">compress</span><span class="s1">:!</span><span class="s5">1</span><span class="s4">}</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s3">(</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return vc</span><span class="s3">(</span><span class="s0">`_parseOption: moveAndMaybeCompressFile called with option=</span><span class="s4">${</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s4">}</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">!==</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">await Sc</span><span class="s1">.</span><span class="s2">pathExists</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">if</span><span class="s3">(</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">`moveAndMaybeCompressFile: moving file from </span><span class="s4">${</span><span class="s2">e</span><span class="s4">} </span><span class="s0">to </span><span class="s4">${</span><span class="s2">t</span><span class="s4">} ${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">compress</span><span class="s1">?</span><span class="s0">&quot;with&quot;</span><span class="s1">:</span><span class="s0">&quot;without&quot;</span><span class="s4">} </span><span class="s0">compress`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">compress</span><span class="s3">)</span><span class="s2">await new Promise</span><span class="s3">(((</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">let o</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">const i</span><span class="s1">=</span><span class="s2">Sc</span><span class="s1">.</span><span class="s2">createWriteStream</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s4">{</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">,</span><span class="s2">flags</span><span class="s1">:</span><span class="s0">&quot;wx&quot;</span><span class="s4">}</span><span class="s3">)</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;open&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">o</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">;</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">Sc</span><span class="s1">.</span><span class="s2">createReadStream</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;open&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">pipe</span><span class="s3">(</span><span class="s2">wc</span><span class="s1">.</span><span class="s2">createGzip</span><span class="s3">())</span><span class="s1">.</span><span class="s2">pipe</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">`moveAndMaybeCompressFile: error reading </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">destroy</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;finish&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">`moveAndMaybeCompressFile: finished compressing </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">, deleting </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Sc</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">then</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">`moveAndMaybeCompressFile: error deleting </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">, truncating instead`</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Sc</span><span class="s1">.</span><span class="s2">truncate</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">then</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">`moveAndMaybeCompressFile: error truncating </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">o</span><span class="s1">?</span><span class="s3">(</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">`moveAndMaybeCompressFile: error writing </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">, deleting`</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Sc</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">.</span><span class="s2">then</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">`moveAndMaybeCompressFile: error deleting </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)))</span><span class="s1">:</span><span class="s3">(</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">`moveAndMaybeCompressFile: error creating </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s4">{}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">else</span><span class="s4">{</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">`moveAndMaybeCompressFile: renaming </span><span class="s4">${</span><span class="s2">e</span><span class="s4">} </span><span class="s0">to </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">await Sc</span><span class="s1">.</span><span class="s2">move</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s4">{</span><span class="s2">overwrite</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">`moveAndMaybeCompressFile: error renaming </span><span class="s4">${</span><span class="s2">e</span><span class="s4">} </span><span class="s0">to </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s4">{</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">&quot;moveAndMaybeCompressFile: trying copy+truncate instead&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">await Sc</span><span class="s1">.</span><span class="s2">copy</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s4">{</span><span class="s2">overwrite</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">await Sc</span><span class="s1">.</span><span class="s2">truncate</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">vc</span><span class="s3">(</span><span class="s0">&quot;moveAndMaybeCompressFile: error copy+truncate&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}}}}</span><span class="s2">else vc</span><span class="s3">(</span><span class="s0">&quot;moveAndMaybeCompressFile: source and target are the same, not doing anything&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const bc</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;streamroller:RollingFileWriteStream&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">_c</span><span class="s1">=</span><span class="s2">mo</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">,</span><span class="s2">Bc</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Pc</span><span class="s1">=</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">kc</span><span class="s1">=</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">new Date</span><span class="s1">,</span><span class="s2">xc</span><span class="s1">=</span><span class="s2">nu</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">,</span><span class="s4">{</span><span class="s2">Writable</span><span class="s1">:</span><span class="s2">Nc</span><span class="s4">}</span><span class="s1">=</span><span class="s2">C</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Ic</span><span class="s1">=</span><span class="s3">(</span><span class="s4">{</span><span class="s2">file</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">keepFileExt</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">needsIndex</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">alwaysIncludeDate</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">compress</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s2">fileNameSep</span><span class="s1">:</span><span class="s2">o</span><span class="s4">}</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">let i</span><span class="s1">=</span><span class="s2">o</span><span class="s1">||</span><span class="s0">&quot;.&quot;</span><span class="s1">;</span><span class="s2">const s</span><span class="s1">=</span><span class="s2">Fc</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">dir</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s3">)</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ext</span><span class="s1">,</span><span class="s2">a</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;!</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">||!</span><span class="s2">t</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s2">e</span><span class="s1">+</span><span class="s2">i</span><span class="s1">+</span><span class="s2">t</span><span class="s1">,</span><span class="s2">l</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">&gt;</span><span class="s5">0</span><span class="s1">||</span><span class="s2">r</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">?</span><span class="s2">e</span><span class="s1">+</span><span class="s2">i</span><span class="s1">+</span><span class="s2">n</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">f</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">?</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;.gz&quot;</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">d</span><span class="s1">=</span><span class="s2">t</span><span class="s1">?</span><span class="s3">[</span><span class="s2">l</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">f</span><span class="s3">]</span><span class="s1">:</span><span class="s3">[</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">f</span><span class="s3">]</span><span class="s1">;</span><span class="s2">return</span><span class="s3">(</span><span class="s4">{</span><span class="s2">date</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">index</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s3">(</span><span class="s2">Cc</span><span class="s3">(</span><span class="s0">`_formatFileName: date=</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">, index=</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">reduce</span><span class="s3">(((</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">r</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">s</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">Tc</span><span class="s1">=</span><span class="s3">(</span><span class="s4">{</span><span class="s2">file</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">keepFileExt</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">pattern</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">fileNameSep</span><span class="s1">:</span><span class="s2">r</span><span class="s4">}</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">let u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s0">&quot;.&quot;</span><span class="s1">;</span><span class="s2">const o</span><span class="s1">=</span><span class="s0">&quot;__NOT_MATCHING__&quot;</span><span class="s1">;</span><span class="s2">let i</span><span class="s1">=</span><span class="s3">[(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">endsWith</span><span class="s3">(</span><span class="s0">&quot;.gz&quot;</span><span class="s3">)</span><span class="s1">?</span><span class="s3">(</span><span class="s2">gc</span><span class="s3">(</span><span class="s0">&quot;it is gzipped&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isCompressed</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,-</span><span class="s5">1</span><span class="s1">*</span><span class="s0">&quot;.gz&quot;</span><span class="s1">.</span><span class="s2">length</span><span class="s3">))</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">startsWith</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">endsWith</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ext</span><span class="s3">)</span><span class="s1">?</span><span class="s3">(</span><span class="s2">gc</span><span class="s3">(</span><span class="s0">&quot;it starts and ends with the right things&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">.</span><span class="s2">length</span><span class="s1">+</span><span class="s5">1</span><span class="s1">,-</span><span class="s5">1</span><span class="s1">*</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ext</span><span class="s1">.</span><span class="s2">length</span><span class="s3">))</span><span class="s1">:</span><span class="s2">o</span><span class="s1">:</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">startsWith</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">base</span><span class="s3">)</span><span class="s1">?</span><span class="s3">(</span><span class="s2">gc</span><span class="s3">(</span><span class="s0">&quot;it starts with the right things&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">base</span><span class="s1">.</span><span class="s2">length</span><span class="s1">+</span><span class="s5">1</span><span class="s3">))</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">?</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let o</span><span class="s1">=</span><span class="s2">r</span><span class="s3">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">]</span><span class="s1">;</span><span class="s2">gc</span><span class="s3">(</span><span class="s0">&quot;items: &quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s0">&quot;, indexStr: &quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let i</span><span class="s1">=</span><span class="s2">e</span><span class="s1">;</span><span class="s2">void </span><span class="s5">0</span><span class="s1">!==</span><span class="s2">o</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">match</span><span class="s3">(</span><span class="s0">/^\d+$/</span><span class="s3">)</span><span class="s1">?</span><span class="s3">(</span><span class="s2">i</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,-</span><span class="s5">1</span><span class="s1">*</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">+</span><span class="s5">1</span><span class="s3">))</span><span class="s1">,</span><span class="s2">gc</span><span class="s3">(</span><span class="s0">`dateStr is </span><span class="s4">${</span><span class="s2">i</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">&amp;&amp;!</span><span class="s2">i</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">i</span><span class="s1">=</span><span class="s2">o</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s0">&quot;0&quot;</span><span class="s3">))</span><span class="s1">:</span><span class="s2">o</span><span class="s1">=</span><span class="s0">&quot;0&quot;</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">Ac</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">new Date</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s3">))</span><span class="s1">;</span><span class="s2">return Ac</span><span class="s1">.</span><span class="s2">asString</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">!==</span><span class="s2">i</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">index</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">date</span><span class="s1">=</span><span class="s2">i</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">timestamp</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getTime</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return gc</span><span class="s3">(</span><span class="s0">`Problem parsing </span><span class="s4">${</span><span class="s2">i</span><span class="s4">} </span><span class="s0">as </span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">, error was: `</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}}</span><span class="s1">:</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">match</span><span class="s3">(</span><span class="s0">/^\d+$/</span><span class="s3">)</span><span class="s1">?</span><span class="s3">(</span><span class="s2">gc</span><span class="s3">(</span><span class="s0">&quot;it has an index&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">index</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s3">]</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">let t</span><span class="s1">=</span><span class="s4">{</span><span class="s2">filename</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">index</span><span class="s1">:</span><span class="s5">0</span><span class="s1">,</span><span class="s2">isCompressed</span><span class="s1">:!</span><span class="s5">1</span><span class="s4">}</span><span class="s1">;</span><span class="s2">return i</span><span class="s1">.</span><span class="s2">reduce</span><span class="s3">(((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">?</span><span class="s2">null</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">Rc</span><span class="s1">=</span><span class="s2">Oc</span><span class="s1">;</span><span class="s2">var Mc</span><span class="s1">=</span><span class="s2">class extends Nc</span><span class="s4">{</span><span class="s2">constructor</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">`constructor: creating RollingFileWriteStream. path=</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;string&quot;</span><span class="s1">!=</span><span class="s2">typeof e</span><span class="s1">||</span><span class="s5">0</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Invalid filename: </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">endsWith</span><span class="s3">(</span><span class="s2">Bc</span><span class="s1">.</span><span class="s2">sep</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Filename is a directory: </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s5">0</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s0">`~</span><span class="s4">${</span><span class="s2">Bc</span><span class="s1">.</span><span class="s2">sep</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">&quot;~&quot;</span><span class="s1">,</span><span class="s2">Pc</span><span class="s1">.</span><span class="s2">homedir</span><span class="s3">()))</span><span class="s1">,</span><span class="s2">super</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_parseOption</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileObject</span><span class="s1">=</span><span class="s2">Bc</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">===</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileObject</span><span class="s1">.</span><span class="s2">dir</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileObject</span><span class="s1">=</span><span class="s2">Bc</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">Bc</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)))</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileFormatter</span><span class="s1">=</span><span class="s2">Ic</span><span class="s3">(</span><span class="s4">{</span><span class="s2">file</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileObject</span><span class="s1">,</span><span class="s2">alwaysIncludeDate</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">alwaysIncludePattern</span><span class="s1">,</span><span class="s2">needsIndex</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">maxSize</span><span class="s1">&lt;</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">MAX_SAFE_INTEGER</span><span class="s1">,</span><span class="s2">compress</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">compress</span><span class="s1">,</span><span class="s2">keepFileExt</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">keepFileExt</span><span class="s1">,</span><span class="s2">fileNameSep</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">fileNameSep</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileNameParser</span><span class="s1">=</span><span class="s2">Tc</span><span class="s3">(</span><span class="s4">{</span><span class="s2">file</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileObject</span><span class="s1">,</span><span class="s2">keepFileExt</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">keepFileExt</span><span class="s1">,</span><span class="s2">pattern</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">,</span><span class="s2">fileNameSep</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">fileNameSep</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">=</span><span class="s4">{</span><span class="s2">currentSize</span><span class="s1">:</span><span class="s5">0</span><span class="s4">}</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s1">=</span><span class="s2">xc</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">,</span><span class="s2">kc</span><span class="s3">()))</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">filename</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileFormatter</span><span class="s3">(</span><span class="s4">{</span><span class="s2">index</span><span class="s1">:</span><span class="s5">0</span><span class="s1">,</span><span class="s2">date</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;a&quot;</span><span class="s1">,</span><span class="s0">&quot;a+&quot;</span><span class="s1">,</span><span class="s0">&quot;as&quot;</span><span class="s1">,</span><span class="s0">&quot;as+&quot;</span><span class="s3">]</span><span class="s1">.</span><span class="s2">includes</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">flags</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_setExistingSizeAndDate</span><span class="s3">()</span><span class="s1">,</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">`constructor: create new file </span><span class="s4">${</span><span class="s2">this</span><span class="s1">.</span><span class="s2">filename</span><span class="s4">}</span><span class="s0">, state=</span><span class="s4">${</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s3">)</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_renewWriteStream</span><span class="s3">()</span><span class="s4">}</span><span class="s2">_setExistingSizeAndDate</span><span class="s3">()</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">_c</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">filename</span><span class="s3">)</span><span class="s1">;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentSize</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s1">=</span><span class="s2">xc</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mtime</span><span class="s3">))</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s4">}}</span><span class="s2">_parseOption</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s4">{</span><span class="s2">maxSize</span><span class="s1">:</span><span class="s5">0</span><span class="s1">,</span><span class="s2">numToKeep</span><span class="s1">:</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">MAX_SAFE_INTEGER</span><span class="s1">,</span><span class="s2">encoding</span><span class="s1">:</span><span class="s0">&quot;utf8&quot;</span><span class="s1">,</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s0">&quot;0600&quot;</span><span class="s1">,</span><span class="s5">8</span><span class="s3">)</span><span class="s1">,</span><span class="s2">flags</span><span class="s1">:</span><span class="s0">&quot;a&quot;</span><span class="s1">,</span><span class="s2">compress</span><span class="s1">:!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">keepFileExt</span><span class="s1">:!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">alwaysIncludePattern</span><span class="s1">:!</span><span class="s5">1</span><span class="s4">}</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s3">(</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">maxSize</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">maxSize</span><span class="s1">&lt;=</span><span class="s5">0</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`options.maxSize (</span><span class="s4">${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">maxSize</span><span class="s4">}</span><span class="s0">) should be &gt; 0`</span><span class="s3">)</span><span class="s4">}</span><span class="s2">else delete n</span><span class="s1">.</span><span class="s2">maxSize</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">||</span><span class="s5">0</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`options.numBackups (</span><span class="s4">${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s4">}</span><span class="s0">) should be &gt;= 0`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">&gt;=</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">MAX_SAFE_INTEGER</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`options.numBackups (</span><span class="s4">${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s4">}</span><span class="s0">) should be &lt; Number.MAX_SAFE_INTEGER`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numToKeep</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">+</span><span class="s5">1</span><span class="s4">}</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numToKeep</span><span class="s1">&lt;=</span><span class="s5">0</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`options.numToKeep (</span><span class="s4">${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numToKeep</span><span class="s4">}</span><span class="s0">) should be &gt; 0`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return bc</span><span class="s3">(</span><span class="s0">`_parseOption: creating stream with option=</span><span class="s4">${</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s4">}</span><span class="s2">_final</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentFileStream</span><span class="s1">.</span><span class="s2">end</span><span class="s3">(</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">encoding</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">_write</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_shouldRoll</span><span class="s3">()</span><span class="s1">.</span><span class="s2">then</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">`_write: writing chunk. file=</span><span class="s4">${</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentFileStream</span><span class="s1">.</span><span class="s2">path</span><span class="s4">} </span><span class="s0">state=</span><span class="s4">${</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s3">)</span><span class="s4">} </span><span class="s0">chunk=</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentFileStream</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentSize</span><span class="s1">+=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">,</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">async _shouldRoll</span><span class="s3">()</span><span class="s4">{</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_dateChanged</span><span class="s3">()</span><span class="s1">||</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_tooBig</span><span class="s3">())</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">`_shouldRoll: rolling because dateChanged? </span><span class="s4">${</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_dateChanged</span><span class="s3">()</span><span class="s4">} </span><span class="s0">or tooBig? </span><span class="s4">${</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_tooBig</span><span class="s3">()</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">await this</span><span class="s1">.</span><span class="s2">_roll</span><span class="s3">())</span><span class="s4">}</span><span class="s2">_dateChanged</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s1">!==</span><span class="s2">xc</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">,</span><span class="s2">kc</span><span class="s3">())</span><span class="s4">}</span><span class="s2">_tooBig</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentSize</span><span class="s1">&gt;=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">maxSize</span><span class="s4">}</span><span class="s2">_roll</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return bc</span><span class="s3">(</span><span class="s0">&quot;_roll: closing the current stream&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">new Promise</span><span class="s3">(((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentFileStream</span><span class="s1">.</span><span class="s2">end</span><span class="s3">(</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">encoding</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_moveOldFiles</span><span class="s3">()</span><span class="s1">.</span><span class="s2">then</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">async _moveOldFiles</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">await this</span><span class="s1">.</span><span class="s2">_getExistingFiles</span><span class="s3">()</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">let t</span><span class="s1">=</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">date</span><span class="s1">===</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s3">))</span><span class="s1">:</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">t</span><span class="s1">&gt;=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">t</span><span class="s1">--</span><span class="s3">)</span><span class="s4">{</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">`_moveOldFiles: i = </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileFormatter</span><span class="s3">(</span><span class="s4">{</span><span class="s2">date</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s1">,</span><span class="s2">index</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileFormatter</span><span class="s3">(</span><span class="s4">{</span><span class="s2">date</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s1">,</span><span class="s2">index</span><span class="s1">:</span><span class="s2">t</span><span class="s1">+</span><span class="s5">1</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s4">{</span><span class="s2">compress</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">compress</span><span class="s1">&amp;&amp;</span><span class="s5">0</span><span class="s1">===</span><span class="s2">t</span><span class="s1">,</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">mode</span><span class="s4">}</span><span class="s1">;</span><span class="s2">await Rc</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentSize</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s1">?</span><span class="s2">xc</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">,</span><span class="s2">kc</span><span class="s3">())</span><span class="s1">:</span><span class="s2">null</span><span class="s1">,</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">`_moveOldFiles: finished rolling files. state=</span><span class="s4">${</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s3">)</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_renewWriteStream</span><span class="s3">()</span><span class="s1">,</span><span class="s2">await new Promise</span><span class="s3">(((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentFileStream</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s0">&quot;utf8&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_clean</span><span class="s3">()</span><span class="s1">.</span><span class="s2">then</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">async _getExistingFiles</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">await _c</span><span class="s1">.</span><span class="s2">readdir</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileObject</span><span class="s1">.</span><span class="s2">dir</span><span class="s3">)</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s3">[]))</span><span class="s1">;</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">`_getExistingFiles: files=</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileNameParser</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">timestamp</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">timestamp</span><span class="s1">:</span><span class="s2">kc</span><span class="s3">()</span><span class="s1">.</span><span class="s2">getTime</span><span class="s3">())</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">index</span><span class="s1">;</span><span class="s2">return t</span><span class="s1">.</span><span class="s2">sort</span><span class="s3">(((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">-</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)))</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}</span><span class="s2">_renewWriteStream</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileFormatter</span><span class="s3">(</span><span class="s4">{</span><span class="s2">date</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">currentDate</span><span class="s1">,</span><span class="s2">index</span><span class="s1">:</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return _c</span><span class="s1">.</span><span class="s2">mkdirSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">{</span><span class="s2">recursive</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;ENOENT&quot;</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">return t</span><span class="s3">(</span><span class="s2">Bc</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;EEXIST&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;EROFS&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s3">)</span><span class="s2">throw n</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">_c</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">isDirectory</span><span class="s3">())</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">throw n</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">throw n</span><span class="s4">}}}</span><span class="s1">;</span><span class="s2">t</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileObject</span><span class="s1">.</span><span class="s2">dir</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s4">{</span><span class="s2">flags</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">flags</span><span class="s1">,</span><span class="s2">encoding</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">encoding</span><span class="s1">,</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">mode</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">;</span><span class="s2">_c</span><span class="s1">.</span><span class="s2">appendFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s4">{</span><span class="s1">...</span><span class="s2">n</span><span class="s4">}</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s0">&quot;flags&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s3">[</span><span class="s0">&quot;flag&quot;</span><span class="s3">]</span><span class="s1">=</span><span class="s2">r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">,</span><span class="s2">delete r</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">,</span><span class="s2">r</span><span class="s3">))</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentFileStream</span><span class="s1">=</span><span class="s2">_c</span><span class="s1">.</span><span class="s2">createWriteStream</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentFileStream</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">async _clean</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">await this</span><span class="s1">.</span><span class="s2">_getExistingFiles</span><span class="s3">()</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">`_clean: numToKeep = </span><span class="s4">${</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">numToKeep</span><span class="s4">}</span><span class="s0">, existingFiles = </span><span class="s4">${</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">&quot;_clean: existing files are: &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_tooManyFiles</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s3">))</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">numToKeep</span><span class="s3">)</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">Bc</span><span class="s1">.</span><span class="s2">format</span><span class="s3">(</span><span class="s4">{</span><span class="s2">dir</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s2">fileObject</span><span class="s1">.</span><span class="s2">dir</span><span class="s1">,</span><span class="s2">base</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">filename</span><span class="s4">}</span><span class="s3">)))</span><span class="s1">;</span><span class="s2">await</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">`deleteFiles: files to delete: </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Promise</span><span class="s1">.</span><span class="s2">all</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">_c</span><span class="s1">.</span><span class="s2">unlink</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">catch</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">bc</span><span class="s3">(</span><span class="s0">`deleteFiles: error when unlinking </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">, ignoring. Error was </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))))))</span><span class="s4">}</span><span class="s2">var t</span><span class="s4">}</span><span class="s2">_tooManyFiles</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">numToKeep</span><span class="s1">&gt;</span><span class="s5">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">&gt;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">numToKeep</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const Lc</span><span class="s1">=</span><span class="s2">Mc</span><span class="s1">;</span><span class="s2">var jc</span><span class="s1">=</span><span class="s2">class extends Lc</span><span class="s4">{</span><span class="s2">constructor</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">||</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">maxSize</span><span class="s1">=</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">||</span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">||</span><span class="s3">(</span><span class="s2">n</span><span class="s1">||</span><span class="s5">0</span><span class="s1">===</span><span class="s2">n</span><span class="s1">||</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s5">1</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">super</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">backups</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">size</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">maxSize</span><span class="s4">}</span><span class="s2">get theStream</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">currentFileStream</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">const $c</span><span class="s1">=</span><span class="s2">Mc</span><span class="s1">;</span><span class="s2">var Hc</span><span class="s1">=</span><span class="s4">{</span><span class="s2">RollingFileWriteStream</span><span class="s1">:</span><span class="s2">Mc</span><span class="s1">,</span><span class="s2">RollingFileStream</span><span class="s1">:</span><span class="s2">jc</span><span class="s1">,</span><span class="s2">DateRollingFileStream</span><span class="s1">:</span><span class="s2">class extends $c</span><span class="s4">{</span><span class="s2">constructor</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">null</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">||</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">||</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s0">&quot;yyyy-MM-dd&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">||</span><span class="s5">0</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">daysToKeep</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">:</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">daysToKeep</span><span class="s1">||</span><span class="s5">0</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">daysToKeep</span><span class="s1">?</span><span class="s2">process</span><span class="s1">.</span><span class="s2">emitWarning</span><span class="s3">(</span><span class="s0">&quot;options.daysToKeep is deprecated due to the confusion it causes when used together with file size rolling. Please use options.numBackups instead.&quot;</span><span class="s1">,</span><span class="s0">&quot;DeprecationWarning&quot;</span><span class="s1">,</span><span class="s0">&quot;streamroller-DEP0001&quot;</span><span class="s3">)</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">daysToKeep</span><span class="s1">=</span><span class="s5">1</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">numBackups</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">daysToKeep</span><span class="s3">)</span><span class="s1">,</span><span class="s2">super</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">mode</span><span class="s4">}</span><span class="s2">get theStream</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">currentFileStream</span><span class="s4">}}}</span><span class="s1">;</span><span class="s2">const Jc</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:file&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Gc</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">Vc</span><span class="s1">=</span><span class="s2">Hc</span><span class="s1">,</span><span class="s2">Uc</span><span class="s1">=</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">EOL</span><span class="s1">;</span><span class="s2">let Wc</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">const zc</span><span class="s1">=</span><span class="s2">new Set</span><span class="s1">;</span><span class="s2">function Kc</span><span class="s3">()</span><span class="s4">{</span><span class="s2">zc</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sighupHandler</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">function qc</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">new Vc</span><span class="s1">.</span><span class="s2">RollingFileStream</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return u</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">console</span><span class="s1">.</span><span class="s2">error</span><span class="s3">(</span><span class="s0">&quot;log4js.fileAppender - Writing to file %s, error happened &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;drain&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">process</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;log4js:pause&quot;</span><span class="s1">,!</span><span class="s5">1</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">u</span><span class="s4">}</span><span class="s2">Eo</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">basicLayout</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">||</span><span class="s5">384</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">=</span><span class="s2">Gc</span><span class="s1">.</span><span class="s2">normalize</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Jc</span><span class="s3">(</span><span class="s0">&quot;Creating file appender (&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;, &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s0">&quot;, &quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">?</span><span class="s2">r</span><span class="s1">:</span><span class="s5">5</span><span class="s1">,</span><span class="s0">&quot;, &quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s0">&quot;, &quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s0">&quot;)&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let i</span><span class="s1">=</span><span class="s2">qc</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const s</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">writable</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s5">0</span><span class="s1">===</span><span class="s2">u</span><span class="s1">.</span><span class="s2">removeColor</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s0">/\x1b[[0-9;]*m/g</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">data</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">data</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s3">))</span><span class="s4">}</span><span class="s2">i</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">+</span><span class="s2">Uc</span><span class="s1">,</span><span class="s0">&quot;utf8&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">process</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;log4js:pause&quot;</span><span class="s1">,!</span><span class="s5">0</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">return s</span><span class="s1">.</span><span class="s2">reopen</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">i</span><span class="s1">.</span><span class="s2">end</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">i</span><span class="s1">=</span><span class="s2">qc</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">sighupHandler</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">Jc</span><span class="s3">(</span><span class="s0">&quot;SIGHUP handler called.&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">reopen</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">shutdown</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">zc</span><span class="s1">.</span><span class="s2">delete</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">,</span><span class="s5">0</span><span class="s1">===</span><span class="s2">zc</span><span class="s1">.</span><span class="s2">size</span><span class="s1">&amp;&amp;</span><span class="s2">Wc</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">removeListener</span><span class="s3">(</span><span class="s0">&quot;SIGHUP&quot;</span><span class="s1">,</span><span class="s2">Kc</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Wc</span><span class="s1">=!</span><span class="s5">1</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">end</span><span class="s3">(</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s0">&quot;utf-8&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">zc</span><span class="s1">.</span><span class="s2">add</span><span class="s3">(</span><span class="s2">s</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Wc</span><span class="s1">||</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;SIGHUP&quot;</span><span class="s1">,</span><span class="s2">Kc</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Wc</span><span class="s1">=!</span><span class="s5">0</span><span class="s3">)</span><span class="s1">,</span><span class="s2">s</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">filename</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">maxLogSize</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">backups</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">timezoneOffset</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var Yc</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">const Xc</span><span class="s1">=</span><span class="s2">Hc</span><span class="s1">,</span><span class="s2">Zc</span><span class="s1">=</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">EOL</span><span class="s1">;</span><span class="s2">function Qc</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">.</span><span class="s2">maxSize</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">maxLogSize</span><span class="s1">;</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">new Xc</span><span class="s1">.</span><span class="s2">DateRollingFileStream</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">console</span><span class="s1">.</span><span class="s2">error</span><span class="s3">(</span><span class="s0">&quot;log4js.dateFileAppender - Writing to file %s, error happened &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;drain&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">process</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;log4js:pause&quot;</span><span class="s1">,!</span><span class="s5">1</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">r</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">writable</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">+</span><span class="s2">Zc</span><span class="s1">,</span><span class="s0">&quot;utf8&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">process</span><span class="s1">.</span><span class="s2">emit</span><span class="s3">(</span><span class="s0">&quot;log4js:pause&quot;</span><span class="s1">,!</span><span class="s5">0</span><span class="s3">))</span><span class="s4">}</span><span class="s1">;</span><span class="s2">return i</span><span class="s1">.</span><span class="s2">shutdown</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">end</span><span class="s3">(</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s0">&quot;utf-8&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">i</span><span class="s4">}</span><span class="s2">Yc</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">basicLayout</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">))</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">alwaysIncludePattern</span><span class="s1">||</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">alwaysIncludePattern</span><span class="s1">=!</span><span class="s5">1</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">||</span><span class="s5">384</span><span class="s1">,</span><span class="s2">Qc</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">filename</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">timezoneOffset</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var ea</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">const ta</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:fileSync&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">na</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">ra</span><span class="s1">=</span><span class="s2">D</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">ua</span><span class="s1">=</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">EOL</span><span class="s1">||</span><span class="s0">&quot;\n&quot;</span><span class="s1">;</span><span class="s2">function oa</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">ra</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">ra</span><span class="s1">.</span><span class="s2">openSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">flags</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">mode</span><span class="s3">)</span><span class="s1">;</span><span class="s2">ra</span><span class="s1">.</span><span class="s2">closeSync</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">class ia</span><span class="s4">{</span><span class="s2">constructor</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">ta</span><span class="s3">(</span><span class="s0">&quot;In RollingFileStream&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">e</span><span class="s1">||!</span><span class="s2">t</span><span class="s1">||</span><span class="s2">t</span><span class="s1">&lt;=</span><span class="s5">0</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;You must specify a filename and file size&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s3">()</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">filename</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">size</span><span class="s1">=</span><span class="s2">t</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">backups</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">=</span><span class="s2">r</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentSize</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentSize</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let t</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">ra</span><span class="s1">.</span><span class="s2">statSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">size</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">oa</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return t</span><span class="s4">}</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">filename</span><span class="s3">)</span><span class="s4">}</span><span class="s2">shouldRoll</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return ta</span><span class="s3">(</span><span class="s0">&quot;should roll with current size %d, and max size %d&quot;</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentSize</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">size</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentSize</span><span class="s1">&gt;=</span><span class="s2">this</span><span class="s1">.</span><span class="s2">size</span><span class="s4">}</span><span class="s2">roll</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">this</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">new RegExp</span><span class="s3">(</span><span class="s0">`^</span><span class="s4">${</span><span class="s2">na</span><span class="s1">.</span><span class="s2">basename</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">function r</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return n</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return parseInt</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">substring</span><span class="s3">(</span><span class="s0">`</span><span class="s4">${</span><span class="s2">na</span><span class="s1">.</span><span class="s2">basename</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s0">.`</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">||</span><span class="s5">0</span><span class="s4">}</span><span class="s2">function o</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return u</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">&gt;</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">?</span><span class="s5">1</span><span class="s1">:</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">&lt;</span><span class="s2">u</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">?-</span><span class="s5">1</span><span class="s1">:</span><span class="s5">0</span><span class="s4">}</span><span class="s2">function i</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">u</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">ta</span><span class="s3">(</span><span class="s0">`Index of </span><span class="s4">${</span><span class="s2">n</span><span class="s4">} </span><span class="s0">is </span><span class="s4">${</span><span class="s2">r</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s5">0</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">backups</span><span class="s3">)</span><span class="s2">ra</span><span class="s1">.</span><span class="s2">truncateSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">0</span><span class="s3">)</span><span class="s1">;</span><span class="s2">else if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">&lt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">backups</span><span class="s3">)</span><span class="s4">{</span><span class="s2">try</span><span class="s4">{</span><span class="s2">ra</span><span class="s1">.</span><span class="s2">unlinkSync</span><span class="s3">(</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">.</span><span class="s4">${</span><span class="s2">r</span><span class="s1">+</span><span class="s5">1</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{}</span><span class="s2">ta</span><span class="s3">(</span><span class="s0">`Renaming </span><span class="s4">${</span><span class="s2">n</span><span class="s4">} </span><span class="s0">-&gt; </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">.</span><span class="s4">${</span><span class="s2">r</span><span class="s1">+</span><span class="s5">1</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ra</span><span class="s1">.</span><span class="s2">renameSync</span><span class="s3">(</span><span class="s2">na</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">na</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">.</span><span class="s4">${</span><span class="s2">r</span><span class="s1">+</span><span class="s5">1</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">ta</span><span class="s3">(</span><span class="s0">&quot;Rolling, rolling, rolling&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ta</span><span class="s3">(</span><span class="s0">&quot;Renaming the old files&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ra</span><span class="s1">.</span><span class="s2">readdirSync</span><span class="s3">(</span><span class="s2">na</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">.</span><span class="s2">sort</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s1">.</span><span class="s2">reverse</span><span class="s3">()</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)</span><span class="s4">}</span><span class="s2">write</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">;</span><span class="s2">ta</span><span class="s3">(</span><span class="s0">&quot;in write&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">shouldRoll</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">currentSize</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">roll</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">filename</span><span class="s3">))</span><span class="s1">,</span><span class="s2">ta</span><span class="s3">(</span><span class="s0">&quot;writing the chunk to the file&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">currentSize</span><span class="s1">+=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">,</span><span class="s2">ra</span><span class="s1">.</span><span class="s2">appendFileSync</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">filename</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">ea</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">basicLayout</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">))</span><span class="s1">;</span><span class="s2">const r</span><span class="s1">=</span><span class="s4">{</span><span class="s2">flags</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">flags</span><span class="s1">||</span><span class="s0">&quot;a&quot;</span><span class="s1">,</span><span class="s2">encoding</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">encoding</span><span class="s1">||</span><span class="s0">&quot;utf8&quot;</span><span class="s1">,</span><span class="s2">mode</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">mode</span><span class="s1">||</span><span class="s5">384</span><span class="s4">}</span><span class="s1">;</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s4">{</span><span class="s2">ta</span><span class="s3">(</span><span class="s0">&quot;fileSync appender created&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const i</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">;</span><span class="s2">return t</span><span class="s1">?</span><span class="s2">r</span><span class="s1">=</span><span class="s2">new ia</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">:</span><span class="s3">(</span><span class="s2">oa</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s4">{</span><span class="s2">write</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">ra</span><span class="s1">.</span><span class="s2">appendFileSync</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=</span><span class="s2">na</span><span class="s1">.</span><span class="s2">normalize</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">?</span><span class="s2">r</span><span class="s1">:</span><span class="s5">5</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">i</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">+</span><span class="s2">ua</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">filename</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">maxLogSize</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">backups</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">timezoneOffset</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var sa</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">const ca</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:tcp&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">aa</span><span class="s1">=</span><span class="s2">S</span><span class="s1">.</span><span class="s2">default</span><span class="s1">;</span><span class="s2">sa</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">ca</span><span class="s3">(</span><span class="s0">`configure with config = </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">serialise</span><span class="s3">()</span><span class="s4">}</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">layout</span><span class="s3">))</span><span class="s1">,</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">const r</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">let u</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s5">3</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s0">&quot;__LOG4JS__&quot;</span><span class="s1">;</span><span class="s2">function s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">ca</span><span class="s3">(</span><span class="s0">&quot;Writing log event to socket&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">write</span><span class="s3">(</span><span class="s0">`</span><span class="s4">${</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}${</span><span class="s2">i</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s0">&quot;utf8&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function c</span><span class="s3">()</span><span class="s4">{</span><span class="s2">let e</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">ca</span><span class="s3">(</span><span class="s0">&quot;emptying buffer&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">shift</span><span class="s3">()</span><span class="s1">;</span><span class="s3">)</span><span class="s2">s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function a</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">n</span><span class="s1">?</span><span class="s2">s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s3">(</span><span class="s2">ca</span><span class="s3">(</span><span class="s0">&quot;buffering log event because it cannot write at the moment&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return function t</span><span class="s3">()</span><span class="s4">{</span><span class="s2">ca</span><span class="s3">(</span><span class="s0">`appender creating socket to </span><span class="s4">${</span><span class="s2">e</span><span class="s1">.</span><span class="s2">host</span><span class="s1">||</span><span class="s0">&quot;localhost&quot;</span><span class="s4">}</span><span class="s0">:</span><span class="s4">${</span><span class="s2">e</span><span class="s1">.</span><span class="s2">port</span><span class="s1">||</span><span class="s5">5e3</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s1">.</span><span class="s2">endMsg</span><span class="s1">||</span><span class="s0">&quot;__LOG4JS__&quot;</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">aa</span><span class="s1">.</span><span class="s2">createConnection</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">port</span><span class="s1">||</span><span class="s5">5e3</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">host</span><span class="s1">||</span><span class="s0">&quot;localhost&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;connect&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">ca</span><span class="s3">(</span><span class="s0">&quot;socket connected&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">c</span><span class="s3">()</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;drain&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">ca</span><span class="s3">(</span><span class="s0">&quot;drain event received, emptying buffer&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">c</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;timeout&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">end</span><span class="s1">.</span><span class="s2">bind</span><span class="s3">(</span><span class="s2">u</span><span class="s3">))</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">ca</span><span class="s3">(</span><span class="s0">&quot;connection error&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">c</span><span class="s3">()</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;close&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">()</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">shutdown</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">ca</span><span class="s3">(</span><span class="s0">&quot;shutdown called&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">?</span><span class="s3">(</span><span class="s2">ca</span><span class="s3">(</span><span class="s0">&quot;buffer has items, waiting 100ms to empty&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">-=</span><span class="s5">1</span><span class="s1">,</span><span class="s2">setTimeout</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">a</span><span class="s1">.</span><span class="s2">shutdown</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s5">100</span><span class="s3">))</span><span class="s1">:</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">removeAllListeners</span><span class="s3">(</span><span class="s0">&quot;close&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">end</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">a</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const la</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">fa</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:appenders&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">da</span><span class="s1">=</span><span class="s2">tu</span><span class="s1">,</span><span class="s2">Da</span><span class="s1">=</span><span class="s2">eo</span><span class="s1">,</span><span class="s2">pa</span><span class="s1">=</span><span class="s2">gu</span><span class="s1">,</span><span class="s2">Ea</span><span class="s1">=</span><span class="s2">hu</span><span class="s1">,</span><span class="s2">ma</span><span class="s1">=</span><span class="s2">to</span><span class="s1">,</span><span class="s2">ha</span><span class="s1">=</span><span class="s2">new Map</span><span class="s1">;</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s0">&quot;console&quot;</span><span class="s1">,</span><span class="s2">oo</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s0">&quot;stdout&quot;</span><span class="s1">,</span><span class="s2">so</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s0">&quot;stderr&quot;</span><span class="s1">,</span><span class="s2">co</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s0">&quot;logLevelFilter&quot;</span><span class="s1">,</span><span class="s2">ao</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s0">&quot;categoryFilter&quot;</span><span class="s1">,</span><span class="s2">lo</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s0">&quot;noLogFilter&quot;</span><span class="s1">,</span><span class="s2">Do</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s0">&quot;file&quot;</span><span class="s1">,</span><span class="s2">Eo</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s0">&quot;dateFile&quot;</span><span class="s1">,</span><span class="s2">Yc</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s0">&quot;fileSync&quot;</span><span class="s1">,</span><span class="s2">ea</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s0">&quot;tcp&quot;</span><span class="s1">,</span><span class="s2">sa</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const ya</span><span class="s1">=</span><span class="s2">new Map</span><span class="s1">,</span><span class="s2">Ca</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">fa</span><span class="s3">(</span><span class="s0">&quot;Loading module from &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return require</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return void da</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;MODULE_NOT_FOUND&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">.</span><span class="s2">code</span><span class="s1">,</span><span class="s0">`appender &quot;</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">&quot; could not be loaded (error was: </span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">)`</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">Fa</span><span class="s1">=</span><span class="s2">new Set</span><span class="s1">,</span><span class="s2">ga</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">ya</span><span class="s1">.</span><span class="s2">has</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">return ya</span><span class="s1">.</span><span class="s2">get</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">appenders</span><span class="s3">[</span><span class="s2">e</span><span class="s3">])</span><span class="s2">return</span><span class="s1">!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Fa</span><span class="s1">.</span><span class="s2">has</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Dependency loop detected for appender </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">.`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Fa</span><span class="s1">.</span><span class="s2">add</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">fa</span><span class="s3">(</span><span class="s0">`Creating appender </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">Aa</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Fa</span><span class="s1">.</span><span class="s2">delete</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ya</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s4">}</span><span class="s1">,</span><span class="s2">Aa</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">appenders</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">type</span><span class="s1">.</span><span class="s2">configure</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">type</span><span class="s1">:</span><span class="s3">((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">ha</span><span class="s1">.</span><span class="s2">get</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">||</span><span class="s2">Ca</span><span class="s3">(</span><span class="s0">`./</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">||</span><span class="s2">Ca</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">||</span><span class="s2">require</span><span class="s1">.</span><span class="s2">main</span><span class="s1">&amp;&amp;</span><span class="s2">Ca</span><span class="s3">(</span><span class="s2">la</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">la</span><span class="s1">.</span><span class="s2">dirname</span><span class="s3">(</span><span class="s2">require</span><span class="s1">.</span><span class="s2">main</span><span class="s1">.</span><span class="s2">filename</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">||</span><span class="s2">Ca</span><span class="s3">(</span><span class="s2">la</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">cwd</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s3">))(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return da</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">da</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">,</span><span class="s0">`appender &quot;</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">&quot; is not valid (type &quot;</span><span class="s4">${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">type</span><span class="s4">}</span><span class="s0">&quot; could not be found)`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">appender</span><span class="s1">&amp;&amp;</span><span class="s2">fa</span><span class="s3">(</span><span class="s0">`DEPRECATION: Appender </span><span class="s4">${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">type</span><span class="s4">} </span><span class="s0">exports an appender function.`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">shutdown</span><span class="s1">&amp;&amp;</span><span class="s2">fa</span><span class="s3">(</span><span class="s0">`DEPRECATION: Appender </span><span class="s4">${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">type</span><span class="s4">} </span><span class="s0">exports a shutdown function.`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">fa</span><span class="s3">(</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">: clustering.isMaster ? </span><span class="s4">${</span><span class="s2">Da</span><span class="s1">.</span><span class="s2">isMaster</span><span class="s3">()</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">fa</span><span class="s3">(</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">: appenderModule is </span><span class="s4">${</span><span class="s2">F</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">inspect</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Da</span><span class="s1">.</span><span class="s2">onlyOnMaster</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s3">(</span><span class="s2">fa</span><span class="s3">(</span><span class="s0">`calling appenderModule.configure for </span><span class="s4">${</span><span class="s2">e</span><span class="s4">} </span><span class="s0">/ </span><span class="s4">${</span><span class="s2">n</span><span class="s1">.</span><span class="s2">type</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">configure</span><span class="s3">(</span><span class="s2">ma</span><span class="s1">.</span><span class="s2">modifyConfig</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ea</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">ga</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">))</span><span class="s1">,</span><span class="s2">pa</span><span class="s3">)))</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">va</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">ya</span><span class="s1">.</span><span class="s2">clear</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Fa</span><span class="s1">.</span><span class="s2">clear</span><span class="s3">()</span><span class="s1">;</span><span class="s2">const t</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">values</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s1">...</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appenders</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appenders</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">includes</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">||</span><span class="s0">&quot;tcp-server&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appenders</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">ga</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">Sa</span><span class="s1">=</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">va</span><span class="s3">(</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s4">{</span><span class="s2">out</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;stdout&quot;</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">categories</span><span class="s1">:</span><span class="s4">{</span><span class="s2">default</span><span class="s1">:</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s3">[</span><span class="s0">&quot;out&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s2">level</span><span class="s1">:</span><span class="s0">&quot;trace&quot;</span><span class="s4">}}}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">Sa</span><span class="s3">()</span><span class="s1">,</span><span class="s2">da</span><span class="s1">.</span><span class="s2">addListener</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">da</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">da</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">da</span><span class="s1">.</span><span class="s2">anObject</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appenders</span><span class="s3">))</span><span class="s1">,</span><span class="s0">'must have a property &quot;appenders&quot; of type object.'</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appenders</span><span class="s3">)</span><span class="s1">;</span><span class="s2">da</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">da</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;must define at least one appender.&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">da</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">da</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appenders</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s1">,</span><span class="s0">`appender &quot;</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">&quot; is not valid (must be an object with property &quot;type&quot;)`</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">da</span><span class="s1">.</span><span class="s2">addListener</span><span class="s3">(</span><span class="s2">va</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Au</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">=</span><span class="s2">ya</span><span class="s1">,</span><span class="s2">Au</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">.</span><span class="s2">init</span><span class="s1">=</span><span class="s2">Sa</span><span class="s1">;</span><span class="s2">var wa</span><span class="s1">=</span><span class="s4">{</span><span class="s2">exports</span><span class="s1">:</span><span class="s4">{}}</span><span class="s1">;!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:categories&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">tu</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">gu</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s2">Au</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">new Map</span><span class="s1">;</span><span class="s2">function i</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s5">1</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">inherit</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">lastIndexOf</span><span class="s3">(</span><span class="s0">&quot;.&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">r</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">substring</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">;</span><span class="s2">let o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">;</span><span class="s2">o</span><span class="s1">||</span><span class="s3">(</span><span class="s2">o</span><span class="s1">=</span><span class="s4">{</span><span class="s2">inherit</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">appenders</span><span class="s1">:</span><span class="s3">[]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s1">,!</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">level</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">[</span><span class="s2">u</span><span class="s3">]</span><span class="s1">=</span><span class="s2">o</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">||</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">level</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">level</span><span class="s1">||</span><span class="s2">o</span><span class="s1">.</span><span class="s2">level</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">.</span><span class="s2">includes</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">parent</span><span class="s1">=</span><span class="s2">o</span><span class="s4">}</span><span class="s2">function s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">;</span><span class="s2">i</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">n</span><span class="s1">.</span><span class="s2">addPreProcessingListener</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)))</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">addListener</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">n</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">anObject</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">))</span><span class="s1">,</span><span class="s0">'must have a property &quot;categories&quot; of type object.'</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">)</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;must define at least one category.&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">[</span><span class="s2">n</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">appenders</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">level</span><span class="s3">)]</span><span class="s1">,</span><span class="s0">`category &quot;</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">&quot; is not valid (must be an object with properties &quot;appenders&quot; and &quot;level&quot;)`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">appenders</span><span class="s3">))</span><span class="s1">,</span><span class="s0">`category &quot;</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">&quot; is not valid (appenders must be an array of appender names)`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s1">,</span><span class="s0">`category &quot;</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">&quot; is not valid (appenders must contain at least one appender name)`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">o</span><span class="s1">,</span><span class="s0">&quot;enableCallStack&quot;</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;boolean&quot;</span><span class="s1">!=</span><span class="s2">typeof o</span><span class="s1">.</span><span class="s2">enableCallStack</span><span class="s1">,</span><span class="s0">`category &quot;</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">&quot; is not valid (enableCallStack must be boolean type)`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">r</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">n</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">get</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s1">,</span><span class="s0">`category &quot;</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">&quot; is not valid (appender &quot;</span><span class="s4">${</span><span class="s2">r</span><span class="s4">}</span><span class="s0">&quot; is not defined)`</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">level</span><span class="s3">))</span><span class="s1">,</span><span class="s0">`category &quot;</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">&quot; is not valid (level &quot;</span><span class="s4">${</span><span class="s2">o</span><span class="s1">.</span><span class="s2">level</span><span class="s4">}</span><span class="s0">&quot; not recognised; valid levels are </span><span class="s4">${</span><span class="s2">r</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot;, &quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s0">)`</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">throwExceptionIf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">not</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s0">'must define a &quot;default&quot; category.'</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">const c</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">clear</span><span class="s3">()</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">n</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const i</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">s</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">get</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">t</span><span class="s3">(</span><span class="s0">`Creating category </span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">level</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">level</span><span class="s3">)</span><span class="s1">,</span><span class="s2">enableCallStack</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">enableCallStack</span><span class="s1">||!</span><span class="s5">1</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s1">,</span><span class="s2">a</span><span class="s1">=</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">c</span><span class="s3">(</span><span class="s4">{</span><span class="s2">categories</span><span class="s1">:</span><span class="s4">{</span><span class="s2">default</span><span class="s1">:</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s3">[</span><span class="s0">&quot;out&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s2">level</span><span class="s1">:</span><span class="s0">&quot;OFF&quot;</span><span class="s4">}}}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">a</span><span class="s3">()</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">addListener</span><span class="s3">(</span><span class="s2">c</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const l</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s0">`configForCategory: searching for config for </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">has</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">?</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s0">`configForCategory: </span><span class="s4">${</span><span class="s2">e</span><span class="s4">} </span><span class="s0">exists in config, returning it`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">get</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s0">&quot;.&quot;</span><span class="s3">)</span><span class="s1">&gt;</span><span class="s5">0</span><span class="s1">?</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s0">`configForCategory: </span><span class="s4">${</span><span class="s2">e</span><span class="s4">} </span><span class="s0">has hierarchy, searching for parents`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">l</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">substring</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">lastIndexOf</span><span class="s3">(</span><span class="s0">&quot;.&quot;</span><span class="s3">))))</span><span class="s1">:</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s0">&quot;configForCategory: returning config for default category&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">l</span><span class="s3">(</span><span class="s0">&quot;default&quot;</span><span class="s3">)))</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">=</span><span class="s2">o</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">,</span><span class="s4">{</span><span class="s2">appendersForCategory</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">l</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">,</span><span class="s2">getLevelForCategory</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">l</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">level</span><span class="s1">,</span><span class="s2">setLevelForCategory</span><span class="s1">:</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">get</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">(</span><span class="s0">`setLevelForCategory: found </span><span class="s4">${</span><span class="s2">r</span><span class="s4">} </span><span class="s0">for </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,!</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">l</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">t</span><span class="s3">(</span><span class="s0">`setLevelForCategory: no config found for category, found </span><span class="s4">${</span><span class="s2">n</span><span class="s4">} </span><span class="s0">for parents of </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">appenders</span><span class="s4">}}</span><span class="s2">r</span><span class="s1">.</span><span class="s2">level</span><span class="s1">=</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">set</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">getEnableCallStackForCategory</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=&gt;!</span><span class="s5">0</span><span class="s1">===</span><span class="s2">l</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">enableCallStack</span><span class="s1">,</span><span class="s2">setEnableCallStackForCategory</span><span class="s1">:</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">l</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">.</span><span class="s2">enableCallStack</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s1">,</span><span class="s2">init</span><span class="s1">:</span><span class="s2">a</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">wa</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const Oa</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:logger&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ba</span><span class="s1">=</span><span class="s2">Hu</span><span class="s1">,</span><span class="s2">_a</span><span class="s1">=</span><span class="s2">gu</span><span class="s1">,</span><span class="s2">Ba</span><span class="s1">=</span><span class="s2">eo</span><span class="s1">,</span><span class="s2">Pa</span><span class="s1">=</span><span class="s2">wa</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">,</span><span class="s2">ka</span><span class="s1">=</span><span class="s2">tu</span><span class="s1">,</span><span class="s2">xa</span><span class="s1">=</span><span class="s0">/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/</span><span class="s1">;</span><span class="s2">function Na</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s5">4</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stack</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s0">&quot;\n&quot;</span><span class="s3">)</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">xa</span><span class="s1">.</span><span class="s2">exec</span><span class="s3">(</span><span class="s2">n</span><span class="s3">[</span><span class="s5">0</span><span class="s3">])</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">&amp;&amp;</span><span class="s5">6</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">?</span><span class="s4">{</span><span class="s2">functionName</span><span class="s1">:</span><span class="s2">r</span><span class="s3">[</span><span class="s5">1</span><span class="s3">]</span><span class="s1">,</span><span class="s2">fileName</span><span class="s1">:</span><span class="s2">r</span><span class="s3">[</span><span class="s5">2</span><span class="s3">]</span><span class="s1">,</span><span class="s2">lineNumber</span><span class="s1">:</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">r</span><span class="s3">[</span><span class="s5">3</span><span class="s3">]</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">,</span><span class="s2">columnNumber</span><span class="s1">:</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">r</span><span class="s3">[</span><span class="s5">4</span><span class="s3">]</span><span class="s1">,</span><span class="s5">10</span><span class="s3">)</span><span class="s1">,</span><span class="s2">callStack</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot;\n&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">null</span><span class="s4">}</span><span class="s2">class Ia</span><span class="s4">{</span><span class="s2">constructor</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">e</span><span class="s3">)</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">&quot;No category provided.&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">category</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">context</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">parseCallStack</span><span class="s1">=</span><span class="s2">Na</span><span class="s1">,</span><span class="s2">Oa</span><span class="s3">(</span><span class="s0">`Logger created (</span><span class="s4">${</span><span class="s2">this</span><span class="s1">.</span><span class="s2">category</span><span class="s4">}</span><span class="s0">, </span><span class="s4">${</span><span class="s2">this</span><span class="s1">.</span><span class="s2">level</span><span class="s4">}</span><span class="s0">)`</span><span class="s3">)</span><span class="s4">}</span><span class="s2">get level</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return _a</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">Pa</span><span class="s1">.</span><span class="s2">getLevelForCategory</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">category</span><span class="s3">)</span><span class="s1">,</span><span class="s2">_a</span><span class="s1">.</span><span class="s2">TRACE</span><span class="s3">)</span><span class="s4">}</span><span class="s2">set level</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Pa</span><span class="s1">.</span><span class="s2">setLevelForCategory</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">category</span><span class="s1">,</span><span class="s2">_a</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">level</span><span class="s3">))</span><span class="s4">}</span><span class="s2">get useCallStack</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return Pa</span><span class="s1">.</span><span class="s2">getEnableCallStackForCategory</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">category</span><span class="s3">)</span><span class="s4">}</span><span class="s2">set useCallStack</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Pa</span><span class="s1">.</span><span class="s2">setEnableCallStackForCategory</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">category</span><span class="s1">,!</span><span class="s5">0</span><span class="s1">===</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">log</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">_a</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">n</span><span class="s1">||</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_log</span><span class="s3">(</span><span class="s2">_a</span><span class="s1">.</span><span class="s2">WARN</span><span class="s1">,</span><span class="s0">&quot;log4js:logger.log: invalid value for log-level as first parameter given: &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">_a</span><span class="s1">.</span><span class="s2">INFO</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">isLevelEnabled</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_log</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">isLevelEnabled</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">level</span><span class="s1">.</span><span class="s2">isLessThanOrEqualTo</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">_log</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Oa</span><span class="s3">(</span><span class="s0">`sending log data (</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">) to appenders`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">new ba</span><span class="s3">(</span><span class="s2">this</span><span class="s1">.</span><span class="s2">category</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">context</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">useCallStack</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">parseCallStack</span><span class="s3">(</span><span class="s2">new Error</span><span class="s3">))</span><span class="s1">;</span><span class="s2">Ba</span><span class="s1">.</span><span class="s2">send</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}</span><span class="s2">addContext</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">context</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s2">removeContext</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">delete this</span><span class="s1">.</span><span class="s2">context</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]</span><span class="s4">}</span><span class="s2">clearContext</span><span class="s3">()</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">context</span><span class="s1">=</span><span class="s4">{}}</span><span class="s2">setParseCallStackFunction</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">parseCallStack</span><span class="s1">=</span><span class="s2">e</span><span class="s4">}}</span><span class="s2">function Ta</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">_a</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">()</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">()</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s0">/_([a-z])/g</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s3">[</span><span class="s5">1</span><span class="s3">]</span><span class="s1">.</span><span class="s2">toUpperCase</span><span class="s3">()))</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">.</span><span class="s2">toUpperCase</span><span class="s3">()</span><span class="s1">+</span><span class="s2">n</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s5">1</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Ia</span><span class="s1">.</span><span class="s2">prototype</span><span class="s3">[</span><span class="s0">`is</span><span class="s4">${</span><span class="s2">r</span><span class="s4">}</span><span class="s0">Enabled`</span><span class="s3">]</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">isLevelEnabled</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">Ia</span><span class="s1">.</span><span class="s2">prototype</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s1">...</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">log</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">_a</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">(</span><span class="s2">Ta</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ka</span><span class="s1">.</span><span class="s2">addListener</span><span class="s3">((()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">_a</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">(</span><span class="s2">Ta</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">var Ra</span><span class="s1">=</span><span class="s2">Ia</span><span class="s1">;</span><span class="s2">const Ma</span><span class="s1">=</span><span class="s2">gu</span><span class="s1">;</span><span class="s2">function La</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">.</span><span class="s2">originalUrl</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">url</span><span class="s4">}</span><span class="s2">function ja</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">for</span><span class="s3">(</span><span class="s2">let n</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">n</span><span class="s1">&lt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">n</span><span class="s1">++</span><span class="s3">)</span><span class="s2">e</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">token</span><span class="s1">,</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">replacement</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return e</span><span class="s4">}</span><span class="s2">const $a</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:recording&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ha</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">function Ja</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return Ha</span><span class="s1">.</span><span class="s2">slice</span><span class="s3">()</span><span class="s4">}</span><span class="s2">function Ga</span><span class="s3">()</span><span class="s4">{</span><span class="s2">Ha</span><span class="s1">.</span><span class="s2">length</span><span class="s1">=</span><span class="s5">0</span><span class="s4">}</span><span class="s2">var Va</span><span class="s1">=</span><span class="s4">{</span><span class="s2">configure</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">$a</span><span class="s3">(</span><span class="s0">`received logEvent, number of events now </span><span class="s4">${</span><span class="s2">Ha</span><span class="s1">.</span><span class="s2">length</span><span class="s1">+</span><span class="s5">1</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">$a</span><span class="s3">(</span><span class="s0">&quot;log event was &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ha</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">replay</span><span class="s1">:</span><span class="s2">Ja</span><span class="s1">,</span><span class="s2">playback</span><span class="s1">:</span><span class="s2">Ja</span><span class="s1">,</span><span class="s2">reset</span><span class="s1">:</span><span class="s2">Ga</span><span class="s1">,</span><span class="s2">erase</span><span class="s1">:</span><span class="s2">Ga</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Ua</span><span class="s1">=</span><span class="s2">Nr</span><span class="s1">.</span><span class="s2">exports</span><span class="s3">(</span><span class="s0">&quot;log4js:main&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Wa</span><span class="s1">=</span><span class="s2">D</span><span class="s1">.</span><span class="s2">default</span><span class="s1">,</span><span class="s2">za</span><span class="s1">=</span><span class="s2">Wr</span><span class="s3">(</span><span class="s4">{</span><span class="s2">proto</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ka</span><span class="s1">=</span><span class="s2">tu</span><span class="s1">,</span><span class="s2">qa</span><span class="s1">=</span><span class="s2">hu</span><span class="s1">,</span><span class="s2">Ya</span><span class="s1">=</span><span class="s2">gu</span><span class="s1">,</span><span class="s2">Xa</span><span class="s1">=</span><span class="s2">Au</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">,</span><span class="s2">Za</span><span class="s1">=</span><span class="s2">wa</span><span class="s1">.</span><span class="s2">exports</span><span class="s1">,</span><span class="s2">Qa</span><span class="s1">=</span><span class="s2">Ra</span><span class="s1">,</span><span class="s2">el</span><span class="s1">=</span><span class="s2">eo</span><span class="s1">,</span><span class="s2">tl</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">=</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">||</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">?</span><span class="s4">{</span><span class="s2">format</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s1">:</span><span class="s2">t</span><span class="s1">||</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">;</span><span class="s2">let r</span><span class="s1">=</span><span class="s2">Ma</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">level</span><span class="s1">,</span><span class="s2">Ma</span><span class="s1">.</span><span class="s2">INFO</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const u</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">format</span><span class="s1">||</span><span class="s0">':remote-addr - - &quot;:method :url HTTP/:http-version&quot; :status :content-length &quot;:referrer&quot; &quot;:user-agent&quot;'</span><span class="s1">,</span><span class="s2">o</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let t</span><span class="s1">=</span><span class="s2">null</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e instanceof RegExp</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s2">new RegExp</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">map</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">source</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">source</span><span class="s1">:</span><span class="s2">e</span><span class="s3">))</span><span class="s1">;</span><span class="s2">t</span><span class="s1">=</span><span class="s2">new RegExp</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">join</span><span class="s3">(</span><span class="s0">&quot;|&quot;</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return t</span><span class="s4">}</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">nolog</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">_logging</span><span class="s3">)</span><span class="s2">return s</span><span class="s3">()</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">o</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">originalUrl</span><span class="s3">))</span><span class="s2">return s</span><span class="s3">()</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">isLevelEnabled</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s1">||</span><span class="s0">&quot;auto&quot;</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">level</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const o</span><span class="s1">=</span><span class="s2">new Date</span><span class="s1">,</span><span class="s4">{</span><span class="s2">writeHead</span><span class="s1">:</span><span class="s2">s</span><span class="s4">}</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">_logging</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">writeHead</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">i</span><span class="s1">.</span><span class="s2">writeHead</span><span class="s1">=</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">writeHead</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">__statusCode</span><span class="s1">=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">__headers</span><span class="s1">=</span><span class="s2">t</span><span class="s1">||</span><span class="s4">{}}</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">on</span><span class="s3">(</span><span class="s0">&quot;finish&quot;</span><span class="s1">,</span><span class="s3">(()</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">i</span><span class="s1">.</span><span class="s2">responseTime</span><span class="s1">=</span><span class="s2">new Date</span><span class="s1">-</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">statusCode</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;auto&quot;</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">level</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">Ma</span><span class="s1">.</span><span class="s2">INFO</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">statusCode</span><span class="s1">&gt;=</span><span class="s5">300</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">Ma</span><span class="s1">.</span><span class="s2">WARN</span><span class="s3">)</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">statusCode</span><span class="s1">&gt;=</span><span class="s5">400</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">Ma</span><span class="s1">.</span><span class="s2">ERROR</span><span class="s3">))</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">find</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">return n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">?</span><span class="s2">e</span><span class="s1">&gt;=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">&lt;=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">:-</span><span class="s5">1</span><span class="s1">!==</span><span class="s2">t</span><span class="s1">.</span><span class="s2">codes</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">n</span><span class="s4">}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">Ma</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">level</span><span class="s1">,</span><span class="s2">r</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return r</span><span class="s4">}</span><span class="s3">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">statusCode</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">statusRules</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const s</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:url&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s2">La</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:protocol&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">protocol</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:hostname&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">hostname</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:method&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">method</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:status&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__statusCode</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">statusCode</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:response-time&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">responseTime</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:date&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s3">(</span><span class="s2">new Date</span><span class="s3">)</span><span class="s1">.</span><span class="s2">toUTCString</span><span class="s3">()</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:referrer&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">headers</span><span class="s1">.</span><span class="s2">referer</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">headers</span><span class="s1">.</span><span class="s2">referrer</span><span class="s1">||</span><span class="s0">&quot;&quot;</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:http-version&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s1">.</span><span class="s2">httpVersionMajor</span><span class="s4">}</span><span class="s0">.</span><span class="s4">${</span><span class="s2">e</span><span class="s1">.</span><span class="s2">httpVersionMinor</span><span class="s4">}</span><span class="s0">`</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:remote-addr&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">headers</span><span class="s3">[</span><span class="s0">&quot;x-forwarded-for&quot;</span><span class="s3">]</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ip</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">_remoteAddress</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">socket</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">socket</span><span class="s1">.</span><span class="s2">remoteAddress</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">socket</span><span class="s1">.</span><span class="s2">socket</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">socket</span><span class="s1">.</span><span class="s2">socket</span><span class="s1">.</span><span class="s2">remoteAddress</span><span class="s3">)</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:user-agent&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">headers</span><span class="s3">[</span><span class="s0">&quot;user-agent&quot;</span><span class="s3">]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;:content-length&quot;</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getHeader</span><span class="s3">(</span><span class="s0">&quot;content-length&quot;</span><span class="s3">)</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__headers</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__headers</span><span class="s3">[</span><span class="s0">&quot;Content-Length&quot;</span><span class="s3">]</span><span class="s1">||</span><span class="s0">&quot;-&quot;</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">/:req\[([^\]]+)]/g</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">headers</span><span class="s3">[</span><span class="s2">n</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">()]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">token</span><span class="s1">:</span><span class="s0">/:res\[([^\]]+)]/g</span><span class="s1">,</span><span class="s2">replacement</span><span class="s1">:</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getHeader</span><span class="s3">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">toLowerCase</span><span class="s3">())</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__headers</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__headers</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">concat</span><span class="s3">()</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">let e</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">e</span><span class="s1">&lt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;++</span><span class="s2">e</span><span class="s3">)</span><span class="s2">for</span><span class="s3">(</span><span class="s2">let n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">+</span><span class="s5">1</span><span class="s1">;</span><span class="s2">n</span><span class="s1">&lt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;++</span><span class="s2">n</span><span class="s3">)</span><span class="s2">t</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]</span><span class="s1">.</span><span class="s2">token</span><span class="s1">==</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s1">.</span><span class="s2">token</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">splice</span><span class="s3">(</span><span class="s2">n</span><span class="s1">--,</span><span class="s5">1</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return t</span><span class="s4">}</span><span class="s3">)(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">concat</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s4">}</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">tokens</span><span class="s1">||</span><span class="s3">[])</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">context</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">addContext</span><span class="s3">(</span><span class="s0">&quot;res&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s3">)</span><span class="s1">,</span><span class="s0">&quot;function&quot;</span><span class="s1">==</span><span class="s2">typeof u</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s3">(</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">ja</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s3">)))</span><span class="s1">;</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">log</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">else n</span><span class="s1">.</span><span class="s2">log</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">ja</span><span class="s3">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">s</span><span class="s3">))</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">context</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">removeContext</span><span class="s3">(</span><span class="s0">&quot;res&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return s</span><span class="s3">()</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">nl</span><span class="s1">=</span><span class="s2">Va</span><span class="s1">;</span><span class="s2">let rl</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">function ul</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">rl</span><span class="s3">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">Ua</span><span class="s3">(</span><span class="s0">&quot;Received log event &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Za</span><span class="s1">.</span><span class="s2">appendersForCategory</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categoryName</span><span class="s3">)</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">function ol</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">rl</span><span class="s1">&amp;&amp;</span><span class="s2">il</span><span class="s3">()</span><span class="s1">;</span><span class="s2">let t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">;</span><span class="s2">return</span><span class="s0">&quot;string&quot;</span><span class="s1">==</span><span class="s2">typeof t</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">t</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Ua</span><span class="s3">(</span><span class="s0">`Loading configuration from </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return JSON</span><span class="s1">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">Wa</span><span class="s1">.</span><span class="s2">readFileSync</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;utf8&quot;</span><span class="s3">))</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s0">`Problem reading config from file &quot;</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">&quot;. Error was </span><span class="s4">${</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s4">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s1">,</span><span class="s2">Ua</span><span class="s3">(</span><span class="s0">`Configuration is </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ka</span><span class="s1">.</span><span class="s2">configure</span><span class="s3">(</span><span class="s2">za</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s1">,</span><span class="s2">el</span><span class="s1">.</span><span class="s2">onMessage</span><span class="s3">(</span><span class="s2">ul</span><span class="s3">)</span><span class="s1">,</span><span class="s2">rl</span><span class="s1">=!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">sl</span><span class="s4">}</span><span class="s2">function il</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Ua</span><span class="s3">(</span><span class="s0">&quot;Shutdown called. Disabling all log writing.&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">rl</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">Xa</span><span class="s1">.</span><span class="s2">values</span><span class="s3">())</span><span class="s1">;</span><span class="s2">Xa</span><span class="s1">.</span><span class="s2">init</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Za</span><span class="s1">.</span><span class="s2">init</span><span class="s3">()</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">reduceRight</span><span class="s3">(((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">shutdown</span><span class="s1">?</span><span class="s2">e</span><span class="s1">+</span><span class="s5">1</span><span class="s1">:</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s5">0</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s5">0</span><span class="s1">===</span><span class="s2">n</span><span class="s3">)</span><span class="s2">return Ua</span><span class="s3">(</span><span class="s0">&quot;No appenders with shutdown functions found.&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">void </span><span class="s5">0</span><span class="s1">!==</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s3">()</span><span class="s1">;</span><span class="s2">let r</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s5">0</span><span class="s1">;</span><span class="s2">function o</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||</span><span class="s2">t</span><span class="s1">,</span><span class="s2">u</span><span class="s1">+=</span><span class="s5">1</span><span class="s1">,</span><span class="s2">Ua</span><span class="s3">(</span><span class="s0">`Appender shutdowns complete: </span><span class="s4">${</span><span class="s2">u</span><span class="s4">} </span><span class="s0">/ </span><span class="s4">${</span><span class="s2">n</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">u</span><span class="s1">&gt;=</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">Ua</span><span class="s3">(</span><span class="s0">&quot;All shutdown functions completed.&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s4">}</span><span class="s2">return Ua</span><span class="s3">(</span><span class="s0">`Found </span><span class="s4">${</span><span class="s2">n</span><span class="s4">} </span><span class="s0">appenders with shutdown functions.`</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">filter</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">shutdown</span><span class="s3">))</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">shutdown</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)))</span><span class="s1">,</span><span class="s2">null</span><span class="s4">}</span><span class="s2">const sl</span><span class="s1">=</span><span class="s4">{</span><span class="s2">getLogger</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return rl</span><span class="s1">||</span><span class="s2">ol</span><span class="s3">(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">env</span><span class="s1">.</span><span class="s2">LOG4JS_CONFIG</span><span class="s1">||</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s4">{</span><span class="s2">out</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;stdout&quot;</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">categories</span><span class="s1">:</span><span class="s4">{</span><span class="s2">default</span><span class="s1">:</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s3">[</span><span class="s0">&quot;out&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s2">level</span><span class="s1">:</span><span class="s0">&quot;OFF&quot;</span><span class="s4">}}}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">new Qa</span><span class="s3">(</span><span class="s2">e</span><span class="s1">||</span><span class="s0">&quot;default&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">configure</span><span class="s1">:</span><span class="s2">ol</span><span class="s1">,</span><span class="s2">shutdown</span><span class="s1">:</span><span class="s2">il</span><span class="s1">,</span><span class="s2">connectLogger</span><span class="s1">:</span><span class="s2">tl</span><span class="s1">,</span><span class="s2">levels</span><span class="s1">:</span><span class="s2">Ya</span><span class="s1">,</span><span class="s2">addLayout</span><span class="s1">:</span><span class="s2">qa</span><span class="s1">.</span><span class="s2">addLayout</span><span class="s1">,</span><span class="s2">recording</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return nl</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">var cl</span><span class="s1">=</span><span class="s2">sl</span><span class="s1">,</span><span class="s2">al</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">al</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">al</span><span class="s1">.</span><span class="s2">levelMap</span><span class="s1">=</span><span class="s2">al</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s1">=</span><span class="s2">al</span><span class="s1">.</span><span class="s2">setCategoriesLevel</span><span class="s1">=</span><span class="s2">al</span><span class="s1">.</span><span class="s2">getConfiguration</span><span class="s1">=</span><span class="s2">al</span><span class="s1">.</span><span class="s2">setConfiguration</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const ll</span><span class="s1">=</span><span class="s2">cl</span><span class="s1">;</span><span class="s2">let fl</span><span class="s1">=</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s4">{</span><span class="s2">debug</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;stdout&quot;</span><span class="s1">,</span><span class="s2">layout</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;pattern&quot;</span><span class="s1">,</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">&quot;[%d] &gt; hvigor %p %c %[%m%]&quot;</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">info</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;stdout&quot;</span><span class="s1">,</span><span class="s2">layout</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;pattern&quot;</span><span class="s1">,</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">&quot;[%d] &gt; hvigor %[%m%]&quot;</span><span class="s4">}}</span><span class="s1">,</span><span class="s0">&quot;no-pattern-info&quot;</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;stdout&quot;</span><span class="s1">,</span><span class="s2">layout</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;pattern&quot;</span><span class="s1">,</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">&quot;%m&quot;</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">wrong</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;stderr&quot;</span><span class="s1">,</span><span class="s2">layout</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;pattern&quot;</span><span class="s1">,</span><span class="s2">pattern</span><span class="s1">:</span><span class="s0">&quot;[%d] &gt; hvigor %[%p: %m%]&quot;</span><span class="s4">}}</span><span class="s1">,</span><span class="s0">&quot;just-debug&quot;</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;logLevelFilter&quot;</span><span class="s1">,</span><span class="s2">appender</span><span class="s1">:</span><span class="s0">&quot;debug&quot;</span><span class="s1">,</span><span class="s2">level</span><span class="s1">:</span><span class="s0">&quot;debug&quot;</span><span class="s1">,</span><span class="s2">maxLevel</span><span class="s1">:</span><span class="s0">&quot;debug&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s0">&quot;just-info&quot;</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;logLevelFilter&quot;</span><span class="s1">,</span><span class="s2">appender</span><span class="s1">:</span><span class="s0">&quot;info&quot;</span><span class="s1">,</span><span class="s2">level</span><span class="s1">:</span><span class="s0">&quot;info&quot;</span><span class="s1">,</span><span class="s2">maxLevel</span><span class="s1">:</span><span class="s0">&quot;info&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s0">&quot;just-wrong&quot;</span><span class="s1">:</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;logLevelFilter&quot;</span><span class="s1">,</span><span class="s2">appender</span><span class="s1">:</span><span class="s0">&quot;wrong&quot;</span><span class="s1">,</span><span class="s2">level</span><span class="s1">:</span><span class="s0">&quot;warn&quot;</span><span class="s1">,</span><span class="s2">maxLevel</span><span class="s1">:</span><span class="s0">&quot;error&quot;</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">categories</span><span class="s1">:</span><span class="s4">{</span><span class="s2">default</span><span class="s1">:</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s3">[</span><span class="s0">&quot;just-debug&quot;</span><span class="s1">,</span><span class="s0">&quot;just-info&quot;</span><span class="s1">,</span><span class="s0">&quot;just-wrong&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s2">level</span><span class="s1">:</span><span class="s0">&quot;debug&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s0">&quot;no-pattern-info&quot;</span><span class="s1">:</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s3">[</span><span class="s0">&quot;no-pattern-info&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s2">level</span><span class="s1">:</span><span class="s0">&quot;info&quot;</span><span class="s4">}}}</span><span class="s1">;</span><span class="s2">al</span><span class="s1">.</span><span class="s2">setConfiguration</span><span class="s1">=</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">fl</span><span class="s1">=</span><span class="s2">e</span><span class="s4">}</span><span class="s1">;</span><span class="s2">al</span><span class="s1">.</span><span class="s2">getConfiguration</span><span class="s1">=</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">fl</span><span class="s1">;</span><span class="s2">let dl</span><span class="s1">=</span><span class="s2">ll</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">DEBUG</span><span class="s1">;</span><span class="s2">al</span><span class="s1">.</span><span class="s2">setCategoriesLevel</span><span class="s1">=</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">dl</span><span class="s1">=</span><span class="s2">e</span><span class="s1">;</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">fl</span><span class="s1">.</span><span class="s2">categories</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">const r in n</span><span class="s3">)(</span><span class="s2">null</span><span class="s1">==</span><span class="s2">t</span><span class="s1">?</span><span class="s2">void </span><span class="s5">0</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">includes</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s1">||</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">n</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">.</span><span class="s2">level</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">levelStr</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">al</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s1">=</span><span class="s3">()</span><span class="s1">=&gt;</span><span class="s2">dl</span><span class="s1">,</span><span class="s2">al</span><span class="s1">.</span><span class="s2">levelMap</span><span class="s1">=</span><span class="s2">new Map</span><span class="s3">([[</span><span class="s0">&quot;ALL&quot;</span><span class="s1">,</span><span class="s2">ll</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">ALL</span><span class="s3">]</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;MARK&quot;</span><span class="s1">,</span><span class="s2">ll</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">MARK</span><span class="s3">]</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;TRACE&quot;</span><span class="s1">,</span><span class="s2">ll</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">TRACE</span><span class="s3">]</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;DEBUG&quot;</span><span class="s1">,</span><span class="s2">ll</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">DEBUG</span><span class="s3">]</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;INFO&quot;</span><span class="s1">,</span><span class="s2">ll</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">INFO</span><span class="s3">]</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;WARN&quot;</span><span class="s1">,</span><span class="s2">ll</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">WARN</span><span class="s3">]</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;ERROR&quot;</span><span class="s1">,</span><span class="s2">ll</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">ERROR</span><span class="s3">]</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;FATAL&quot;</span><span class="s1">,</span><span class="s2">ll</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">FATAL</span><span class="s3">]</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;OFF&quot;</span><span class="s1">,</span><span class="s2">ll</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">OFF</span><span class="s3">]])</span><span class="s1">;</span><span class="s2">var Dl</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__createBinding</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s1">&amp;&amp;!</span><span class="s3">(</span><span class="s0">&quot;get&quot;</span><span class="s2">in u</span><span class="s1">?!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">writable</span><span class="s1">||</span><span class="s2">u</span><span class="s1">.</span><span class="s2">configurable</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">pl</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__setModuleDefault</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;default&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">value</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">default</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">El</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importStar</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">var t</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">null</span><span class="s1">!=</span><span class="s2">e</span><span class="s3">)</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var n in e</span><span class="s3">)</span><span class="s0">&quot;default&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">Dl</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return pl</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">xr</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">xr</span><span class="s1">.</span><span class="s2">evaluateLogLevel</span><span class="s1">=</span><span class="s2">xr</span><span class="s1">.</span><span class="s2">HvigorLogger</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const ml</span><span class="s1">=</span><span class="s2">El</span><span class="s3">(</span><span class="s2">cl</span><span class="s3">)</span><span class="s1">,</span><span class="s2">hl</span><span class="s1">=</span><span class="s2">cl</span><span class="s1">,</span><span class="s2">yl</span><span class="s1">=</span><span class="s2">El</span><span class="s3">(</span><span class="s2">F</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Cl</span><span class="s1">=</span><span class="s2">al</span><span class="s1">;</span><span class="s2">class Fl</span><span class="s4">{</span><span class="s2">constructor</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">ml</span><span class="s1">.</span><span class="s2">configure</span><span class="s3">((</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Cl</span><span class="s1">.</span><span class="s2">getConfiguration</span><span class="s3">)())</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_logger</span><span class="s1">=</span><span class="s2">ml</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_logger</span><span class="s1">.</span><span class="s2">level</span><span class="s1">=</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Cl</span><span class="s1">.</span><span class="s2">getLevel</span><span class="s3">)()</span><span class="s4">}</span><span class="s2">static getLogger</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return new Fl</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">log</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_logger</span><span class="s1">.</span><span class="s2">log</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">debug</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_logger</span><span class="s1">.</span><span class="s2">debug</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">info</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_logger</span><span class="s1">.</span><span class="s2">info</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">warn</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">!==</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;&quot;</span><span class="s1">!==</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_logger</span><span class="s1">.</span><span class="s2">warn</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">error</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_logger</span><span class="s1">.</span><span class="s2">error</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">_printTaskExecuteInfo</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">info</span><span class="s3">(</span><span class="s0">`Finished :</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">... after </span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s4">}</span><span class="s2">_printFailedTaskInfo</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">error</span><span class="s3">(</span><span class="s0">`Failed :</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">... `</span><span class="s3">)</span><span class="s4">}</span><span class="s2">_printDisabledTaskInfo</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">info</span><span class="s3">(</span><span class="s0">`Disabled :</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">... `</span><span class="s3">)</span><span class="s4">}</span><span class="s2">_printUpToDateTaskInfo</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">this</span><span class="s1">.</span><span class="s2">info</span><span class="s3">(</span><span class="s0">`UP-TO-DATE :</span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">...  `</span><span class="s3">)</span><span class="s4">}</span><span class="s2">errorMessageExit</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">throw new Error</span><span class="s3">(</span><span class="s2">yl</span><span class="s1">.</span><span class="s2">format</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,...</span><span class="s2">t</span><span class="s3">))</span><span class="s4">}</span><span class="s2">errorExit</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,...</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_logger</span><span class="s1">.</span><span class="s2">error</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s2">_logger</span><span class="s1">.</span><span class="s2">error</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stack</span><span class="s3">)</span><span class="s4">}</span><span class="s2">setLevel</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Cl</span><span class="s1">.</span><span class="s2">setCategoriesLevel</span><span class="s3">)(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ml</span><span class="s1">.</span><span class="s2">shutdown</span><span class="s3">()</span><span class="s1">,</span><span class="s2">ml</span><span class="s1">.</span><span class="s2">configure</span><span class="s3">((</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Cl</span><span class="s1">.</span><span class="s2">getConfiguration</span><span class="s3">)())</span><span class="s4">}</span><span class="s2">getLevel</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return this</span><span class="s1">.</span><span class="s2">_logger</span><span class="s1">.</span><span class="s2">level</span><span class="s4">}</span><span class="s2">configure</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Cl</span><span class="s1">.</span><span class="s2">getConfiguration</span><span class="s3">)()</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s4">{</span><span class="s2">appenders</span><span class="s1">:</span><span class="s4">{</span><span class="s1">...</span><span class="s2">t</span><span class="s1">.</span><span class="s2">appenders</span><span class="s1">,...</span><span class="s2">e</span><span class="s1">.</span><span class="s2">appenders</span><span class="s4">}</span><span class="s1">,</span><span class="s2">categories</span><span class="s1">:</span><span class="s4">{</span><span class="s1">...</span><span class="s2">t</span><span class="s1">.</span><span class="s2">categories</span><span class="s1">,...</span><span class="s2">e</span><span class="s1">.</span><span class="s2">categories</span><span class="s4">}}</span><span class="s1">;</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Cl</span><span class="s1">.</span><span class="s2">setConfiguration</span><span class="s3">)(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">ml</span><span class="s1">.</span><span class="s2">shutdown</span><span class="s3">()</span><span class="s1">,</span><span class="s2">ml</span><span class="s1">.</span><span class="s2">configure</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s4">}}</span><span class="s2">xr</span><span class="s1">.</span><span class="s2">HvigorLogger</span><span class="s1">=</span><span class="s2">Fl</span><span class="s1">,</span><span class="s2">xr</span><span class="s1">.</span><span class="s2">evaluateLogLevel</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">setLevel</span><span class="s3">(</span><span class="s2">hl</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">DEBUG</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">warn</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">setLevel</span><span class="s3">(</span><span class="s2">hl</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">WARN</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">error</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">setLevel</span><span class="s3">(</span><span class="s2">hl</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">ERROR</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">setLevel</span><span class="s3">(</span><span class="s2">hl</span><span class="s1">.</span><span class="s2">levels</span><span class="s1">.</span><span class="s2">INFO</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var gl</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importDefault</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s4">{</span><span class="s2">default</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">X</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">X</span><span class="s1">.</span><span class="s2">parseJsonText</span><span class="s1">=</span><span class="s2">X</span><span class="s1">.</span><span class="s2">parseJsonFile</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const Al</span><span class="s1">=</span><span class="s2">Z</span><span class="s1">,</span><span class="s2">vl</span><span class="s1">=</span><span class="s2">gl</span><span class="s3">(</span><span class="s2">kr</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Sl</span><span class="s1">=</span><span class="s2">gl</span><span class="s3">(</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">wl</span><span class="s1">=</span><span class="s2">gl</span><span class="s3">(</span><span class="s2">E</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Ol</span><span class="s1">=</span><span class="s2">xr</span><span class="s1">.</span><span class="s2">HvigorLogger</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s3">(</span><span class="s0">&quot;parse-json-util&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var bl</span><span class="s1">;!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s3">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">=</span><span class="s5">0</span><span class="s3">]</span><span class="s1">=</span><span class="s0">&quot;Char&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">EOF</span><span class="s1">=</span><span class="s5">1</span><span class="s3">]</span><span class="s1">=</span><span class="s0">&quot;EOF&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">Identifier</span><span class="s1">=</span><span class="s5">2</span><span class="s3">]</span><span class="s1">=</span><span class="s0">&quot;Identifier&quot;</span><span class="s4">}</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">||</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">=</span><span class="s4">{}</span><span class="s3">))</span><span class="s1">;</span><span class="s2">let _l</span><span class="s1">,</span><span class="s2">Bl</span><span class="s1">,</span><span class="s2">Pl</span><span class="s1">,</span><span class="s2">kl</span><span class="s1">,</span><span class="s2">xl</span><span class="s1">,</span><span class="s2">Nl</span><span class="s1">,</span><span class="s2">Il</span><span class="s1">=</span><span class="s0">&quot;start&quot;</span><span class="s1">,</span><span class="s2">Tl</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">Rl</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Ml</span><span class="s1">=</span><span class="s5">1</span><span class="s1">,</span><span class="s2">Ll</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">jl</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;default&quot;</span><span class="s1">,</span><span class="s2">Hl</span><span class="s1">=</span><span class="s0">&quot;'&quot;</span><span class="s1">,</span><span class="s2">Jl</span><span class="s1">=</span><span class="s5">1</span><span class="s1">;</span><span class="s2">function Gl</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=!</span><span class="s5">1</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Bl</span><span class="s1">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Il</span><span class="s1">=</span><span class="s0">&quot;start&quot;</span><span class="s1">,</span><span class="s2">Tl</span><span class="s1">=</span><span class="s3">[]</span><span class="s1">,</span><span class="s2">Rl</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Ml</span><span class="s1">=</span><span class="s5">1</span><span class="s1">,</span><span class="s2">Ll</span><span class="s1">=</span><span class="s5">0</span><span class="s1">,</span><span class="s2">kl</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">,</span><span class="s2">jl</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s2">do</span><span class="s4">{</span><span class="s2">_l</span><span class="s1">=</span><span class="s2">Vl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Xl</span><span class="s3">[</span><span class="s2">Il</span><span class="s3">]()</span><span class="s4">}</span><span class="s2">while</span><span class="s3">(</span><span class="s0">&quot;eof&quot;</span><span class="s1">!==</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return kl</span><span class="s4">}</span><span class="s2">function Vl</span><span class="s3">()</span><span class="s4">{</span><span class="s2">for</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;default&quot;</span><span class="s1">,</span><span class="s2">xl</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">Hl</span><span class="s1">=</span><span class="s0">&quot;'&quot;</span><span class="s1">,</span><span class="s2">Jl</span><span class="s1">=</span><span class="s5">1</span><span class="s1">;;</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Nl</span><span class="s1">=</span><span class="s2">Ul</span><span class="s3">()</span><span class="s1">;</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">zl</span><span class="s3">[</span><span class="s2">$l</span><span class="s3">]()</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s2">return e</span><span class="s4">}}</span><span class="s2">function Ul</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Bl</span><span class="s3">[</span><span class="s2">Rl</span><span class="s3">])</span><span class="s2">return String</span><span class="s1">.</span><span class="s2">fromCodePoint</span><span class="s3">(</span><span class="s2">Bl</span><span class="s1">.</span><span class="s2">codePointAt</span><span class="s3">(</span><span class="s2">Rl</span><span class="s3">))</span><span class="s4">}</span><span class="s2">function Wl</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">Ul</span><span class="s3">()</span><span class="s1">;</span><span class="s2">return</span><span class="s0">&quot;\n&quot;</span><span class="s1">===</span><span class="s2">e</span><span class="s1">?</span><span class="s3">(</span><span class="s2">Ml</span><span class="s1">++,</span><span class="s2">Ll</span><span class="s1">=</span><span class="s5">0</span><span class="s3">)</span><span class="s1">:</span><span class="s2">e</span><span class="s1">?</span><span class="s2">Ll</span><span class="s1">+=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">:</span><span class="s2">Ll</span><span class="s1">++,</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">Rl</span><span class="s1">+=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}</span><span class="s2">X</span><span class="s1">.</span><span class="s2">parseJsonFile</span><span class="s1">=</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=!</span><span class="s5">1</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s0">&quot;utf-8&quot;</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">vl</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">readFileSync</span><span class="s3">(</span><span class="s2">Sl</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s4">{</span><span class="s2">encoding</span><span class="s1">:</span><span class="s2">n</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">return Gl</span><span class="s3">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t instanceof SyntaxError</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">split</span><span class="s3">(</span><span class="s0">&quot;at&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s5">2</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&amp;&amp;</span><span class="s2">Ol</span><span class="s1">.</span><span class="s2">errorMessageExit</span><span class="s3">(</span><span class="s0">`</span><span class="s4">${</span><span class="s2">n</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">.</span><span class="s2">trim</span><span class="s3">()</span><span class="s4">}${</span><span class="s2">wl</span><span class="s1">.</span><span class="s2">default</span><span class="s1">.</span><span class="s2">EOL</span><span class="s4">}</span><span class="s0">\t at </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">:</span><span class="s4">${</span><span class="s2">n</span><span class="s3">[</span><span class="s5">1</span><span class="s3">]</span><span class="s1">.</span><span class="s2">trim</span><span class="s3">()</span><span class="s4">}</span><span class="s0">`</span><span class="s3">)</span><span class="s4">}</span><span class="s2">Ol</span><span class="s1">.</span><span class="s2">errorMessageExit</span><span class="s3">(</span><span class="s0">`</span><span class="s4">${</span><span class="s2">e</span><span class="s4">} </span><span class="s0">is not in valid JSON/JSON5 format.`</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">X</span><span class="s1">.</span><span class="s2">parseJsonText</span><span class="s1">=</span><span class="s2">Gl</span><span class="s1">;</span><span class="s2">const zl</span><span class="s1">=</span><span class="s4">{</span><span class="s2">default</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;/&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;comment&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case void </span><span class="s5">0</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Kl</span><span class="s3">(</span><span class="s0">&quot;eof&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isIgnoreChar</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s1">&amp;&amp;!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isSpaceSeparator</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return zl</span><span class="s3">[</span><span class="s2">Il</span><span class="s3">]()</span><span class="s1">;</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">start</span><span class="s3">()</span><span class="s4">{</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;value&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">beforePropertyName</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;$&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;_&quot;</span><span class="s1">:</span><span class="s2">return xl</span><span class="s1">=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;identifierName&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;\\&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;identifierNameStartEscape&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;}&quot;</span><span class="s1">:</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;punctuator&quot;</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">case</span><span class="s0">'&quot;'</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;'&quot;</span><span class="s1">:</span><span class="s2">return Hl</span><span class="s1">=</span><span class="s2">Nl</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;string&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isIdStartChar</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;identifierName&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">afterPropertyName</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;:&quot;</span><span class="s1">===</span><span class="s2">Nl</span><span class="s3">)</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;punctuator&quot;</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">beforePropertyValue</span><span class="s3">()</span><span class="s4">{</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;value&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">afterPropertyValue</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;,&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;}&quot;</span><span class="s1">:</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;punctuator&quot;</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">beforeArrayValue</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;]&quot;</span><span class="s1">===</span><span class="s2">Nl</span><span class="s3">)</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;punctuator&quot;</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;value&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">afterArrayValue</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;,&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;]&quot;</span><span class="s1">:</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;punctuator&quot;</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">end</span><span class="s3">()</span><span class="s4">{</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">comment</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;*&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;multiLineComment&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;/&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;singleLineComment&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">multiLineComment</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;*&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;multiLineCommentAsterisk&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case void </span><span class="s5">0</span><span class="s1">:</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">multiLineCommentAsterisk</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;*&quot;</span><span class="s1">:</span><span class="s2">return void Wl</span><span class="s3">()</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;/&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;default&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case void </span><span class="s5">0</span><span class="s1">:</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;multiLineComment&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">singleLineComment</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;\n&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;\r&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;\u2028&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;\u2029&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;default&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case void </span><span class="s5">0</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Kl</span><span class="s3">(</span><span class="s0">&quot;eof&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">value</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;{&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;[&quot;</span><span class="s1">:</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;punctuator&quot;</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;n&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">ql</span><span class="s3">(</span><span class="s0">&quot;ull&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Kl</span><span class="s3">(</span><span class="s0">&quot;null&quot;</span><span class="s1">,</span><span class="s2">null</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;t&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">ql</span><span class="s3">(</span><span class="s0">&quot;rue&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Kl</span><span class="s3">(</span><span class="s0">&quot;boolean&quot;</span><span class="s1">,!</span><span class="s5">0</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;f&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">ql</span><span class="s3">(</span><span class="s0">&quot;alse&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Kl</span><span class="s3">(</span><span class="s0">&quot;boolean&quot;</span><span class="s1">,!</span><span class="s5">1</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;-&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;+&quot;</span><span class="s1">:</span><span class="s2">return</span><span class="s0">&quot;-&quot;</span><span class="s1">===</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">Jl</span><span class="s1">=-</span><span class="s5">1</span><span class="s3">)</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;numerical&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;.&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;0&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;I&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;N&quot;</span><span class="s1">:</span><span class="s2">return void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;numerical&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">'&quot;'</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;'&quot;</span><span class="s1">:</span><span class="s2">return Hl</span><span class="s1">=</span><span class="s2">Nl</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">xl</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;string&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">Nl</span><span class="s1">||!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isDigitWithoutZero</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;numerical&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">numerical</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;.&quot;</span><span class="s1">:</span><span class="s2">return xl</span><span class="s1">=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimalPointLeading&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;0&quot;</span><span class="s1">:</span><span class="s2">return xl</span><span class="s1">=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;zero&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;I&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">ql</span><span class="s3">(</span><span class="s0">&quot;nfinity&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Kl</span><span class="s3">(</span><span class="s0">&quot;numeric&quot;</span><span class="s1">,</span><span class="s2">Jl</span><span class="s1">*</span><span class="s3">(</span><span class="s5">1</span><span class="s1">/</span><span class="s5">0</span><span class="s3">))</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;N&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">ql</span><span class="s3">(</span><span class="s0">&quot;aN&quot;</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Kl</span><span class="s3">(</span><span class="s0">&quot;numeric&quot;</span><span class="s1">,</span><span class="s2">NaN</span><span class="s3">)</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">void </span><span class="s5">0</span><span class="s1">!==</span><span class="s2">Nl</span><span class="s1">&amp;&amp;</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isDigitWithoutZero</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return xl</span><span class="s1">=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimalInteger&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">zero</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;.&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;e&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;E&quot;</span><span class="s1">:</span><span class="s2">return void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimal&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;x&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;X&quot;</span><span class="s1">:</span><span class="s2">return xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;hexadecimal&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;numeric&quot;</span><span class="s1">,</span><span class="s5">0</span><span class="s3">)</span><span class="s4">}</span><span class="s1">,</span><span class="s2">decimalInteger</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;.&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;e&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;E&quot;</span><span class="s1">:</span><span class="s2">return void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimal&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isDigit</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;numeric&quot;</span><span class="s1">,</span><span class="s2">Jl</span><span class="s1">*</span><span class="s2">Number</span><span class="s3">(</span><span class="s2">xl</span><span class="s3">))</span><span class="s1">;</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">decimal</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;.&quot;</span><span class="s1">:</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimalFraction&quot;</span><span class="s1">;</span><span class="s2">break</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;e&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;E&quot;</span><span class="s1">:</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimalExponent&quot;</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">decimalPointLeading</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isDigit</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimalFraction&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">decimalFraction</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;e&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;E&quot;</span><span class="s1">:</span><span class="s2">return xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimalExponent&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isDigit</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;numeric&quot;</span><span class="s1">,</span><span class="s2">Jl</span><span class="s1">*</span><span class="s2">Number</span><span class="s3">(</span><span class="s2">xl</span><span class="s3">))</span><span class="s1">;</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">decimalExponent</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;+&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;-&quot;</span><span class="s1">:</span><span class="s2">return xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimalExponentSign&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isDigit</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimalExponentInteger&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">decimalExponentSign</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isDigit</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;decimalExponentInteger&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">decimalExponentInteger</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isDigit</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;numeric&quot;</span><span class="s1">,</span><span class="s2">Jl</span><span class="s1">*</span><span class="s2">Number</span><span class="s3">(</span><span class="s2">xl</span><span class="s3">))</span><span class="s1">;</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">hexadecimal</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isHexDigit</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;hexadecimalInteger&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s4">}</span><span class="s1">,</span><span class="s2">hexadecimalInteger</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isHexDigit</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;numeric&quot;</span><span class="s1">,</span><span class="s2">Jl</span><span class="s1">*</span><span class="s2">Number</span><span class="s3">(</span><span class="s2">xl</span><span class="s3">))</span><span class="s1">;</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">identifierNameStartEscape</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;u&quot;</span><span class="s1">!==</span><span class="s2">Nl</span><span class="s3">)</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">;</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">Yl</span><span class="s3">()</span><span class="s1">;</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;$&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;_&quot;</span><span class="s1">:</span><span class="s2">break</span><span class="s1">;</span><span class="s2">default</span><span class="s1">:</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isIdStartChar</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Identifier</span><span class="s3">)</span><span class="s4">}</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;identifierName&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">identifierName</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;$&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;_&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;‌&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;‍&quot;</span><span class="s1">:</span><span class="s2">return void</span><span class="s3">(</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;\\&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;identifierNameEscape&quot;</span><span class="s3">)</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isIdContinueChar</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">))</span><span class="s2">return Kl</span><span class="s3">(</span><span class="s0">&quot;identifier&quot;</span><span class="s1">,</span><span class="s2">xl</span><span class="s3">)</span><span class="s1">;</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">identifierNameEscape</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;u&quot;</span><span class="s1">!==</span><span class="s2">Nl</span><span class="s3">)</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">;</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">Yl</span><span class="s3">()</span><span class="s1">;</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;$&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;_&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;‌&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;‍&quot;</span><span class="s1">:</span><span class="s2">break</span><span class="s1">;</span><span class="s2">default</span><span class="s1">:</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isIdContinueChar</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Identifier</span><span class="s3">)</span><span class="s4">}</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">e</span><span class="s1">,</span><span class="s2">$l</span><span class="s1">=</span><span class="s0">&quot;identifierName&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">string</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;\\&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">Ul</span><span class="s3">()</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">Ul</span><span class="s3">())</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;b&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;\b&quot;</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;f&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;\f&quot;</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;n&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;\n&quot;</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;r&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;\r&quot;</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;t&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;\t&quot;</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;v&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;\v&quot;</span><span class="s4">}</span><span class="s2">return</span><span class="s4">}</span><span class="s3">()</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s2">return t</span><span class="s1">;</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;0&quot;</span><span class="s1">:</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isDigit</span><span class="s3">(</span><span class="s2">Ul</span><span class="s3">()))</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">return</span><span class="s0">&quot;\0&quot;</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;x&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">let e</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">Ul</span><span class="s3">()</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isHexDigit</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s2">Ul</span><span class="s3">()</span><span class="s1">,!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isHexDigit</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">return e</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">String</span><span class="s1">.</span><span class="s2">fromCodePoint</span><span class="s3">(</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">16</span><span class="s3">))</span><span class="s4">}</span><span class="s3">()</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;u&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Yl</span><span class="s3">()</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;\n&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;\u2028&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;\u2029&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;\r&quot;</span><span class="s1">:</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;\n&quot;</span><span class="s1">===</span><span class="s2">Ul</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">e</span><span class="s1">||</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isDigitWithoutZero</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s4">}</span><span class="s3">())</span><span class="s1">;</span><span class="s2">case</span><span class="s0">'&quot;'</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;'&quot;</span><span class="s1">:</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Nl</span><span class="s1">===</span><span class="s2">Hl</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">Kl</span><span class="s3">(</span><span class="s0">&quot;string&quot;</span><span class="s1">,</span><span class="s2">xl</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return Wl</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s4">}</span><span class="s2">return void</span><span class="s3">(</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;\n&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;\r&quot;</span><span class="s1">:</span><span class="s2">case void </span><span class="s5">0</span><span class="s1">:</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;\u2028&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;\u2029&quot;</span><span class="s1">:!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Ol</span><span class="s1">.</span><span class="s2">warn</span><span class="s3">(</span><span class="s0">`JSON5: '</span><span class="s4">${</span><span class="s2">ef</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s0">' in strings is not valid ECMAScript; consider escaping.`</span><span class="s3">)</span><span class="s4">}</span><span class="s3">(</span><span class="s2">Nl</span><span class="s3">)</span><span class="s4">}</span><span class="s2">xl</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}}</span><span class="s1">;</span><span class="s2">function Kl</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return</span><span class="s4">{</span><span class="s2">type</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">value</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">line</span><span class="s1">:</span><span class="s2">Ml</span><span class="s1">,</span><span class="s2">column</span><span class="s1">:</span><span class="s2">Ll</span><span class="s4">}}</span><span class="s2">function ql</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">for</span><span class="s3">(</span><span class="s2">const t of e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">Ul</span><span class="s3">()</span><span class="s1">!==</span><span class="s2">t</span><span class="s3">)</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}}</span><span class="s2">function Yl</span><span class="s3">()</span><span class="s4">{</span><span class="s2">let e</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">=</span><span class="s5">4</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s1">;</span><span class="s2">t</span><span class="s1">-- &gt;</span><span class="s5">0</span><span class="s1">;</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">Ul</span><span class="s3">()</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s2">Al</span><span class="s1">.</span><span class="s2">JudgeUtil</span><span class="s1">.</span><span class="s2">isHexDigit</span><span class="s3">(</span><span class="s2">t</span><span class="s3">))</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">,</span><span class="s2">Wl</span><span class="s3">())</span><span class="s1">;</span><span class="s2">e</span><span class="s1">+=</span><span class="s2">Wl</span><span class="s3">()</span><span class="s4">}</span><span class="s2">return String</span><span class="s1">.</span><span class="s2">fromCodePoint</span><span class="s3">(</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s5">16</span><span class="s3">))</span><span class="s4">}</span><span class="s2">const Xl</span><span class="s1">=</span><span class="s4">{</span><span class="s2">start</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;eof&quot;</span><span class="s1">===</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">EOF</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Zl</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">beforePropertyName</span><span class="s3">()</span><span class="s4">{</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;identifier&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;string&quot;</span><span class="s1">:</span><span class="s2">return Pl</span><span class="s1">=</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">value</span><span class="s1">,</span><span class="s2">void</span><span class="s3">(</span><span class="s2">Il</span><span class="s1">=</span><span class="s0">&quot;afterPropertyName&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;punctuator&quot;</span><span class="s1">:</span><span class="s2">return void Ql</span><span class="s3">()</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;eof&quot;</span><span class="s1">:</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">EOF</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">afterPropertyName</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;eof&quot;</span><span class="s1">===</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">EOF</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Il</span><span class="s1">=</span><span class="s0">&quot;beforePropertyValue&quot;</span><span class="s4">}</span><span class="s1">,</span><span class="s2">beforePropertyValue</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;eof&quot;</span><span class="s1">===</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">EOF</span><span class="s3">)</span><span class="s1">;</span><span class="s2">Zl</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">afterPropertyValue</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;eof&quot;</span><span class="s1">===</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">EOF</span><span class="s3">)</span><span class="s1">;</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">value</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;,&quot;</span><span class="s1">:</span><span class="s2">return void</span><span class="s3">(</span><span class="s2">Il</span><span class="s1">=</span><span class="s0">&quot;beforePropertyName&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;}&quot;</span><span class="s1">:</span><span class="s2">Ql</span><span class="s3">()</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">beforeArrayValue</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;eof&quot;</span><span class="s1">===</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">EOF</span><span class="s3">)</span><span class="s1">;</span><span class="s0">&quot;punctuator&quot;</span><span class="s1">!==</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">type</span><span class="s1">||</span><span class="s0">&quot;]&quot;</span><span class="s1">!==</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">value</span><span class="s1">?</span><span class="s2">Zl</span><span class="s3">()</span><span class="s1">:</span><span class="s2">Ql</span><span class="s3">()</span><span class="s4">}</span><span class="s1">,</span><span class="s2">afterArrayValue</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s0">&quot;eof&quot;</span><span class="s1">===</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s2">throw tf</span><span class="s3">(</span><span class="s2">bl</span><span class="s1">.</span><span class="s2">EOF</span><span class="s3">)</span><span class="s1">;</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">value</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;,&quot;</span><span class="s1">:</span><span class="s2">return void</span><span class="s3">(</span><span class="s2">Il</span><span class="s1">=</span><span class="s0">&quot;beforeArrayValue&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;]&quot;</span><span class="s1">:</span><span class="s2">Ql</span><span class="s3">()</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">end</span><span class="s3">()</span><span class="s4">{}}</span><span class="s1">;</span><span class="s2">function Zl</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">let e</span><span class="s1">;</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">type</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;punctuator&quot;</span><span class="s1">:</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">value</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case</span><span class="s0">&quot;{&quot;</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">break</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;[&quot;</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=</span><span class="s3">[]</span><span class="s4">}</span><span class="s2">break</span><span class="s1">;</span><span class="s2">case</span><span class="s0">&quot;null&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;boolean&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;numeric&quot;</span><span class="s1">:</span><span class="s2">case</span><span class="s0">&quot;string&quot;</span><span class="s1">:</span><span class="s2">e</span><span class="s1">=</span><span class="s2">_l</span><span class="s1">.</span><span class="s2">value</span><span class="s4">}</span><span class="s2">return e</span><span class="s4">}</span><span class="s3">()</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">jl</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">_line</span><span class="s1">=</span><span class="s2">Ml</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">_column</span><span class="s1">=</span><span class="s2">Ll</span><span class="s3">)</span><span class="s1">,</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">kl</span><span class="s3">)</span><span class="s2">kl</span><span class="s1">=</span><span class="s2">e</span><span class="s1">;</span><span class="s2">else</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">Tl</span><span class="s3">[</span><span class="s2">Tl</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">]</span><span class="s1">;</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">?</span><span class="s2">jl</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof e</span><span class="s1">?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">_line</span><span class="s1">:</span><span class="s2">Ml</span><span class="s1">,</span><span class="s2">_column</span><span class="s1">:</span><span class="s2">Ll</span><span class="s4">}</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">:</span><span class="s2">t</span><span class="s3">[</span><span class="s2">Pl</span><span class="s3">]</span><span class="s1">=</span><span class="s2">jl</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;object&quot;</span><span class="s1">!=</span><span class="s2">typeof e</span><span class="s1">?</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">_line</span><span class="s1">:</span><span class="s2">Ml</span><span class="s1">,</span><span class="s2">_column</span><span class="s1">:</span><span class="s2">Ll</span><span class="s4">}</span><span class="s1">:</span><span class="s2">e</span><span class="s4">}</span><span class="s1">!</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof e</span><span class="s3">)</span><span class="s2">Tl</span><span class="s1">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Il</span><span class="s1">=</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">?</span><span class="s0">&quot;beforeArrayValue&quot;</span><span class="s1">:</span><span class="s0">&quot;beforePropertyName&quot;</span><span class="s1">;</span><span class="s2">else</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">Tl</span><span class="s3">[</span><span class="s2">Tl</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">]</span><span class="s1">;</span><span class="s2">Il</span><span class="s1">=</span><span class="s2">e</span><span class="s1">?</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">?</span><span class="s0">&quot;afterArrayValue&quot;</span><span class="s1">:</span><span class="s0">&quot;afterPropertyValue&quot;</span><span class="s1">:</span><span class="s0">&quot;end&quot;</span><span class="s4">}}</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function Ql</span><span class="s3">()</span><span class="s4">{</span><span class="s2">Tl</span><span class="s1">.</span><span class="s2">pop</span><span class="s3">()</span><span class="s1">;</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">Tl</span><span class="s3">[</span><span class="s2">Tl</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s5">1</span><span class="s3">]</span><span class="s1">;</span><span class="s2">Il</span><span class="s1">=</span><span class="s2">e</span><span class="s1">?</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">?</span><span class="s0">&quot;afterArrayValue&quot;</span><span class="s1">:</span><span class="s0">&quot;afterPropertyValue&quot;</span><span class="s1">:</span><span class="s0">&quot;end&quot;</span><span class="s4">}</span><span class="s2">function ef</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s4">{</span><span class="s0">&quot;'&quot;</span><span class="s1">:</span><span class="s0">&quot;\\'&quot;</span><span class="s1">,</span><span class="s0">'&quot;'</span><span class="s1">:</span><span class="s0">'\\&quot;'</span><span class="s1">,</span><span class="s0">&quot;\\&quot;</span><span class="s1">:</span><span class="s0">&quot;\\\\&quot;</span><span class="s1">,</span><span class="s0">&quot;\b&quot;</span><span class="s1">:</span><span class="s0">&quot;\\b&quot;</span><span class="s1">,</span><span class="s0">&quot;\f&quot;</span><span class="s1">:</span><span class="s0">&quot;\\f&quot;</span><span class="s1">,</span><span class="s0">&quot;\n&quot;</span><span class="s1">:</span><span class="s0">&quot;\\n&quot;</span><span class="s1">,</span><span class="s0">&quot;\r&quot;</span><span class="s1">:</span><span class="s0">&quot;\\r&quot;</span><span class="s1">,</span><span class="s0">&quot;\t&quot;</span><span class="s1">:</span><span class="s0">&quot;\\t&quot;</span><span class="s1">,</span><span class="s0">&quot;\v&quot;</span><span class="s1">:</span><span class="s0">&quot;\\v&quot;</span><span class="s1">,</span><span class="s0">&quot;\0&quot;</span><span class="s1">:</span><span class="s0">&quot;\\0&quot;</span><span class="s1">,</span><span class="s0">&quot;\u2028&quot;</span><span class="s1">:</span><span class="s0">&quot;\\u2028&quot;</span><span class="s1">,</span><span class="s0">&quot;\u2029&quot;</span><span class="s1">:</span><span class="s0">&quot;\\u2029&quot;</span><span class="s4">}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s2">e</span><span class="s3">])</span><span class="s2">return t</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&lt;</span><span class="s0">&quot; &quot;</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">charCodeAt</span><span class="s3">(</span><span class="s5">0</span><span class="s3">)</span><span class="s1">.</span><span class="s2">toString</span><span class="s3">(</span><span class="s5">16</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return</span><span class="s0">`\\x</span><span class="s4">${</span><span class="s0">`00</span><span class="s4">${</span><span class="s2">t</span><span class="s4">}</span><span class="s0">`</span><span class="s1">.</span><span class="s2">substring</span><span class="s3">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s4">}</span><span class="s0">`</span><span class="s4">}</span><span class="s2">return e</span><span class="s4">}</span><span class="s2">function tf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">let n</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s2">switch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">case bl</span><span class="s1">.</span><span class="s2">Char</span><span class="s1">:</span><span class="s2">n</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">t</span><span class="s1">?</span><span class="s0">`JSON5: invalid end of input at </span><span class="s4">${</span><span class="s2">Ml</span><span class="s4">}</span><span class="s0">:</span><span class="s4">${</span><span class="s2">Ll</span><span class="s4">}</span><span class="s0">`</span><span class="s1">:</span><span class="s0">`JSON5: invalid character '</span><span class="s4">${</span><span class="s2">ef</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s0">' at </span><span class="s4">${</span><span class="s2">Ml</span><span class="s4">}</span><span class="s0">:</span><span class="s4">${</span><span class="s2">Ll</span><span class="s4">}</span><span class="s0">`</span><span class="s1">;</span><span class="s2">break</span><span class="s1">;</span><span class="s2">case bl</span><span class="s1">.</span><span class="s2">EOF</span><span class="s1">:</span><span class="s2">n</span><span class="s1">=</span><span class="s0">`JSON5: invalid end of input at </span><span class="s4">${</span><span class="s2">Ml</span><span class="s4">}</span><span class="s0">:</span><span class="s4">${</span><span class="s2">Ll</span><span class="s4">}</span><span class="s0">`</span><span class="s1">;</span><span class="s2">break</span><span class="s1">;</span><span class="s2">case bl</span><span class="s1">.</span><span class="s2">Identifier</span><span class="s1">:</span><span class="s2">Ll</span><span class="s1">-=</span><span class="s5">5</span><span class="s1">,</span><span class="s2">n</span><span class="s1">=</span><span class="s0">`JSON5: invalid identifier character at </span><span class="s4">${</span><span class="s2">Ml</span><span class="s4">}</span><span class="s0">:</span><span class="s4">${</span><span class="s2">Ll</span><span class="s4">}</span><span class="s0">`</span><span class="s4">}</span><span class="s2">const r</span><span class="s1">=</span><span class="s2">new nf</span><span class="s3">(</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return r</span><span class="s1">.</span><span class="s2">lineNumber</span><span class="s1">=</span><span class="s2">Ml</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">columnNumber</span><span class="s1">=</span><span class="s2">Ll</span><span class="s1">,</span><span class="s2">r</span><span class="s4">}</span><span class="s2">class nf extends SyntaxError</span><span class="s4">{}</span><span class="s2">var rf</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__createBinding</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s1">&amp;&amp;!</span><span class="s3">(</span><span class="s0">&quot;get&quot;</span><span class="s2">in u</span><span class="s1">?!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">writable</span><span class="s1">||</span><span class="s2">u</span><span class="s1">.</span><span class="s2">configurable</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">uf</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__setModuleDefault</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;default&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">value</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">default</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">of</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importStar</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">var t</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">null</span><span class="s1">!=</span><span class="s2">e</span><span class="s3">)</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var n in e</span><span class="s3">)</span><span class="s0">&quot;default&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">rf</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return uf</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">Y</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var sf</span><span class="s1">=</span><span class="s2">Y</span><span class="s1">.</span><span class="s2">cleanWorkSpace</span><span class="s1">=</span><span class="s2">Ff</span><span class="s1">=</span><span class="s2">Y</span><span class="s1">.</span><span class="s2">executeInstallHvigor</span><span class="s1">=</span><span class="s2">yf</span><span class="s1">=</span><span class="s2">Y</span><span class="s1">.</span><span class="s2">isHvigorInstalled</span><span class="s1">=</span><span class="s2">mf</span><span class="s1">=</span><span class="s2">Y</span><span class="s1">.</span><span class="s2">isAllDependenciesInstalled</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const cf</span><span class="s1">=</span><span class="s2">of</span><span class="s3">(</span><span class="s2">D</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">af</span><span class="s1">=</span><span class="s2">of</span><span class="s3">(</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">lf</span><span class="s1">=</span><span class="s2">b</span><span class="s1">,</span><span class="s2">ff</span><span class="s1">=</span><span class="s2">j</span><span class="s1">,</span><span class="s2">df</span><span class="s1">=</span><span class="s2">$</span><span class="s1">,</span><span class="s2">Df</span><span class="s1">=</span><span class="s2">X</span><span class="s1">;</span><span class="s2">let pf</span><span class="s1">,</span><span class="s2">Ef</span><span class="s1">;</span><span class="s2">var mf</span><span class="s1">=</span><span class="s2">Y</span><span class="s1">.</span><span class="s2">isAllDependenciesInstalled</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">function e</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">null</span><span class="s1">==</span><span class="s2">e</span><span class="s1">?</span><span class="s2">void </span><span class="s5">0</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">dependencies</span><span class="s1">;</span><span class="s2">return void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">t</span><span class="s1">?</span><span class="s5">0</span><span class="s1">:</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getOwnPropertyNames</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s1">.</span><span class="s2">length</span><span class="s4">}</span><span class="s2">if</span><span class="s3">(</span><span class="s2">pf</span><span class="s1">=</span><span class="s2">gf</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Ef</span><span class="s1">=</span><span class="s2">Af</span><span class="s3">()</span><span class="s1">,</span><span class="s2">e</span><span class="s3">(</span><span class="s2">pf</span><span class="s3">)</span><span class="s1">+</span><span class="s5">1</span><span class="s1">!==</span><span class="s2">e</span><span class="s3">(</span><span class="s2">Ef</span><span class="s3">))</span><span class="s2">return</span><span class="s1">!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">for</span><span class="s3">(</span><span class="s2">const e in null</span><span class="s1">==</span><span class="s2">pf</span><span class="s1">?</span><span class="s2">void </span><span class="s5">0</span><span class="s1">:</span><span class="s2">pf</span><span class="s1">.</span><span class="s2">dependencies</span><span class="s3">)</span><span class="s2">if</span><span class="s3">(</span><span class="s1">!</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">ff</span><span class="s1">.</span><span class="s2">hasNpmPackInPaths</span><span class="s3">)(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">[</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s3">])</span><span class="s1">||!</span><span class="s2">hf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">pf</span><span class="s1">,</span><span class="s2">Ef</span><span class="s3">))</span><span class="s2">return</span><span class="s1">!</span><span class="s5">1</span><span class="s1">;</span><span class="s2">return</span><span class="s1">!</span><span class="s5">0</span><span class="s4">}</span><span class="s1">;</span><span class="s2">function hf</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return void </span><span class="s5">0</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">.</span><span class="s2">dependencies</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">ff</span><span class="s1">.</span><span class="s2">offlinePluginConversion</span><span class="s3">)(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_ROOT_DIR</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">dependencies</span><span class="s3">[</span><span class="s2">e</span><span class="s3">])</span><span class="s1">===</span><span class="s2">n</span><span class="s1">.</span><span class="s2">dependencies</span><span class="s3">[</span><span class="s2">e</span><span class="s3">]</span><span class="s4">}</span><span class="s2">var yf</span><span class="s1">=</span><span class="s2">Y</span><span class="s1">.</span><span class="s2">isHvigorInstalled</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return pf</span><span class="s1">=</span><span class="s2">gf</span><span class="s3">()</span><span class="s1">,</span><span class="s2">Ef</span><span class="s1">=</span><span class="s2">Af</span><span class="s3">()</span><span class="s1">,</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">ff</span><span class="s1">.</span><span class="s2">hasNpmPackInPaths</span><span class="s3">)(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_ENGINE_PACKAGE_NAME</span><span class="s1">,</span><span class="s3">[</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s3">])</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">ff</span><span class="s1">.</span><span class="s2">offlinePluginConversion</span><span class="s3">)(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_ROOT_DIR</span><span class="s1">,</span><span class="s2">pf</span><span class="s1">.</span><span class="s2">hvigorVersion</span><span class="s3">)</span><span class="s1">===</span><span class="s2">Ef</span><span class="s1">.</span><span class="s2">dependencies</span><span class="s3">[</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_ENGINE_PACKAGE_NAME</span><span class="s3">]</span><span class="s4">}</span><span class="s1">;</span><span class="s2">const Cf</span><span class="s1">=</span><span class="s4">{</span><span class="s2">cwd</span><span class="s1">:</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s1">,</span><span class="s2">stdio</span><span class="s1">:</span><span class="s3">[</span><span class="s0">&quot;inherit&quot;</span><span class="s1">,</span><span class="s0">&quot;inherit&quot;</span><span class="s1">,</span><span class="s0">&quot;inherit&quot;</span><span class="s3">]</span><span class="s4">}</span><span class="s1">;</span><span class="s2">var Ff</span><span class="s1">=</span><span class="s2">Y</span><span class="s1">.</span><span class="s2">executeInstallHvigor</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">df</span><span class="s1">.</span><span class="s2">logInfoPrintConsole</span><span class="s3">)(</span><span class="s0">&quot;Hvigor installing...&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const e</span><span class="s1">=</span><span class="s4">{</span><span class="s2">dependencies</span><span class="s1">:</span><span class="s4">{}}</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">dependencies</span><span class="s3">[</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_ENGINE_PACKAGE_NAME</span><span class="s3">]</span><span class="s1">=</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">ff</span><span class="s1">.</span><span class="s2">offlinePluginConversion</span><span class="s3">)(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_ROOT_DIR</span><span class="s1">,</span><span class="s2">pf</span><span class="s1">.</span><span class="s2">hvigorVersion</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">cf</span><span class="s1">.</span><span class="s2">mkdirSync</span><span class="s3">(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s1">,</span><span class="s4">{</span><span class="s2">recursive</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">af</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s1">,</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">DEFAULT_PACKAGE_JSON</span><span class="s3">)</span><span class="s1">;</span><span class="s2">cf</span><span class="s1">.</span><span class="s2">writeFileSync</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">df</span><span class="s1">.</span><span class="s2">logErrorAndExit</span><span class="s3">)(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s1">!</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s3">[</span><span class="s0">&quot;config&quot;</span><span class="s1">,</span><span class="s0">&quot;set&quot;</span><span class="s1">,</span><span class="s0">&quot;store-dir&quot;</span><span class="s1">,</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PNPM_STORE_PATH</span><span class="s3">]</span><span class="s1">;</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">ff</span><span class="s1">.</span><span class="s2">executeCommand</span><span class="s3">)(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_PNPM_SCRIPT_PATH</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">Cf</span><span class="s3">)</span><span class="s4">}</span><span class="s3">()</span><span class="s1">,</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">ff</span><span class="s1">.</span><span class="s2">executeCommand</span><span class="s3">)(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_WRAPPER_PNPM_SCRIPT_PATH</span><span class="s1">,</span><span class="s3">[</span><span class="s0">&quot;install&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s2">Cf</span><span class="s3">)</span><span class="s4">}</span><span class="s1">;</span><span class="s2">function gf</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">af</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_WRAPPER_HOME</span><span class="s1">,</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">DEFAULT_HVIGOR_CONFIG_JSON_FILE_NAME</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return cf</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">df</span><span class="s1">.</span><span class="s2">logErrorAndExit</span><span class="s3">)(</span><span class="s0">`Error: Hvigor config file </span><span class="s4">${</span><span class="s2">e</span><span class="s4">} </span><span class="s0">does not exist.`</span><span class="s3">)</span><span class="s1">,</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Df</span><span class="s1">.</span><span class="s2">parseJsonFile</span><span class="s3">)(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">}</span><span class="s2">function Af</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return cf</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCY_PACKAGE_JSON_PATH</span><span class="s3">)</span><span class="s1">?</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">Df</span><span class="s1">.</span><span class="s2">parseJsonFile</span><span class="s3">)(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCY_PACKAGE_JSON_PATH</span><span class="s3">)</span><span class="s1">:</span><span class="s4">{</span><span class="s2">dependencies</span><span class="s1">:</span><span class="s4">{}}}</span><span class="s2">sf</span><span class="s1">=</span><span class="s2">Y</span><span class="s1">.</span><span class="s2">cleanWorkSpace</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">((</span><span class="s5">0</span><span class="s1">,</span><span class="s2">df</span><span class="s1">.</span><span class="s2">logInfoPrintConsole</span><span class="s3">)(</span><span class="s0">&quot;Hvigor cleaning...&quot;</span><span class="s3">)</span><span class="s1">,!</span><span class="s2">cf</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s3">))</span><span class="s2">return</span><span class="s1">;</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">cf</span><span class="s1">.</span><span class="s2">readdirSync</span><span class="s3">(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s3">)</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s5">0</span><span class="s1">!==</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s3">)</span><span class="s4">{</span><span class="s2">cf</span><span class="s1">.</span><span class="s2">existsSync</span><span class="s3">(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_BOOT_JS_FILE_PATH</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">ff</span><span class="s1">.</span><span class="s2">executeCommand</span><span class="s3">)(</span><span class="s2">process</span><span class="s1">.</span><span class="s2">argv</span><span class="s3">[</span><span class="s5">0</span><span class="s3">]</span><span class="s1">,</span><span class="s3">[</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_BOOT_JS_FILE_PATH</span><span class="s1">,</span><span class="s0">&quot;--stop-daemon&quot;</span><span class="s3">]</span><span class="s1">,</span><span class="s4">{}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">forEach</span><span class="s3">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">{</span><span class="s2">cf</span><span class="s1">.</span><span class="s2">rmSync</span><span class="s3">(</span><span class="s2">af</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s4">{</span><span class="s2">recursive</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s3">))</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">df</span><span class="s1">.</span><span class="s2">logErrorAndExit</span><span class="s3">)(</span><span class="s0">`The hvigor build tool cannot be installed. Please manually clear the workspace directory and synchronize the project again.\n\n      Workspace Path: </span><span class="s4">${</span><span class="s2">lf</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s4">}</span><span class="s0">.`</span><span class="s3">)</span><span class="s4">}}}</span><span class="s1">;</span><span class="s2">var vf</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">,</span><span class="s2">Sf</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__createBinding</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var u</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">u</span><span class="s1">&amp;&amp;!</span><span class="s3">(</span><span class="s0">&quot;get&quot;</span><span class="s2">in u</span><span class="s1">?!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">writable</span><span class="s1">||</span><span class="s2">u</span><span class="s1">.</span><span class="s2">configurable</span><span class="s3">)</span><span class="s1">||</span><span class="s3">(</span><span class="s2">u</span><span class="s1">=</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">get</span><span class="s1">:</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">return t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">u</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">r</span><span class="s3">)</span><span class="s4">{</span><span class="s2">void </span><span class="s5">0</span><span class="s1">===</span><span class="s2">r</span><span class="s1">&amp;&amp;</span><span class="s3">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s3">)</span><span class="s1">,</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]</span><span class="s1">=</span><span class="s2">t</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">wf</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__setModuleDefault</span><span class="s1">||</span><span class="s3">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">?</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;default&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">enumerable</span><span class="s1">:!</span><span class="s5">0</span><span class="s1">,</span><span class="s2">value</span><span class="s1">:</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s4">}</span><span class="s1">:</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">default</span><span class="s1">=</span><span class="s2">t</span><span class="s4">}</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Of</span><span class="s1">=</span><span class="s2">w</span><span class="s1">&amp;&amp;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">__importStar</span><span class="s1">||</span><span class="s2">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">e</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">__esModule</span><span class="s3">)</span><span class="s2">return e</span><span class="s1">;</span><span class="s2">var t</span><span class="s1">=</span><span class="s4">{}</span><span class="s1">;</span><span class="s2">if</span><span class="s3">(</span><span class="s2">null</span><span class="s1">!=</span><span class="s2">e</span><span class="s3">)</span><span class="s2">for</span><span class="s3">(</span><span class="s2">var n in e</span><span class="s3">)</span><span class="s0">&quot;default&quot;</span><span class="s1">!==</span><span class="s2">n</span><span class="s1">&amp;&amp;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">&amp;&amp;</span><span class="s2">Sf</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s3">)</span><span class="s1">;</span><span class="s2">return wf</span><span class="s3">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s3">)</span><span class="s1">,</span><span class="s2">t</span><span class="s4">}</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">vf</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,</span><span class="s4">{</span><span class="s2">value</span><span class="s1">:!</span><span class="s5">0</span><span class="s4">}</span><span class="s3">)</span><span class="s1">;</span><span class="s2">var bf</span><span class="s1">=</span><span class="s2">vf</span><span class="s1">.</span><span class="s2">executeBuild</span><span class="s1">=</span><span class="s2">void </span><span class="s5">0</span><span class="s1">;</span><span class="s2">const _f</span><span class="s1">=</span><span class="s2">b</span><span class="s1">,</span><span class="s2">Bf</span><span class="s1">=</span><span class="s2">Of</span><span class="s3">(</span><span class="s2">D</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">Pf</span><span class="s1">=</span><span class="s2">Of</span><span class="s3">(</span><span class="s2">p</span><span class="s1">.</span><span class="s2">default</span><span class="s3">)</span><span class="s1">,</span><span class="s2">kf</span><span class="s1">=</span><span class="s2">$</span><span class="s1">;</span><span class="s2">bf</span><span class="s1">=</span><span class="s2">vf</span><span class="s1">.</span><span class="s2">executeBuild</span><span class="s1">=</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">const e</span><span class="s1">=</span><span class="s2">Pf</span><span class="s1">.</span><span class="s2">resolve</span><span class="s3">(</span><span class="s2">_f</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s1">,</span><span class="s0">&quot;node_modules&quot;</span><span class="s1">,</span><span class="s0">&quot;@ohos&quot;</span><span class="s1">,</span><span class="s0">&quot;hvigor&quot;</span><span class="s1">,</span><span class="s0">&quot;bin&quot;</span><span class="s1">,</span><span class="s0">&quot;hvigor.js&quot;</span><span class="s3">)</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">const t</span><span class="s1">=</span><span class="s2">Bf</span><span class="s1">.</span><span class="s2">realpathSync</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s1">;</span><span class="s2">require</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)</span><span class="s4">{</span><span class="s3">(</span><span class="s5">0</span><span class="s1">,</span><span class="s2">kf</span><span class="s1">.</span><span class="s2">logErrorAndExit</span><span class="s3">)(</span><span class="s0">`Error: ENOENT: no such file </span><span class="s4">${</span><span class="s2">e</span><span class="s4">}</span><span class="s0">,delete </span><span class="s4">${</span><span class="s2">_f</span><span class="s1">.</span><span class="s2">HVIGOR_PROJECT_DEPENDENCIES_HOME</span><span class="s4">} </span><span class="s0">and retry.`</span><span class="s3">)</span><span class="s4">}}</span><span class="s1">,</span><span class="s2">function</span><span class="s3">()</span><span class="s4">{</span><span class="s2">if</span><span class="s3">(</span><span class="s2">O</span><span class="s1">.</span><span class="s2">checkNpmConifg</span><span class="s3">()</span><span class="s1">,</span><span class="s2">O</span><span class="s1">.</span><span class="s2">environmentHandler</span><span class="s3">()</span><span class="s1">,</span><span class="s2">O</span><span class="s1">.</span><span class="s2">isPnpmAvailable</span><span class="s3">()</span><span class="s1">||</span><span class="s2">O</span><span class="s1">.</span><span class="s2">executeInstallPnpm</span><span class="s3">()</span><span class="s1">,</span><span class="s2">yf</span><span class="s3">()</span><span class="s1">&amp;&amp;</span><span class="s2">mf</span><span class="s3">())</span><span class="s2">bf</span><span class="s3">()</span><span class="s1">;</span><span class="s2">else</span><span class="s4">{</span><span class="s2">sf</span><span class="s3">()</span><span class="s1">;</span><span class="s2">try</span><span class="s4">{</span><span class="s2">Ff</span><span class="s3">()</span><span class="s4">}</span><span class="s2">catch</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)</span><span class="s4">{</span><span class="s2">return void sf</span><span class="s3">()</span><span class="s4">}</span><span class="s2">bf</span><span class="s3">()</span><span class="s4">}}</span><span class="s3">()</span><span class="s1">;</span></pre>
</body>
</html>